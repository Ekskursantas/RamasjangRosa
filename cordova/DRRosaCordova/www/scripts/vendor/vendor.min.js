!function(t,e,i){function n(t,e){return typeof t===e}function a(){var t,e,i,a,s,r,o;for(var l in v)if(v.hasOwnProperty(l)){if(t=[],e=v[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(a=n(e.fn,"function")?e.fn():e.fn,s=0;s<t.length;s++)r=t[s],o=r.split("."),1===o.length?D[o[0]]=a:(!D[o[0]]||D[o[0]]instanceof Boolean||(D[o[0]]=new Boolean(D[o[0]])),D[o[0]][o[1]]=a),g.push((a?"":"no-")+o.join("-"))}}function s(t){var e=T.className,i=D._config.classPrefix||"";if(b&&(e=e.baseVal),D._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}D._config.enableClasses&&(e+=" "+i+t.join(" "+i),b?T.className.baseVal=e:T.className=e)}function r(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):b?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function o(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function l(t,e){if("object"==typeof t)for(var i in t)E(t,i)&&l(i,t[i]);else{t=t.toLowerCase();var n=t.split("."),a=D[n[0]];if(2==n.length&&(a=a[n[1]]),"undefined"!=typeof a)return D;e="function"==typeof e?e():e,1==n.length?D[n[0]]=e:(!D[n[0]]||D[n[0]]instanceof Boolean||(D[n[0]]=new Boolean(D[n[0]])),D[n[0]][n[1]]=e),s([(e&&0!=e?"":"no-")+n.join("-")]),D._trigger(t,e)}return D}function h(){var t=e.body;return t||(t=r(b?"svg":"body"),t.fake=!0),t}function u(t,i,n,a){var s,o,l,u,A="modernizr",_=r("div"),c=h();if(parseInt(n,10))for(;n--;)l=r("div"),l.id=a?a[n]:A+(n+1),_.appendChild(l);return s=r("style"),s.type="text/css",s.id="s"+A,(c.fake?c:_).appendChild(s),c.appendChild(_),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(e.createTextNode(t)),_.id=A,c.fake&&(c.style.background="",c.style.overflow="hidden",u=T.style.overflow,T.style.overflow="hidden",T.appendChild(c)),o=i(_,t),c.fake?(c.parentNode.removeChild(c),T.style.overflow=u,T.offsetHeight):_.parentNode.removeChild(_),!!o}function A(t,e){return!!~(""+t).indexOf(e)}function _(t,e){return function(){return t.apply(e,arguments)}}function c(t,e,i){var a;for(var s in t)if(t[s]in e)return i===!1?t[s]:(a=e[t[s]],n(a,"function")?_(a,i||e):a);return!1}function d(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(e,n){var a=e.length;if("CSS"in t&&"supports"in t.CSS){for(;a--;)if(t.CSS.supports(d(e[a]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var s=[];a--;)s.push("("+d(e[a])+":"+n+")");return s=s.join(" or "),u("@supports ("+s+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}return i}function f(t,e,a,s){function l(){u&&(delete M.style,delete M.modElem)}if(s=!n(s,"undefined")&&s,!n(a,"undefined")){var h=p(t,a);if(!n(h,"undefined"))return h}for(var u,_,c,d,f,m=["modernizr","tspan","samp"];!M.style&&m.length;)u=!0,M.modElem=r(m.shift()),M.style=M.modElem.style;for(c=t.length,_=0;c>_;_++)if(d=t[_],f=M.style[d],A(d,"-")&&(d=o(d)),M.style[d]!==i){if(s||n(a,"undefined"))return l(),"pfx"!=e||d;try{M.style[d]=a}catch(g){}if(M.style[d]!=f)return l(),"pfx"!=e||d}return l(),!1}function m(t,e,i,a,s){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+O.join(r+" ")+r).split(" ");return n(e,"string")||n(e,"undefined")?f(o,e,a,s):(o=(t+" "+C.join(r+" ")+r).split(" "),c(o,e,i))}var g=[],v=[],y={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){v.push({name:t,fn:e,options:i})},addAsyncTest:function(t){v.push({name:null,fn:t})}},D=function(){};D.prototype=y,D=new D,D.addTest("cors","XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest),D.addTest("localstorage",function(){var t="modernizr";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}});var T=e.documentElement,b="svg"===T.nodeName.toLowerCase();D.addTest("canvas",function(){var t=r("canvas");return!(!t.getContext||!t.getContext("2d"))});var w=r("canvas");D.addTest("todataurljpeg",function(){return!!D.canvas&&0===w.toDataURL("image/jpeg").indexOf("data:image/jpeg")}),D.addTest("todataurlpng",function(){return!!D.canvas&&0===w.toDataURL("image/png").indexOf("data:image/png")}),D.addTest("todataurlwebp",function(){var t=!1;try{t=!!D.canvas&&0===w.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){}return t});var P=y._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];y._prefixes=P,D.addTest("audio",function(){var t=r("audio"),e=!1;try{(e=!!t.canPlayType)&&(e=new Boolean(e),e.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=t.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"')||t.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return e}),D.addTest("promises",function(){return"Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),"function"==typeof e}()}),D.addTest("webgl",function(){var e=r("canvas"),i="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return i in e?e[i]("webgl")||e[i]("experimental-webgl"):"WebGLRenderingContext"in t}),D.addAsyncTest(function(){if(D.webglextensions=new Boolean((!1)),D.webgl){var t,e,n;try{t=r("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl"),n=e.getSupportedExtensions()}catch(a){return}e!==i&&(D.webglextensions=new Boolean((!0)));for(var s=-1,o=n.length;++s<o;)D.webglextensions[n[s]]=!0;t=i}});var E;!function(){var t={}.hasOwnProperty;E=n(t,"undefined")||n(t.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(e,i){return t.call(e,i)}}(),y._l={},y.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),D.hasOwnProperty(t)&&setTimeout(function(){D._trigger(t,D[t])},0)},y._trigger=function(t,e){if(this._l[t]){var i=this._l[t];setTimeout(function(){var t,n;for(t=0;t<i.length;t++)(n=i[t])(e)},0),delete this._l[t]}},D._q.push(function(){y.addTest=l}),D.addAsyncTest(function(){function t(n){clearTimeout(e);var s=n!==i&&"loadeddata"===n.type;a.removeEventListener("loadeddata",t,!1),l("audiopreload",s),a.parentNode.removeChild(a)}var e,n=300,a=r("audio"),s=a.style;if(!(D.audio&&"preload"in a))return void l("audiopreload",!1);s.position="absolute",s.height=0,s.width=0;try{if(D.audio.mp3)a.src="data:audio/mpeg;base64,//MUxAAB6AXgAAAAAPP+c6nf//yi/6f3//MUxAMAAAIAAAjEcH//0fTX6C9Lf//0//MUxA4BeAIAAAAAAKX2/6zv//+IlR4f//MUxBMCMAH8AAAAABYWalVMQU1FMy45//MUxBUB0AH0AAAAADkuM1VVVVVVVVVV//MUxBgBUATowAAAAFVVVVVVVVVVVVVV";else if(D.audio.m4a)a.src="data:audio/x-m4a;base64,AAAAGGZ0eXBNNEEgAAACAGlzb21pc28yAAAACGZyZWUAAAAfbWRhdN4EAABsaWJmYWFjIDEuMjgAAAFoAQBHAAACiG1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAYAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAG0dHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAYAAAAAAAAAAAAAAAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAABUG1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAArEQAAAQAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAPttaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAL9zdGJsAAAAW3N0c2QAAAAAAAAAAQAAAEttcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAACdlc2RzAAAAAAMZAAEABBFAFQAAAAABftAAAAAABQISCAYBAgAAABhzdHRzAAAAAAAAAAEAAAABAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAXAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAoAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1Mi42NC4y";else if(D.audio.ogg)a.src="data:audio/ogg;base64,T2dnUwACAAAAAAAAAAD/QwAAAAAAAM2LVKsBHgF2b3JiaXMAAAAAAUSsAAAAAAAAgLsAAAAAAAC4AU9nZ1MAAAAAAAAAAAAA/0MAAAEAAADmvOe6Dy3/////////////////MgN2b3JiaXMdAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAwNzA2MjIAAAAAAQV2b3JiaXMfQkNWAQAAAQAYY1QpRplS0kqJGXOUMUaZYpJKiaWEFkJInXMUU6k515xrrLm1IIQQGlNQKQWZUo5SaRljkCkFmVIQS0kldBI6J51jEFtJwdaYa4tBthyEDZpSTCnElFKKQggZU4wpxZRSSkIHJXQOOuYcU45KKEG4nHOrtZaWY4updJJK5yRkTEJIKYWSSgelU05CSDWW1lIpHXNSUmpB6CCEEEK2IIQNgtCQVQAAAQDAQBAasgoAUAAAEIqhGIoChIasAgAyAAAEoCiO4iiOIzmSY0kWEBqyCgAAAgAQAADAcBRJkRTJsSRL0ixL00RRVX3VNlVV9nVd13Vd13UgNGQVAAABAEBIp5mlGiDCDGQYCA1ZBQAgAAAARijCEANCQ1YBAAABAABiKDmIJrTmfHOOg2Y5aCrF5nRwItXmSW4q5uacc845J5tzxjjnnHOKcmYxaCa05pxzEoNmKWgmtOacc57E5kFrqrTmnHPGOaeDcUYY55xzmrTmQWo21uaccxa0pjlqLsXmnHMi5eZJbS7V5pxzzjnnnHPOOeecc6oXp3NwTjjnnHOi9uZabkIX55xzPhmne3NCOOecc84555xzzjnnnHOC0JBVAAAQAABBGDaGcacgSJ+jgRhFiGnIpAfdo8MkaAxyCqlHo6ORUuoglFTGSSmdIDRkFQAACAAAIYQUUkghhRRSSCGFFFKIIYYYYsgpp5yCCiqppKKKMsoss8wyyyyzzDLrsLPOOuwwxBBDDK20EktNtdVYY62555xrDtJaaa211koppZRSSikIDVkFAIAAABAIGWSQQUYhhRRSiCGmnHLKKaigAkJDVgEAgAAAAgAAADzJc0RHdERHdERHdERHdETHczxHlERJlERJtEzL1ExPFVXVlV1b1mXd9m1hF3bd93Xf93Xj14VhWZZlWZZlWZZlWZZlWZZlWYLQkFUAAAgAAIAQQgghhRRSSCGlGGPMMeegk1BCIDRkFQAACAAgAAAAwFEcxXEkR3IkyZIsSZM0S7M8zdM8TfREURRN01RFV3RF3bRF2ZRN13RN2XRVWbVdWbZt2dZtX5Zt3/d93/d93/d93/d93/d1HQgNWQUASAAA6EiOpEiKpEiO4ziSJAGhIasAABkAAAEAKIqjOI7jSJIkSZakSZ7lWaJmaqZneqqoAqEhqwAAQAAAAQAAAAAAKJriKabiKaLiOaIjSqJlWqKmaq4om7Lruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rui4QGrIKAJAAANCRHMmRHEmRFEmRHMkBQkNWAQAyAAACAHAMx5AUybEsS9M8zdM8TfRET/RMTxVd0QVCQ1YBAIAAAAIAAAAAADAkw1IsR3M0SZRUS7VUTbVUSxVVT1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTVN0zRNIDRkJQAABADAYo3B5SAhJSXl3hDCEJOeMSYhtV4hBJGS3jEGFYOeMqIMct5C4xCDHggNWREARAEAAMYgxxBzyDlHqZMSOeeodJQa5xyljlJnKcWYYs0oldhSrI1zjlJHraOUYiwtdpRSjanGAgAAAhwAAAIshEJDVgQAUQAAhDFIKaQUYow5p5xDjCnnmHOGMeYcc44556B0UirnnHROSsQYc445p5xzUjonlXNOSiehAACAAAcAgAALodCQFQFAnACAQZI8T/I0UZQ0TxRFU3RdUTRd1/I81fRMU1U90VRVU1Vt2VRVWZY8zzQ901RVzzRV1VRVWTZVVZZFVdVt03V123RV3ZZt2/ddWxZ2UVVt3VRd2zdV1/Zd2fZ9WdZ1Y/I8VfVM03U903Rl1XVtW3VdXfdMU5ZN15Vl03Vt25VlXXdl2fc103Rd01Vl2XRd2XZlV7ddWfZ903WF35VlX1dlWRh2XfeFW9eV5XRd3VdlVzdWWfZ9W9eF4dZ1YZk8T1U903RdzzRdV3VdX1dd19Y105Rl03Vt2VRdWXZl2fddV9Z1zzRl2XRd2zZdV5ZdWfZ9V5Z13XRdX1dlWfhVV/Z1WdeV4dZt4Tdd1/dVWfaFV5Z14dZ1Ybl1XRg+VfV9U3aF4XRl39eF31luXTiW0XV9YZVt4VhlWTl+4ViW3feVZXRdX1ht2RhWWRaGX/id5fZ943h1XRlu3efMuu8Mx++k+8rT1W1jmX3dWWZfd47hGDq/8OOpqq+brisMpywLv+3rxrP7vrKMruv7qiwLvyrbwrHrvvP8vrAso+z6wmrLwrDatjHcvm4sv3Acy2vryjHrvlG2dXxfeArD83R1XXlmXcf2dXTjRzh+ygAAgAEHAIAAE8pAoSErAoA4AQCPJImiZFmiKFmWKIqm6LqiaLqupGmmqWmeaVqaZ5qmaaqyKZquLGmaaVqeZpqap5mmaJqua5qmrIqmKcumasqyaZqy7LqybbuubNuiacqyaZqybJqmLLuyq9uu7Oq6pFmmqXmeaWqeZ5qmasqyaZquq3meanqeaKqeKKqqaqqqraqqLFueZ5qa6KmmJ4qqaqqmrZqqKsumqtqyaaq2bKqqbbuq7Pqybeu6aaqybaqmLZuqatuu7OqyLNu6L2maaWqeZ5qa55mmaZqybJqqK1uep5qeKKqq5ommaqqqLJumqsqW55mqJ4qq6omea5qqKsumatqqaZq2bKqqLZumKsuubfu+68qybqqqbJuqauumasqybMu+78qq7oqmKcumqtqyaaqyLduy78uyrPuiacqyaaqybaqqLsuybRuzbPu6aJqybaqmLZuqKtuyLfu6LNu678qub6uqrOuyLfu67vqucOu6MLyybPuqrPq6K9u6b+sy2/Z9RNOUZVM1bdtUVVl2Zdn2Zdv2fdE0bVtVVVs2TdW2ZVn2fVm2bWE0Tdk2VVXWTdW0bVmWbWG2ZeF2Zdm3ZVv2ddeVdV/XfePXZd3murLty7Kt+6qr+rbu+8Jw667wCgAAGHAAAAgwoQwUGrISAIgCAACMYYwxCI1SzjkHoVHKOecgZM5BCCGVzDkIIZSSOQehlJQy5yCUklIIoZSUWgshlJRSawUAABQ4AAAE2KApsThAoSErAYBUAACD41iW55miatqyY0meJ4qqqaq27UiW54miaaqqbVueJ4qmqaqu6+ua54miaaqq6+q6aJqmqaqu67q6Lpqiqaqq67qyrpumqqquK7uy7Oumqqqq68quLPvCqrquK8uybevCsKqu68qybNu2b9y6ruu+7/vCka3rui78wjEMRwEA4AkOAEAFNqyOcFI0FlhoyEoAIAMAgDAGIYMQQgYhhJBSSiGllBIAADDgAAAQYEIZKDRkRQAQJwAAGEMppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkgppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAE7AwAAAAAAAD/QwAAAgAAADuydfsFAQEBAQEACg4ODg==";else{if(!D.audio.wav)return void l("audiopreload",!1);a.src="data:audio/wav;base64,UklGRvwZAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdgZAAAAAAEA/v8CAP//AAABAP////8DAPz/BAD9/wEAAAAAAAAAAAABAP7/AgD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAAD//wIA/v8BAAAA//8BAAAA//8BAP//AQAAAP//AQD//wEAAAD//wEA//8BAP//AQD//wEA//8BAP//AQD+/wMA/f8DAP3/AgD+/wIA/////wMA/f8CAP7/AgD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAQD+/wIA/v8CAP7/AwD9/wIA/v8BAAEA/v8CAP7/AQAAAAAAAAD//wEAAAD//wIA/f8DAP7/AQD//wEAAAD//wEA//8CAP7/AQD//wIA/v8CAP7/AQAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD9/wQA+/8FAPz/AgAAAP//AgD+/wEAAAD//wIA/v8CAP3/BAD8/wQA/P8DAP7/AwD8/wQA/P8DAP7/AQAAAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAP//AQD//wEAAAD//wEA//8BAAAAAAAAAP//AgD+/wEAAAAAAAAAAAD//wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AgD+/wIA/v8BAP//AQABAP7/AQD//wIA/v8CAP3/AwD/////AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AAABAP//AAABAP//AQD//wAAAAACAP3/AwD9/wIA//8BAP//AQD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8CAAAA/v8EAPv/BAD9/wIAAAD+/wQA+v8HAPr/BAD+/wEAAAD//wIA/f8EAPz/BAD7/wUA/P8EAPz/AwD+/wEAAAD//wEAAAAAAP//AgD8/wUA+/8FAPz/AwD9/wIA//8AAAEA/v8CAP//AQD//wAAAAABAP//AgD9/wMA/f8EAPz/AwD+/wAAAwD7/wUA/P8DAP7/AQAAAP//AgD+/wEAAQD+/wIA/v8BAAEA/v8CAP7/AQAAAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA//8AAAEA/v8DAP3/AgD//wEA//8BAP7/AwD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AgD+/wEAAQD+/wIA/////wIA//8AAAEA/f8DAP//AAABAP////8DAP3/AwD+/wEA//8BAP//AQAAAAAA//8BAP//AQD//wEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAAAAAAAAAAD//wIA/v8BAAAA//8BAAEA/v8BAAAA//8DAPz/AwD+/wIA/v8CAP3/AwD+/wEAAAD//wEA//8BAAAA//8BAAAA/v8EAPv/BAD+/wAAAAABAP7/AgD//wAAAAABAP7/AgD//wAAAAAAAAAAAAABAP3/BAD8/wQA/f8BAAAAAAABAP7/AgD+/wIA/v8CAP7/AgD+/wIA/v8BAAAAAAD//wIA/f8DAP7/AAABAP//AAACAPz/BAD9/wIA//8AAP//AwD9/wMA/P8EAP3/AwD9/wIA//8BAP//AQD+/wMA/f8DAP7/AAABAP//AQAAAP//AQD//wIA/f8DAP7/AQAAAP//AQAAAAAA//8CAP7/AQABAP7/AgD+/wEAAQD+/wIA/v8CAP////8CAP7/AgD//wAAAAABAP7/AwD9/wIAAAD+/wMA/f8CAP//AQD+/wMA/f8CAP//AAACAPz/BQD6/wUA/v///wIA/v8CAP3/BAD7/wYA+v8FAPz/AwD/////AgD+/wEAAAD//wEAAAD//wIA/f8DAP7/AQAAAP//AgD//wAA//8BAAAAAAAAAP//AQD//wEA//8AAAIA/f8DAP3/AgAAAP//AQD//wEA//8AAAEA//8BAP////8CAP//AAABAP3/BAD9/wIA/v8BAAEA//8BAP7/AgD//wEA//8AAAEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAQD+/wIA/v8BAAAAAAD//wIA/v8BAAAAAAAAAAAAAQD+/wMA/f8CAP//AQD//wIA/f8DAP7/AQD//wEA//8CAP7/AAABAP7/AwD9/wMA/v8AAAEA//8BAAAAAAD//wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP7/AgD//wAAAAAAAAAAAQD//wEA/v8DAPz/BQD8/wIA//8AAAEAAAD//wEA//8BAP//AQAAAAAA//8BAP//AgD+/wEAAAAAAP//AQD+/wMA/////wEA/v8CAP//AQD//wEA//8AAAEA//8BAAAA/v8EAPz/AwD+/wEAAAAAAAAA//8CAP7/AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AQD//wEA//8AAAEA/v8EAPv/BAD9/wIA//8BAP7/AwD9/wIA//8AAAEA//8BAP//AQD//wAAAQD//wEAAAD+/wMA/v8AAAIA/f8DAP7/AQD//wAAAQD+/wMA/f8CAP//AAABAP7/AgD+/wMA/f8CAP7/AQABAP7/AgD+/wIA/v8CAP7/AwD8/wMA//8AAAEA//8AAAAAAAABAP//AQD//wAAAQD//wIA/f8DAP3/AwD+/wAAAgD9/wIA//8AAAEAAAD+/wMA/P8FAPv/BAD9/wIA//8AAP//AgD+/wIA/v8BAAAAAAD//wEAAAAAAP//AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AAABAP//AQD//wAAAQD//wEA//8BAP//AAABAAAA//8BAP7/AwD9/wMA/f8DAP3/AgD//wEA//8BAP7/AgD//wAAAgD8/wQA/f8CAP//AQD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAAABAP7/AwD9/wIA/v8DAP3/AwD9/wIA/v8DAPz/BQD7/wQA/f8CAP7/AwD9/wMA/f8CAP//AQAAAP7/AwD+/wEA//8AAAEAAAAAAP//AAABAP//AQAAAP7/AwD9/wMA/f8CAP//AQD//wEA//8AAAIA/f8CAAAA//8BAAAA//8BAAAA/v8EAPv/BAD9/wIA//8AAAEA/v8CAP//AAABAP//AAABAP//AAABAP7/AwD8/wQA/f8CAAAA/v8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAAAAAAAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AgD//wAAAQD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAQD+/wMA/f8CAP//AQD//wEA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD9/wIA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD8/wMA/v8CAP//AAD//wIA/v8CAP7/AQABAP7/AQAAAP//AgD/////AQD//wEAAAD//wEA/v8EAPv/BAD9/wMA/v8BAAAA//8BAAEA/P8GAPr/BQD8/wMA/v8BAAAA//8CAP7/AQABAP3/BAD7/wYA+/8EAPz/AwD//wEA//8BAP7/BAD8/wMA/v8AAAIA/v8BAAAA//8BAAAA//8BAAAA//8CAP3/AwD+/wAAAgD8/wUA/P8DAP7/AAABAAAAAAD//wEAAAD//wIA/f8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/f8EAPz/AwD/////AgD+/wIA/f8DAP7/AgD+/wEA//8CAP7/AQD//wEAAAAAAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAP//AQAAAP//AAACAP3/BAD7/wQA/v8BAAAA//8BAP//AQAAAP//AQAAAP7/BAD7/wUA+/8EAP3/AgD//wAAAQD+/wIA//8AAAEA/v8CAP//AQD+/wEAAAAAAAAAAAD//wEA//8CAP3/AwD9/wIA//8AAAAAAAAAAAAA//8BAP//AgD+/wEA//8CAP7/AQAAAP//AgD/////AgD/////AgD+/wIA//8AAP//AQABAP7/AgD9/wMA/v8CAP////8BAAAAAAAAAAAA//8CAP////8DAPz/AwD+/wEAAAAAAP//AQD//wEAAAD//wEAAAD+/wQA+/8FAPz/AgAAAP//AgD9/wMA/v8BAAAAAAD//wEAAAD//wIA/v8BAAAAAAD//wIA/v8BAAAA//8BAAAA//8CAP7/AQD//wEA//8BAAAA//8BAP//AAABAP//AQAAAP7/AgD//wEA//8AAAAAAQD+/wMA/P8EAP7///8DAPz/BQD8/wEAAQD+/wMA/v8AAAEA//8BAP//AQD//wEA/v8CAP//AQD//wAAAAABAAAA//8BAP//AQAAAAAA//8BAP//AgD+/wAAAQD//wIA/f8CAP//AQAAAP7/AwD9/wMA/v8BAP//AAABAP//AgD9/wIA//8BAAAA//8BAAAA//8CAP3/AwD+/wEAAAD+/wQA/P8DAP7/AAACAP7/AQAAAP//AQAAAP//AQAAAP//AgD9/wIAAAD//wIA/f8DAP7/AQD//wEA//8CAP7/AQD//wAAAQD//wEA//8AAAAAAQD//wEAAAD9/wUA+/8FAPz/AgD//wAAAQD//wAAAQD+/wMA/f8BAAEA/v8CAP7/AgD+/wIA/v8BAAAAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP7/AQAAAP//AQAAAP//AQD//wAAAQD//wAAAQD+/wMA/f8CAAAA/v8DAP3/AgAAAP//AQAAAP7/AwD9/wMA/v8BAP//AQD//wEAAAD+/wMA/f8CAAAA/v8CAP//AAAAAAEA//8AAAEA/v8DAP3/AwD9/wIA//8BAP//AgD8/wQA/v8BAAAA/v8CAP//AQD//wAAAAAAAAEA/f8EAPz/BAD9/wIA//8AAAAAAAABAP//AAAAAAAAAAABAP3/BAD9/wIA/v8BAAEA//8AAAAA//8CAP7/AgD9/wQA+/8FAPv/BQD8/wMA/f8DAP3/AwD+/wAAAgD9/wMA/f8CAAAA/v8EAPv/BQD7/wUA/P8DAP///v8DAP3/BAD8/wMA/f8DAP7/AQD//wEAAAD//wEA/v8CAAAA/v8CAP7/AgD//wAAAAAAAAAAAQD+/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAP//AgD//wEA/v8BAAAAAQD//wAAAAAAAAEA//8AAAEA//8BAP//AAABAP//AQD+/wIA/v8DAPz/BAD8/wQA/f8BAAAAAQD+/wMA/P8DAP//AAAAAAAAAAD//wMA+/8FAP3/AQABAP3/BAD8/wMA/v8BAAAA//8CAP3/AwD+/wEAAQD9/wMA/f8EAPz/BAD7/wQA/v8BAAEA/f8DAP7/AQAAAP//AgD+/wEAAAD//wIA/v8CAP7/AgD+/wEAAQD//wEA/v8CAP7/BAD7/wQA/f8CAAAA//8AAAAAAAABAP//AQD+/wEAAQD+/wMA/f8BAAEA/v8DAPz/AwD/////AwD8/wQA/P8DAP7/AgD//wAA//8BAAAAAAAAAP//AgD+/wEAAAD//wIA/v8BAAAA//8CAP3/AgD//wAAAQD+/wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP3/BAD7/wQA/v8BAAAA//8AAAEAAAD//wIA/f8DAP7/AgD+/wIA/v8CAP7/AgD+/wEAAAAAAP//AgD9/wMA/v8BAP//AgD9/wMA/v8AAAEA//8BAP//AQD//wEA//8AAAEA/v8EAPz/AgD//wAAAQAAAP//AAABAP//AQD//wEAAAD//wEA//8BAAEA/f8DAP7/AQABAP3/AwD+/wIA/////wEAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD//wAA//8CAP3/BAD9/wAAAgD9/wMA/v8BAP//AQAAAP//AQAAAP//AgD9/wMA/f8EAPz/AwD+/wEAAAAAAAAAAAD//wIA/f8EAP3/AAABAAAA//8CAP7/AQAAAP//AQAAAAAA//8BAP//AQAAAP//AQAAAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wIA/v8CAP3/BAD9/wEAAAD//wEAAQD9/wMA/f8CAAAA/v8DAP3/AgD//wAAAQD+/wIA/v8CAP7/AQAAAP//AgD+/wEAAAAAAP//AwD7/wUA/f8BAAEA/v8BAAEA/v8DAP3/AgD//wEA//8BAP//AQD//wEA//8CAP3/BAD7/wQA/////wIA/v8AAAIA/v8CAP3/BAD7/wUA/P8DAP3/AwD9/wMA/v8AAAIA/v8CAP7/AgD+/wIA//8AAAEA/v8CAP7/AgD//wAAAAD//wEAAAAAAAAA//8BAP7/BAD7/wUA/P8CAAAA//8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD+/wEA//8CAP3/AwD+/wAAAwD8/wIAAAD//wIA/////wIA/v8CAP7/AgD+/wEAAAAAAAAAAAAAAP//AgD+/wIA//8AAAAA//8CAP7/AgD+/wEA//8CAP3/AwD9/wMA/v8BAP7/AwD9/wMA/f8CAP//AQD+/wIA//8BAP//AQD+/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAP//AgD+/wIA/v8CAP//AAAAAAEA//8BAP//AAABAAAA//8BAP//AQD//wEA//8BAP//AQAAAP//AQD//wEAAAD//wIA/f8CAAAA//8BAAAA//8BAP//AAABAP//AQD//wAAAAAAAAEA/v8CAP//AQD//wAAAAABAP7/AwD9/wIAAAD+/wIA//8BAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA/v8CAP7/AgD//wAAAAAAAAAAAAAAAP//AgD/////AgD9/wQA/f8BAAAAAAAAAAEA/f8DAP////8DAP3/AQABAP7/AgD//wAAAQD+/wMA/f8CAP7/AQABAP7/AwD7/wYA+v8FAP3/AQABAP7/AgD+/wMA/f8CAP7/AwD+/wEA//8BAP//AQAAAP7/BQD5/wcA+v8FAPz/AwD+/wIA/v8BAAAA//8DAPv/BQD8/wMA/////wEAAAAAAAAAAAD//wIA/f8DAP7/AQAAAP//AQAAAP//AgD+/wIA/v8BAAEA/f8EAPz/AwD+/wEA//8CAP7/AQD//wEA//8CAP7/AQAAAP//AgD+/wEAAAAAAAAAAAAAAAAAAAD//wIA/f8EAPz/AwD+/wEA//8CAP7/AgD+/wEAAQD+/wEAAQD+/wIA/////wIA//8AAAAAAAAAAAAAAAD//wEAAAAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AQD//wEA//8BAP//AQAAAP7/AwD9/wMA/v8BAP7/AwD9/wMA/v8BAP//AAABAP//AQD//wAAAAABAP//AAAAAAAAAQD//wEA/v8CAAAA/v8EAPv/BAD9/wIAAAD+/wMA/P8DAP//AAAAAP//AQD//wIA/f8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD9/wQA+/8FAPv/BQD8/wMA/v8BAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAAEA/f8DAP3/AgAAAP//AQD//wAAAQD//wEA//8BAP//AQD//wEA/v8DAP3/AgAAAP7/AwD9/wIAAAD//wEAAAD//wIA/f8DAP7/AgD9/wQA+/8FAPz/AgAAAP//AgD9/wIA//8BAP//AQD//wEA//8BAP//AQD//wIA/f8DAP3/AgD//wAAAQD+/wIA/v8BAAEA/v8CAP7/AgD+/wMA/P8DAP//AAABAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/v8CAP3/BAD8/wMA/v8BAAAAAAD//wEAAAAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD+/wEA//8CAP3/AwD9/wMA/f8EAPv/BAD+/wAAAQD//wEA//8BAP//AAABAP//AQD//wEAAAD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8DAP7/AAACAP3/AwD+/wEA//8BAP//AQAAAP//AQAAAP7/AwD9/wMA/v8AAAEA//8BAP//AAAAAAEA//8AAAEA/v8CAP//AAAAAAEA/v8DAPz/BAD9/wEAAQD+/wEAAQD9/wQA/P8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAQD+/wIA/////wIA/v8BAAAA//8BAP//AQD//wEA//8BAAAA/v8EAPz/AwD///7/BAD8/wMA/////wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP////8CAP7/AwD9/wIA/v8CAP//AAABAP7/AwD9/wEAAQD+/wMA/f8CAP//AAAAAAEA/v8DAPz/BAD9/wIA/v8CAP7/AgD//wAAAAD//wIA/v8CAP7/AQAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AwD8/wUA+v8GAPv/AwD//wAAAAAAAAAA//8DAPv/BQD9/wAAAgD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAAAAAAAP//AQAAAAAAAAD//wEA//8CAP3/AwD+/wAAAgD+/wEAAAD//wIA/v8CAP7/AgD/////AwD8/wUA/P8CAP//AQD//wIA/f8DAP3/AwD+/wAAAQD+/wMA/f8DAP3/AgD//wAAAQD//wEA//8BAP7/AwD+/wEA//8AAAEA//8CAPz/BAD9/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAAEA/v8CAP7/AgD//wEA/f8EAPz/BAD+////AgD//wAAAQD//wAAAQD//wEA//8BAP7/AwD+/wEA"}}catch(o){return void l("audiopreload",!1)}a.setAttribute("preload","auto"),a.style.cssText="display:none",T.appendChild(a),setTimeout(function(){a.addEventListener("loadeddata",t,!1),e=setTimeout(t,n)},0)});var S=y.testStyles=u;D.addTest("touchevents",function(){var i;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)i=!0;else{var n=["@media (",P.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");S(n,function(t){i=9===t.offsetTop})}return i});var x="Moz O ms Webkit",O=y._config.usePrefixes?x.split(" "):[];y._cssomPrefixes=O;var B=function(e){var n,a=P.length,s=t.CSSRule;if("undefined"==typeof s)return i;if(!e)return!1;if(e=e.replace(/^@/,""),n=e.replace(/-/g,"_").toUpperCase()+"_RULE",n in s)return"@"+e;for(var r=0;a>r;r++){var o=P[r],l=o.toUpperCase()+"_"+n;if(l in s)return"@-"+o.toLowerCase()+"-"+e}return!1};y.atRule=B;var C=y._config.usePrefixes?x.toLowerCase().split(" "):[];y._domPrefixes=C;var I={elem:r("modernizr")};D._q.push(function(){delete I.elem});var M={style:I.elem.style};D._q.unshift(function(){delete M.style}),y.testAllProps=m;var R=y.prefixed=function(t,e,i){return 0===t.indexOf("@")?B(t):(-1!=t.indexOf("-")&&(t=o(t)),e?m(t,e,i):m(t,"pfx"))};D.addTest("requestanimationframe",!!R("requestAnimationFrame",t),{aliases:["raf"]}),a(),s(g),delete y.addTest,delete y.addAsyncTest;for(var k=0;k<D._q.length;k++)D._q[k]();t.Modernizr=D}(window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){if(t.support.cors||!t.ajaxTransport||!window.XDomainRequest)return t;var e=/^(https?:)?\/\//i,i=/^get|post$/i,n=new RegExp("^(//|"+location.protocol+")","i");return t.ajaxTransport("* text html xml json",function(a,s,r){if(a.crossDomain&&a.async&&i.test(a.type)&&e.test(a.url)&&n.test(a.url)){var o=null;return{send:function(e,i){var n="",r=(s.dataType||"").toLowerCase();o=new XDomainRequest,/^\d+$/.test(s.timeout)&&(o.timeout=s.timeout),o.ontimeout=function(){i(500,"timeout")},o.onload=function(){var e="Content-Length: "+o.responseText.length+"\r\nContent-Type: "+o.contentType,n={code:200,message:"success"},a={text:o.responseText};try{if("html"===r||/text\/html/i.test(o.contentType))a.html=o.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(o.contentType))try{a.json=t.parseJSON(o.responseText)}catch(s){n.code=500,n.message="parseerror"}else if("xml"===r||"text"!==r&&/\/xml/i.test(o.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(o.responseText)}catch(s){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw n.code=500,n.message="parseerror","Invalid XML: "+o.responseText;a.xml=l}}catch(h){throw h}finally{i(n.code,n.message,a,e)}},o.onprogress=function(){},o.onerror=function(){i(500,"error",{text:o.responseText})},s.data&&(n="string"===t.type(s.data)?s.data:t.param(s.data)),o.open(a.type,a.url),o.send(n)},abort:function(){o&&o.abort()}}}}),t}),this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,n=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(n){i[(e+="_")+"constructor"]=n.constructor;for(var a in n)i.hasOwnProperty(a)&&"function"==typeof n[a]&&(i[e+a]=n[a])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var i=0,n=t.length;n>i;i++)if(e===t[i])return i;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var a=n[t];return a&&this.removeEventListener(t,e,i),a=n[t],a?a.push(e):n[t]=[e],e},e.on=function(t,e,i,n,a,s){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,a),n&&t.remove()},s)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var a=n[t];if(a)for(var s=0,r=a.length;r>s;s++)if(a[s]==e){1==r?delete n[t]:a.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(a){}if(t.bubbles&&this.parent){for(var s=this,r=[s];s.parent;)r.push(s=s.parent);var o,l=r.length;for(o=l-1;o>=0&&!t.propagationStopped;o--)r[o]._dispatchEvent(t,1+(0==o));for(o=1;l>o&&!t.propagationStopped;o++)r[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var a=n[t.type];if(!a||!(i=a.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,a=a.slice();for(var r=0;i>r&&!t.immediatePropagationStopped;r++){var o=a[r];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.Event_constructor("error"),this.title=t,this.message=e,this.data=i}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},i=t;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(e){if("string"==typeof e){var n=new t;return n.src=e,n}if(e instanceof i)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=i}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(e){var i={absolute:!1,relative:!1};if(null==e)return i;var n=e.indexOf("?");n>-1&&(e=e.substr(0,n));var a;return t.ABSOLUTE_PATT.test(e)?i.absolute=!0:t.RELATIVE_PATT.test(e)&&(i.relative=!0),(a=e.match(t.EXTENSION_PATT))&&(i.extension=a[1].toLowerCase()),i},t.formatQueryString=function(t,e){if(null==t)throw new Error("You must specify data.");var i=[];for(var n in t)i.push(n+"="+escape(t[n]));return e&&(i=i.concat(e)),i.join("&")},t.buildPath=function(t,e){if(null==e)return t;var i=[],n=t.indexOf("?");if(-1!=n){var a=t.slice(n+1);i=i.concat(a.split("&"))}return-1!=n?t.slice(0,n)+"?"+this.formatQueryString(e,i):t+"?"+this.formatQueryString(e,i)},t.isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var i=document.createElement("a");i.href=location.href;var n=""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname);return n},t.isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},t.isBinary=function(t){
switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},t.isImageTag=function(t){return t instanceof HTMLImageElement},t.isAudioTag=function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},t.isVideoTag=function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},t.isText=function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},t.getTypeByExtension=function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;i.POST="POST",i.GET="GET",i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.VIDEO="video",i.SPRITESHEET="spritesheet",i.SVG="svg",i.TEXT="text",i.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,i=t.getResult(!0);t.getTag().src=e.createObjectURL(i)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var a=0,r=s.ACTIVEX_VERSIONS.length;r>a;a++){var o=s.ACTIVEX_VERSIONS[a];try{n=new ActiveXObject(o);break}catch(l){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var h=null;if(h=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,n.open(t.method||createjs.AbstractLoader.GET,h,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var u in t.headers)i[u]=t.headers[u];for(u in i)n.setRequestHeader(u,i[u]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader),i=t;i.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},i=t;i.create=function(t){if(t instanceof i||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}var i=t;i.INTERRUPT_ANY="any",i.INTERRUPT_EARLY="early",i.INTERRUPT_LATE="late",i.INTERRUPT_NONE="none",i.PLAY_INITED="playInited",i.PLAY_SUCCEEDED="playSucceeded",i.PLAY_INTERRUPTED="playInterrupted",i.PLAY_FINISHED="playFinished",i.PLAY_FAILED="playFailed",i.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],i.EXTENSION_MAP={m4a:"mp4"},i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,i.defaultInterruptBehavior=i.INTERRUPT_NONE,i.alternateExtensions=[],i.activePlugin=null,i._masterVolume=1,Object.defineProperty(i,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),i._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,n=0,a=e.length;a>n;n++)e[n].setMasterVolume(t)}}),i._masterMute=!1,Object.defineProperty(i,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterMute(t);return!0}}),Object.defineProperty(i,"capabilities",{get:function(){return null==i.activePlugin?null:i.activePlugin._capabilities},set:function(){return!1}}),i._pluginsRegistered=!1,i._lastID=0,i._instances=[],i._idHash={},i._preloadHash={},i._defaultPlayPropsHash={},i.addEventListener=null,i.removeEventListener=null,i.removeAllEventListeners=null,i.dispatchEvent=null,i.hasEventListener=null,i._listeners=null,createjs.EventDispatcher.initialize(i),i.getPreloadHandlers=function(){return{callback:createjs.proxy(i.initLoad,i),types:["sound"],extensions:i.SUPPORTED_EXTENSIONS}},i._handleLoadComplete=function(t){var e=t.target.getItem().src;if(i._preloadHash[e])for(var n=0,a=i._preloadHash[e].length;a>n;n++){var s=i._preloadHash[e][n];if(i._preloadHash[e][n]=!0,i.hasEventListener("fileload")){var t=new createjs.Event("fileload");t.src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,i.dispatchEvent(t)}}},i._handleLoadError=function(t){var e=t.target.getItem().src;if(i._preloadHash[e])for(var n=0,a=i._preloadHash[e].length;a>n;n++){var s=i._preloadHash[e][n];if(i._preloadHash[e][n]=!1,i.hasEventListener("fileerror")){var t=new createjs.Event("fileerror");t.src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,i.dispatchEvent(t)}}},i._registerPlugin=function(t){return!!t.isSupported()&&(i.activePlugin=new t,!0)},i.registerPlugins=function(t){i._pluginsRegistered=!0;for(var e=0,n=t.length;n>e;e++)if(i._registerPlugin(t[e]))return!0;return!1},i.initializeDefaultPlugins=function(){return null!=i.activePlugin||!i._pluginsRegistered&&!!i.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},i.isReady=function(){return null!=i.activePlugin},i.getCapabilities=function(){return null==i.activePlugin?null:i.activePlugin._capabilities},i.getCapability=function(t){return null==i.activePlugin?null:i.activePlugin._capabilities[t]},i.initLoad=function(t){return i._registerSound(t)},i._registerSound=function(t){if(!i.initializeDefaultPlugins())return!1;var n;if(t.src instanceof Object?(n=i._parseSrc(t.src),n.src=t.path+n.src):n=i._parsePath(t.src),null==n)return!1;t.src=n.src,t.type="sound";var a=t.data,s=null;if(null!=a&&(isNaN(a.channels)?isNaN(a)||(s=parseInt(a)):s=parseInt(a.channels),a.audioSprite))for(var r,o=a.audioSprite.length;o--;)r=a.audioSprite[o],i._idHash[r.id]={src:t.src,startTime:parseInt(r.startTime),duration:parseInt(r.duration)},r.defaultPlayProps&&(i._defaultPlayPropsHash[r.id]=createjs.PlayPropsConfig.create(r.defaultPlayProps));null!=t.id&&(i._idHash[t.id]={src:t.src});var l=i.activePlugin.register(t);return e.create(t.src,s),null!=a&&isNaN(a)?t.data.channels=s||e.maxPerChannel():t.data=s||e.maxPerChannel(),l.type&&(t.type=l.type),t.defaultPlayProps&&(i._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),l},i.registerSound=function(t,e,n,a,s){var r={src:t,id:e,data:n,defaultPlayProps:s};t instanceof Object&&t.src&&(a=e,r=t),r=createjs.LoadItem.create(r),r.path=a,null==a||r.src instanceof Object||(r.src=a+t);var o=i._registerSound(r);if(!o)return!1;if(i._preloadHash[r.src]||(i._preloadHash[r.src]=[]),i._preloadHash[r.src].push(r),1==i._preloadHash[r.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),i.activePlugin.preload(o);else if(1==i._preloadHash[r.src][0])return!0;return r},i.registerSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,a=t.length;a>n;n++)i[n]=createjs.Sound.registerSound(t[n].src,t[n].id,t[n].data,e,t[n].defaultPlayProps);return i},i.removeSound=function(t,n){if(null==i.activePlugin)return!1;t instanceof Object&&t.src&&(t=t.src);var a;if(t instanceof Object?a=i._parseSrc(t):(t=i._getSrcById(t).src,a=i._parsePath(t)),null==a)return!1;t=a.src,null!=n&&(t=n+t);for(var s in i._idHash)i._idHash[s].src==t&&delete i._idHash[s];return e.removeSrc(t),delete i._preloadHash[t],i.activePlugin.removeSound(t),!0},i.removeSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var n=0,a=t.length;a>n;n++)i[n]=createjs.Sound.removeSound(t[n].src,e);return i},i.removeAllSounds=function(){i._idHash={},i._preloadHash={},e.removeAll(),i.activePlugin&&i.activePlugin.removeAllSounds()},i.loadComplete=function(t){if(!i.isReady())return!1;var e=i._parsePath(t);return t=e?i._getSrcById(e.src).src:i._getSrcById(t).src,void 0!=i._preloadHash[t]&&1==i._preloadHash[t][0]},i._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(i.FILE_PATTERN);if(null==e)return!1;for(var n=e[4],a=e[5],s=i.capabilities,r=0;!s[a];)if(a=i.alternateExtensions[r++],r>i.alternateExtensions.length)return null;t=t.replace("."+e[5],"."+a);var o={name:n,src:t,extension:a};return o},i._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},n=i.capabilities;for(var a in t)if(t.hasOwnProperty(a)&&n[a]){e.src=t[a],e.extension=a;break}if(!e.src)return!1;var s=e.src.lastIndexOf("/");return e.name=-1!=s?e.src.slice(s+1):e.src,e},i.play=function(t,e,n,a,s,r,o,l,h){var u;u=createjs.PlayPropsConfig.create(e instanceof Object||e instanceof createjs.PlayPropsConfig?e:{interrupt:e,delay:n,offset:a,loop:s,volume:r,pan:o,startTime:l,duration:h});var A=i.createInstance(t,u.startTime,u.duration),_=i._playInstance(A,u);return _||A._playFailed(),A},i.createInstance=function(t,n,a){if(!i.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,n,a);var s=i._defaultPlayPropsHash[t];t=i._getSrcById(t);var r=i._parsePath(t.src),o=null;return null!=r&&null!=r.src?(e.create(r.src),null==n&&(n=t.startTime),o=i.activePlugin.create(r.src,n,a||t.duration),s=s||i._defaultPlayPropsHash[r.src],s&&o.applyPlayProps(s)):o=new createjs.DefaultSoundInstance(t,n,a),o.uniqueId=i._lastID++,o},i.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},i.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),i._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,n=0,a=e.length;a>n;n++)e[n].setMasterVolume(t)},i.getVolume=function(){return this._masterVolume},i.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterMute(t);return!0},i.getMute=function(){return this._masterMute},i.setDefaultPlayProps=function(t,e){t=i._getSrcById(t),i._defaultPlayPropsHash[i._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},i.getDefaultPlayProps=function(t){return t=i._getSrcById(t),i._defaultPlayPropsHash[i._parsePath(t.src).src]},i._playInstance=function(t,e){var n=i._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=n.interrupt||i.defaultInterruptBehavior),null==e.delay&&(e.delay=n.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){var a=i._beginPlaying(t,e);if(!a)return!1}else{var s=setTimeout(function(){i._beginPlaying(t,e)},e.delay);t.delayTimeoutId=s}return this._instances.push(t),!0},i._beginPlaying=function(t,i){if(!e.add(t,i.interrupt))return!1;var n=t._beginPlaying(i);if(!n){var a=createjs.indexOf(this._instances,t);return a>-1&&this._instances.splice(a,1),!1}return!0},i._getSrcById=function(t){return i._idHash[t]||{src:t}},i._playFinished=function(t){e.remove(t);var i=createjs.indexOf(this._instances,t);i>-1&&this._instances.splice(i,1)},createjs.Sound=t,e.channels={},e.create=function(t,i){var n=e.get(t);return null==n&&(e.channels[t]=new e(t,i),!0)},e.removeSrc=function(t){var i=e.get(t);return null!=i&&(i._removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t]._removeAll();e.channels={}},e.add=function(t,i){var n=e.get(t.src);return null!=n&&n._add(t,i)},e.remove=function(t){var i=e.get(t.src);return null!=i&&(i._remove(t),!0)},e.maxPerChannel=function(){return n.maxDefault},e.get=function(t){return e.channels[t]};var n=e.prototype;n.constructor=e,n.src=null,n.max=null,n.maxDefault=100,n.length=0,n.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},n._get=function(t){return this._instances[t]},n._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},n._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},n._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},n._getSlot=function(e){var i,n;if(e!=t.INTERRUPT_NONE&&(n=this._get(0),null==n))return!0;for(var a=0,s=this.max;s>a;a++){if(i=this._get(a),null==i)return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){n=i;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&i.getPosition()<n.getPosition()||e==t.INTERRUPT_LATE&&i.getPosition()>n.getPosition())&&(n=i)}return null!=n&&(n._interrupt(),this._remove(n),!0)},n.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t,e,i,n){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),n!==!1&&n!==!0&&this.setPlaybackResource(n),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,i,n,a,s){var r;return r=createjs.PlayPropsConfig.create(t instanceof Object||t instanceof createjs.PlayPropsConfig?t:{interrupt:t,delay:e,offset:i,loop:n,volume:a,pan:s}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(r),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,r),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){return t!==!0&&t!==!1||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},e.setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e.getVolume=function(){return this._volume},e.setMuted=function(t){return t===!0||t===!1?(this._muted=t,this._updateVolume(),this):void 0},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),
this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(){},e._addLooping=function(){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var i=this._soundInstances[t][e];i.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,i){this.isPreloadStarted(t)||this.preload(this.register(t));var n=new this._soundInstanceClass(t,e,i,this._audioSources[t]);return this._soundInstances[t].push(n),n},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var i=0,n=this._soundInstances[e].length;n>i;i++){var a=this._soundInstances[e][i];a.setPlaybackResource(this._audioSources[e])}},e._handlePreloadError=function(){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,(!1)),this._request.setResponseType("arraybuffer")},e._sendComplete=function(){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,a){this.AbstractSoundInstance_constructor(t,e,n,a),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),i=t;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=i._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(){this.gainNode.connect(i.destinationNode);var t=.001*this._duration,e=.001*this._position;e>t&&(e=t),this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-t,e),this._playbackStartTime=this.sourceNode.startTime-e,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-e)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var n=i.context.createBufferSource();n.buffer=this.playbackResource,n.connect(this.panNode);var a=.001*this._duration;return n.startTime=t+a,n.start(n.startTime,e+.001*this._startTime,a-e),n},e._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=i._panningModel,this.context=i.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=i._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i._capabilities=null,i._panningModel="equalpower",i.context=null,i._scratchBuffer=null,i._unlocked=!1,i.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(i._generateCapabilities(),null!=i.context)},i.playEmptySound=function(){if(null!=i.context){var t=i.context.createBufferSource();t.buffer=i._scratchBuffer,t.connect(i.context.destination),t.start(0,0,0)}},i._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(i){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(i){t=!1}return t},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==i.context)if(window.AudioContext)i.context=new AudioContext;else{if(!window.webkitAudioContext)return null;i.context=new webkitAudioContext}null==i._scratchBuffer&&(i._scratchBuffer=i.context.createBuffer(1,1,22050)),i._compatibilitySetUp(),"ontouchstart"in window&&"running"!=i.context.state&&(i._unlock(),document.addEventListener("mousedown",i._unlock,!0),document.addEventListener("touchend",i._unlock,!0)),i._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,a=0,s=e.length;s>a;a++){var r=e[a],o=n[r]||r;i._capabilities[r]="no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}i.context.destination.numberOfChannels<2&&(i._capabilities.panning=!1)}},i._compatibilitySetUp=function(){if(i._panningModel="equalpower",!i.context.createGain){i.context.createGain=i.context.createGainNode;var t=i.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,i._panningModel=0}},i._unlock=function(){i._unlocked||(i.playEmptySound(),"running"==i.context.state&&(document.removeEventListener("mousedown",i._unlock,!0),document.removeEventListener("touchend",i._unlock,!0),i._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=i._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(){this._tags=[]}var i=t;i._tags={},i._tagPool=new e,i._tagUsed={},i.get=function(t){var e=i._tags[t];return null==e?(e=i._tags[t]=i._tagPool.get(),e.src=t):i._tagUsed[t]?(e=i._tagPool.get(),e.src=t):i._tagUsed[t]=!0,e},i.set=function(t,e){e==i._tags[t]?i._tagUsed[t]=!1:i._tagPool.set(e)},i.remove=function(t){var e=i._tags[t];return null!=e&&(i._tagPool.set(e),delete i._tags[t],delete i._tagUsed[t],!0)},i.getDuration=function(t){var e=i._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var n=e.prototype;n.constructor=e,n.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},n.set=function(t){var e=createjs.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},n.toString=function(){return"[TagPool]"},n._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(e+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(){this._updateVolume()},e.setMasterMute=function(){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=i._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i.MAX_INSTANCES=30,i._AUDIO_READY="canplaythrough",i._AUDIO_ENDED="ended",i._AUDIO_SEEKED="seeked",i._AUDIO_STALLED="stalled",i._TIME_UPDATE="timeupdate",i._capabilities=null,i.isSupported=function(){return i._generateCapabilities(),null!=i._capabilities},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;i._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,a=0,s=e.length;s>a;a++){var r=e[a],o=n[r]||r;i._capabilities[r]="no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),i=this.AbstractPlugin_register(t);return i.setTag(e),i},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,i){var n=this.AbstractPlugin_create(t,e,i);return n.setPlaybackResource(null),n},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}();var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dragonBones;!function(t){var e=function(){function t(){}return t.hasArmature=function(e){return t._armatures.indexOf(e)>=0},t.addArmature=function(e){e&&t._armatures.indexOf(e)<0&&t._armatures.push(e)},t.removeArmature=function(e){if(e){var i=t._armatures.indexOf(e);i>=0&&t._armatures.splice(i,1)}},t}();e.PI_D=2*Math.PI,e.PI_H=Math.PI/2,e.PI_Q=Math.PI/4,e.ANGLE_TO_RADIAN=Math.PI/180,e.RADIAN_TO_ANGLE=180/Math.PI,e.SECOND_TO_MILLISECOND=1e3,e.NO_TWEEN=100,e.VERSION="5.0.0",e.ARGUMENT_ERROR="Argument error.",e.debug=!1,e.debugDraw=!1,e._armatures=[],t.DragonBones=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(){this.hashCode=t._hashCode++}return t._returnObject=function(e){var i=String(e.constructor),n=null==t._maxCountMap[i]?t._defaultMaxCount:t._maxCountMap[i],a=t._poolsMap[i]=t._poolsMap[i]||[];if(a.length<n){if(!(a.indexOf(e)<0))throw new Error;a.push(e)}},t.setMaxCount=function(e,i){if((i<0||i!==i)&&(i=0),e){var n=String(e);t._maxCountMap[n]=i;var a=t._poolsMap[n];a&&a.length>i&&(a.length=i)}else{t._defaultMaxCount=i;for(var n in t._poolsMap)if(null!=t._maxCountMap[n]){t._maxCountMap[n]=i;var a=t._poolsMap[n];a.length>i&&(a.length=i)}}},t.clearPool=function(e){if(void 0===e&&(e=null),e){var i=t._poolsMap[String(e)];i&&i.length&&(i.length=0)}else for(var n in t._poolsMap){var i=t._poolsMap[n];i.length=0}},t.borrowObject=function(e){var i=t._poolsMap[String(e)];if(i&&i.length>0)return i.pop();var n=new e;return n._onClear(),n},t.prototype.returnToPool=function(){this._onClear(),t._returnObject(this)},t}();e._hashCode=0,e._defaultMaxCount=5e3,e._maxCountMap={},e._poolsMap={},t.BaseObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t.prototype.clear=function(){this.x=this.y=0},t}();t.Point=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.clear=function(){this.x=this.y=0,this.width=this.height=0},t}();t.Rectangle=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(t,e,i,n,a,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=1),void 0===s&&(s=1),this.x=t,this.y=e,this.skewX=i,this.skewY=n,this.scaleX=a,this.scaleY=s}return e.normalizeRadian=function(t){return t=(t+Math.PI)%(2*Math.PI),t+=t>0?-Math.PI:Math.PI},e.prototype.toString=function(){return"[object dragonBones.Transform] x:"+this.x+" y:"+this.y+" skewX:"+180*this.skewX/Math.PI+" skewY:"+180*this.skewY/Math.PI+" scaleX:"+this.scaleX+" scaleY:"+this.scaleY},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.skewX=t.skewX,this.skewY=t.skewY,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this},e.prototype.identity=function(){return this.x=this.y=this.skewX=this.skewY=0,this.scaleX=this.scaleY=1,this},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.skewX+=t.skewX,this.skewY+=t.skewY,this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this},e.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this.skewX=e.normalizeRadian(this.skewX-t.skewX),this.skewY=e.normalizeRadian(this.skewY-t.skewY),this.scaleX/=t.scaleX,this.scaleY/=t.scaleY,this},e.prototype.fromMatrix=function(e){var i=t.DragonBones.PI_Q,n=this.scaleX,a=this.scaleY;return this.x=e.tx,this.y=e.ty,this.skewX=Math.atan(-e.c/e.d),this.skewY=Math.atan(e.b/e.a),this.skewX!==this.skewX&&(this.skewX=0),this.skewY!==this.skewY&&(this.skewY=0),this.scaleY=this.skewX>-i&&this.skewX<i?e.d/Math.cos(this.skewX):-e.c/Math.sin(this.skewX),this.scaleX=this.skewY>-i&&this.skewY<i?e.a/Math.cos(this.skewY):e.b/Math.sin(this.skewY),n>=0&&this.scaleX<0&&(this.scaleX=-this.scaleX,this.skewY=this.skewY-Math.PI),a>=0&&this.scaleY<0&&(this.scaleY=-this.scaleY,this.skewX=this.skewX-Math.PI),this},e.prototype.toMatrix=function(t){return 0!==this.skewX||0!==this.skewY?(t.a=Math.cos(this.skewY),t.b=Math.sin(this.skewY),this.skewX===this.skewY?(t.c=-t.b,t.d=t.a):(t.c=-Math.sin(this.skewX),t.d=Math.cos(this.skewX)),1===this.scaleX&&1===this.scaleY||(t.a*=this.scaleX,t.b*=this.scaleX,t.c*=this.scaleY,t.d*=this.scaleY)):(t.a=this.scaleX,t.b=0,t.c=0,t.d=this.scaleY),t.tx=this.x,t.ty=this.y,this},Object.defineProperty(e.prototype,"rotation",{get:function(){return this.skewY},set:function(t){var e=t-this.skewY;this.skewX+=e,this.skewY+=e},enumerable:!0,configurable:!0}),e}();t.Transform=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,n,a,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===a&&(a=0),void 0===s&&(s=0),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=a,this.ty=s}return t.prototype.toString=function(){return"[object dragonBones.Matrix] a:"+this.a+" b:"+this.b+" c:"+this.c+" d:"+this.d+" tx:"+this.tx+" ty:"+this.ty},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.copyFromArray=function(t,e){return void 0===e&&(e=0),this.a=t[e],this.b=t[e+1],this.c=t[e+2],this.d=t[e+3],this.tx=t[e+4],this.ty=t[e+5],this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this},t.prototype.concat=function(t){var e=this.a*t.a,i=0,n=0,a=this.d*t.d,s=this.tx*t.a+t.tx,r=this.ty*t.d+t.ty;return 0===this.b&&0===this.c||(e+=this.b*t.c,a+=this.c*t.b,i+=this.b*t.d,n+=this.c*t.a),0===t.b&&0===t.c||(i+=this.a*t.b,n+=this.d*t.c,s+=this.ty*t.c,r+=this.tx*t.b),this.a=e,this.b=i,this.c=n,this.d=a,this.tx=s,this.ty=r,this},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,a=this.tx,s=this.ty;if(0===e&&0===i)return this.b=this.c=0,0===t||0===n?this.a=this.b=this.tx=this.ty=0:(t=this.a=1/t,n=this.d=1/n,this.tx=-t*a,this.ty=-n*s),this;var r=t*n-e*i;if(0===r)return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this;r=1/r;var o=this.a=n*r;return e=this.b=-e*r,i=this.c=-i*r,n=this.d=t*r,this.tx=-(o*a+i*s),this.ty=-(e*a+n*s),this},t.prototype.transformPoint=function(t,e,i,n){void 0===n&&(n=!1),i.x=this.a*t+this.c*e,i.y=this.b*t+this.d*e,n||(i.x+=this.tx,i.y+=this.ty)},t}();t.Matrix=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function t(t,e,i,n,a,s,r,o){void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=0),this.alphaMultiplier=t,this.redMultiplier=e,this.greenMultiplier=i,this.blueMultiplier=n,this.alphaOffset=a,this.redOffset=s,this.greenOffset=r,this.blueOffset=o}return t.prototype.copyFrom=function(t){this.alphaMultiplier=t.alphaMultiplier,this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaOffset=t.alphaOffset,this.redOffset=t.redOffset,this.redOffset=t.redOffset,this.greenOffset=t.blueOffset},t.prototype.identity=function(){this.alphaMultiplier=this.redMultiplier=this.greenMultiplier=this.blueMultiplier=1,this.alphaOffset=this.redOffset=this.greenOffset=this.blueOffset=0},t}();t.ColorTransform=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.boneMask=[],e.animationNames=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.AnimationConfig]"},e.prototype._onClear=function(){this.pauseFadeOut=!0,this.fadeOutMode=4,this.fadeOutTime=-1,this.fadeOutEasing=0,this.additiveBlending=!1,this.displayControl=!0,this.pauseFadeIn=!0,this.actionEnabled=!0,this.playTimes=-1,this.layer=0,this.position=0,this.duration=-1,this.timeScale=-100,this.fadeInTime=-1,this.autoFadeOutTime=-1,this.fadeInEasing=0,this.weight=1,this.name=null,this.animationName=null,this.group=null,this.boneMask.length=0,this.animationNames.length=0},e.prototype.clear=function(){this._onClear()},e.prototype.copyFrom=function(t){this.pauseFadeOut=t.pauseFadeOut,this.fadeOutMode=t.fadeOutMode,this.autoFadeOutTime=t.autoFadeOutTime,this.fadeOutEasing=t.fadeOutEasing,this.additiveBlending=t.additiveBlending,this.displayControl=t.displayControl,this.pauseFadeIn=t.pauseFadeIn,this.actionEnabled=t.actionEnabled,this.playTimes=t.playTimes,this.layer=t.layer,this.position=t.position,this.duration=t.duration,this.timeScale=t.timeScale,this.fadeInTime=t.fadeInTime,this.fadeOutTime=t.fadeOutTime,this.fadeInEasing=t.fadeInEasing,this.weight=t.weight,this.name=t.name,this.animationName=t.animationName,this.group=t.group,this.boneMask.length=t.boneMask.length;for(var e=0,i=this.boneMask.length;e<i;++e)this.boneMask[e]=t.boneMask[e];this.animationNames.length=t.animationNames.length;for(var e=0,i=this.animationNames.length;e<i;++e)this.animationNames[e]=t.animationNames[e]},e.prototype.containsBoneMask=function(t){return 0===this.boneMask.length||this.boneMask.indexOf(t)>=0},e.prototype.addBoneMask=function(t,e,i){void 0===i&&(i=!0);var n=t.getBone(e);if(n&&(this.boneMask.indexOf(e)<0&&this.boneMask.push(e),i))for(var a=t.getBones(),s=0,r=a.length;s<r;++s){var o=a[s];this.boneMask.indexOf(o.name)<0&&n.contains(o)&&this.boneMask.push(o.name)}},e.prototype.removeBoneMask=function(t,e,i){void 0===i&&(i=!0);var n=this.boneMask.indexOf(e);if(n>=0&&this.boneMask.splice(n,1),i){var a=t.getBone(e);if(a){var s=t.getBones();if(this.boneMask.length>0)for(var r=0,o=s.length;r<o;++r){var l=s[r],h=this.boneMask.indexOf(l.name);h>=0&&a.contains(l)&&this.boneMask.splice(h,1)}else for(var r=0,o=s.length;r<o;++r){var l=s[r];a.contains(l)||this.boneMask.push(l.name)}}}},e}(t.BaseObject);t.AnimationConfig=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype._onClear=function(){this.position=0,this.duration=0,this.prev=null,this.next=null},e}(t.BaseObject);t.FrameData=e;var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i._getCurvePoint=function(t,e,i,n,a,s,r,o,l,h){var u=1-l,A=u*u,_=l*l,c=u*A,d=3*l*A,p=3*u*_,f=l*_;h.x=c*t+d*i+p*a+f*r,h.y=c*e+d*n+p*s+f*o},i.samplingEasingCurve=function(e,n){for(var a=e.length,s=new t.Point,r=-2,o=0,l=n.length;o<l;++o){for(var h=(o+1)/(l+1);(r+6<a?e[r+6]:1)<h;)r+=6;for(var u=r>=0&&r+6<a,A=u?e[r]:0,_=u?e[r+1]:0,c=e[r+2],d=e[r+3],p=e[r+4],f=e[r+5],m=u?e[r+6]:1,g=u?e[r+7]:1,v=0,y=1;y-v>.01;){var D=(y+v)/2;i._getCurvePoint(A,_,c,d,p,f,m,g,D,s),h-s.x>0?v=D:y=D}n[o]=s.y}},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.tweenEasing=0,this.curve=null},i}(e);t.TweenFrameData=i;var n=function(t){function e(){var e=t.call(this)||this;return e.actions=[],e.events=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.AnimationFrameData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this);for(var e=0,i=this.actions.length;e<i;++e)this.actions[e].returnToPool();for(var e=0,i=this.events.length;e<i;++e)this.events[e].returnToPool();this.actions.length=0,this.events.length=0},e}(e);t.AnimationFrameData=n;var a=function(t){function e(){var e=t.call(this)||this;return e.zOrder=[],e}return __extends(e,t),e.prototype._onClear=function(){t.prototype._onClear.call(this),this.zOrder.length=0},e}(e);t.ZOrderFrameData=a;var s=function(e){function i(){var i=e.call(this)||this;return i.transform=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneFrameData]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.tweenScale=!1,this.tweenRotate=0,this.transform.identity()},i}(i);t.BoneFrameData=s;var r=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.generateColor=function(){return new t.ColorTransform},i.toString=function(){return"[class dragonBones.SlotFrameData]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.displayIndex=0,this.color=null},i}(i);r.DEFAULT_COLOR=new t.ColorTransform,t.SlotFrameData=r;var o=function(t){function e(){var e=t.call(this)||this;return e.tweens=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.ExtensionFrameData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.tweens.length=0},e}(i);t.ExtensionFrameData=o}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.frames=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.TimelineData]"},e.prototype._onClear=function(){for(var t=null,e=0,i=this.frames.length;e<i;++e){var n=this.frames[e];
t&&n!==t&&t.returnToPool(),t=n}this.scale=1,this.offset=0,this.frames.length=0},e}(t.BaseObject);t.TimelineData=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineData]"},e}(e);t.ZOrderTimelineData=i;var n=function(e){function i(){var i=e.call(this)||this;return i.originalTransform=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneTimelineData]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.originalTransform.identity(),this.bone=null},i}(e);t.BoneTimelineData=n;var a=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.SlotTimelineData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.slot=null},e}(e);t.SlotTimelineData=a;var s=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.FFDTimelineData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.skin=null,this.slot=null,this.display=null},e}(e);t.FFDTimelineData=s}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.boneTimelines={},t.slotTimelines={},t.ffdTimelines={},t.cachedFrames=[],t.boneCachedFrameIndices={},t.slotCachedFrameIndices={},t}return __extends(i,e),i.toString=function(){return"[class dragonBones.AnimationData]"},i.prototype._onClear=function(){e.prototype._onClear.call(this);for(var t in this.boneTimelines)this.boneTimelines[t].returnToPool(),delete this.boneTimelines[t];for(var t in this.slotTimelines)this.slotTimelines[t].returnToPool(),delete this.slotTimelines[t];for(var t in this.ffdTimelines){for(var i in this.ffdTimelines[t])for(var n in this.ffdTimelines[t][i])this.ffdTimelines[t][i][n].returnToPool();delete this.ffdTimelines[t]}for(var t in this.boneCachedFrameIndices)delete this.boneCachedFrameIndices[t];for(var t in this.slotCachedFrameIndices)delete this.slotCachedFrameIndices[t];this.zOrderTimeline&&this.zOrderTimeline.returnToPool(),this.frameCount=0,this.playTimes=0,this.duration=0,this.fadeInTime=0,this.cacheFrameRate=0,this.name=null,this.cachedFrames.length=0,this.zOrderTimeline=null},i.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0)){this.cacheFrameRate=Math.max(Math.ceil(t*this.scale),1);var e=Math.ceil(this.cacheFrameRate*this.duration)+1;this.cachedFrames.length=0,this.cachedFrames.length=e;for(var i in this.boneTimelines){for(var n=new Array(e),a=0,s=n.length;a<s;++a)n[a]=-1;this.boneCachedFrameIndices[i]=n}for(var i in this.slotTimelines){for(var n=new Array(e),a=0,s=n.length;a<s;++a)n[a]=-1;this.slotCachedFrameIndices[i]=n}}},i.prototype.addBoneTimeline=function(e){if(!e||!e.bone||this.boneTimelines[e.bone.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.boneTimelines[e.bone.name]=e},i.prototype.addSlotTimeline=function(e){if(!e||!e.slot||this.slotTimelines[e.slot.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.slotTimelines[e.slot.name]=e},i.prototype.addFFDTimeline=function(e){if(!(e&&e.skin&&e.slot&&e.display))throw new Error(t.DragonBones.ARGUMENT_ERROR);var i=this.ffdTimelines[e.skin.name]=this.ffdTimelines[e.skin.name]||{},n=i[e.slot.slot.name]=i[e.slot.slot.name]||{};if(n[e.display.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);n[e.display.name]=e},i.prototype.getBoneTimeline=function(t){return this.boneTimelines[t]},i.prototype.getSlotTimeline=function(t){return this.slotTimelines[t]},i.prototype.getFFDTimeline=function(t,e){var i=this.ffdTimelines[t];return i?i[e]:null},i.prototype.getBoneCachedFrameIndices=function(t){return this.boneCachedFrameIndices[t]},i.prototype.getSlotCachedFrameIndices=function(t){return this.slotCachedFrameIndices[t]},i}(t.TimelineData);t.AnimationData=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.aabb=new t.Rectangle,i.bones={},i.slots={},i.skins={},i.animations={},i.actions=[],i._animationNames=[],i._sortedBones=[],i._sortedSlots=[],i._bonesChildren={},i}return __extends(i,e),i.toString=function(){return"[class dragonBones.ArmatureData]"},i._onSortSlots=function(t,e){return t.zOrder>e.zOrder?1:-1},i.prototype._onClear=function(){for(var t in this.bones)this.bones[t].returnToPool(),delete this.bones[t];for(var t in this.slots)this.slots[t].returnToPool(),delete this.slots[t];for(var t in this.skins)this.skins[t].returnToPool(),delete this.skins[t];for(var t in this.animations)this.animations[t].returnToPool(),delete this.animations[t];for(var e=0,i=this.actions.length;e<i;++e)this.actions[e].returnToPool();for(var t in this._bonesChildren)delete this._bonesChildren[t];this.userData&&this.userData.returnToPool(),this.frameRate=0,this.type=-1,this.cacheFrameRate=0,this.scale=1,this.name=null,this.aabb.clear(),this.actions.length=0,this.parent=null,this.userData=null,this._boneDirty=!1,this._slotDirty=!1,this._animationNames.length=0,this._sortedBones.length=0,this._sortedSlots.length=0,this._defaultSkin=null,this._defaultAnimation=null},i.prototype._sortBones=function(){var t=this._sortedBones.length;if(!(t<1)){var e=this._sortedBones.concat(),i=0,n=0;for(this._sortedBones.length=0;n<t;){var a=e[i++];i>=t&&(i=0),this._sortedBones.indexOf(a)>=0||a.parent&&this._sortedBones.indexOf(a.parent)<0||a.ik&&this._sortedBones.indexOf(a.ik)<0||(a.ik&&a.chain>0&&a.chainIndex===a.chain?this._sortedBones.splice(this._sortedBones.indexOf(a.parent)+1,0,a):this._sortedBones.push(a),n++)}}},i.prototype._sortSlots=function(){this._sortedSlots.sort(i._onSortSlots)},i.prototype.cacheFrames=function(t){if(!(this.cacheFrameRate>0)){this.cacheFrameRate=t;for(var e in this.animations)this.animations[e].cacheFrames(this.cacheFrameRate)}},i.prototype.setCacheFrame=function(t,e){var i=this.parent.cachedFrames,n=i.length;return i.length+=10,i[n]=t.a,i[n+1]=t.b,i[n+2]=t.c,i[n+3]=t.d,i[n+4]=t.tx,i[n+5]=t.ty,i[n+6]=e.skewX,i[n+7]=e.skewY,i[n+8]=e.scaleX,i[n+9]=e.scaleY,n},i.prototype.getCacheFrame=function(t,e,i){var n=this.parent.cachedFrames;t.a=n[i],t.b=n[i+1],t.c=n[i+2],t.d=n[i+3],t.tx=n[i+4],t.ty=n[i+5],e.skewX=n[i+6],e.skewY=n[i+7],e.scaleX=n[i+8],e.scaleY=n[i+9]},i.prototype.addBone=function(e,i){if(!e||!e.name||this.bones[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);if(i){var n=this.getBone(i);n?e.parent=n:(this._bonesChildren[i]=this._bonesChildren[i]||[]).push(e)}var a=this._bonesChildren[e.name];if(a){for(var s=0,r=a.length;s<r;++s)a[s].parent=e;delete this._bonesChildren[e.name]}this.bones[e.name]=e,this._sortedBones.push(e),this._boneDirty=!0},i.prototype.addSlot=function(e){if(!e||!e.name||this.slots[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.slots[e.name]=e,this._sortedSlots.push(e),this._slotDirty=!0},i.prototype.addSkin=function(e){if(!e||!e.name||this.skins[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.skins[e.name]=e,this._defaultSkin||(this._defaultSkin=e)},i.prototype.addAnimation=function(e){if(!e||!e.name||this.animations[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.animations[e.name]=e,this._animationNames.push(e.name),this._defaultAnimation||(this._defaultAnimation=e)},i.prototype.getBone=function(t){return this.bones[t]},i.prototype.getSlot=function(t){return this.slots[t]},i.prototype.getSkin=function(t){return t?this.skins[t]:this._defaultSkin},i.prototype.getAnimation=function(t){return t?this.animations[t]:this._defaultAnimation},Object.defineProperty(i.prototype,"animationNames",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sortedBones",{get:function(){return this._boneDirty&&(this._boneDirty=!1,this._sortBones()),this._sortedBones},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sortedSlots",{get:function(){return this._slotDirty&&(this._slotDirty=!1,this._sortSlots()),this._sortedSlots},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultSkin",{get:function(){return this._defaultSkin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultAnimation",{get:function(){return this._defaultAnimation},enumerable:!0,configurable:!0}),i}(t.BaseObject);t.ArmatureData=e;var i=function(e){function i(){var i=e.call(this)||this;return i.transform=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneData]"},i.prototype._onClear=function(){this.userData&&this.userData.returnToPool(),this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.bendPositive=!1,this.chain=0,this.chainIndex=0,this.weight=0,this.length=0,this.name=null,this.transform.identity(),this.parent=null,this.ik=null,this.userData=null},i}(t.BaseObject);t.BoneData=i;var n=function(e){function i(){var t=e.call(this)||this;return t.actions=[],t}return __extends(i,e),i.generateColor=function(){return new t.ColorTransform},i.toString=function(){return"[class dragonBones.SlotData]"},i.prototype._onClear=function(){for(var t=0,e=this.actions.length;t<e;++t)this.actions[t].returnToPool();this.userData&&this.userData.returnToPool(),this.displayIndex=-1,this.zOrder=0,this.blendMode=-1,this.name=null,this.actions.length=0,this.parent=null,this.color=null,this.userData=null},i}(t.BaseObject);n.DEFAULT_COLOR=new t.ColorTransform,t.SlotData=n;var a=function(e){function i(){var t=e.call(this)||this;return t.slots={},t}return __extends(i,e),i.toString=function(){return"[class dragonBones.SkinData]"},i.prototype._onClear=function(){for(var t in this.slots)this.slots[t].returnToPool(),delete this.slots[t];this.name=null},i.prototype.addSlot=function(e){if(!e||!e.slot||this.slots[e.slot.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.slots[e.slot.name]=e},i.prototype.getSlot=function(t){return this.slots[t]},i}(t.BaseObject);t.SkinData=a;var s=function(e){function i(){var t=e.call(this)||this;return t.displays=[],t.meshs={},t}return __extends(i,e),i.toString=function(){return"[class dragonBones.SkinSlotData]"},i.prototype._onClear=function(){for(var t=0,e=this.displays.length;t<e;++t)this.displays[t].returnToPool();for(var i in this.meshs)this.meshs[i].returnToPool(),delete this.meshs[i];this.displays.length=0,this.slot=null},i.prototype.getDisplay=function(t){for(var e=0,i=this.displays.length;e<i;++e){var n=this.displays[e];if(n.name===t)return n}return null},i.prototype.addMesh=function(e){if(!e||!e.name||this.meshs[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.meshs[e.name]=e},i.prototype.getMesh=function(t){return this.meshs[t]},i}(t.BaseObject);t.SkinSlotData=s;var r=function(e){function i(){var i=e.call(this)||this;return i.pivot=new t.Point,i.transform=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.DisplayData]"},i.prototype._onClear=function(){this.boundingBox&&this.boundingBox.returnToPool(),this.isRelativePivot=!1,this.type=-1,this.inheritAnimation=!0,this.name=null,this.path=null,this.share=null,this.pivot.clear(),this.transform.identity(),this.texture=null,this.armature=null,this.mesh=null,this.boundingBox=null},i}(t.BaseObject);t.DisplayData=r;var o=function(e){function i(){var i=e.call(this)||this;return i.slotPose=new t.Matrix,i.uvs=[],i.vertices=[],i.vertexIndices=[],i.boneIndices=[],i.weights=[],i.boneVertices=[],i.bones=[],i.inverseBindPose=[],i}return __extends(i,e),i.toString=function(){return"[class dragonBones.MeshData]"},i.prototype._onClear=function(){this.skinned=!1,this.name=null,this.slotPose.identity(),this.uvs.length=0,this.vertices.length=0,this.vertexIndices.length=0,this.boneIndices.length=0,this.weights.length=0,this.boneVertices.length=0,this.bones.length=0,this.inverseBindPose.length=0},i}(t.BaseObject);t.MeshData=o;var l=function(t){function e(){var e=t.call(this)||this;return e.vertices=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.BoundingBoxData]"},e._computeOutCode=function(t,e,i,n,a,s){var r=0;return t<i?r|=1:t>a&&(r|=2),e<n?r|=4:e>s&&(r|=8),r},e.segmentIntersectsRectangle=function(t,i,n,a,s,r,o,l,h,u,A){void 0===h&&(h=null),void 0===u&&(u=null),void 0===A&&(A=null);var _=t>s&&t<o&&i>r&&i<l,c=n>s&&n<o&&a>r&&a<l;if(_&&c)return-1;for(var d=0,p=e._computeOutCode(t,i,s,r,o,l),f=e._computeOutCode(n,a,s,r,o,l);;){if(!(p|f)){d=2;break}if(p&f)break;var m=0,g=0,v=0,y=p?p:f;4&y?(m=t+(n-t)*(r-i)/(a-i),g=r,A&&(v=.5*-Math.PI)):8&y?(m=t+(n-t)*(l-i)/(a-i),g=l,A&&(v=.5*Math.PI)):2&y?(g=i+(a-i)*(o-t)/(n-t),m=o,A&&(v=0)):1&y&&(g=i+(a-i)*(s-t)/(n-t),m=s,A&&(v=Math.PI)),y===p?(t=m,i=g,p=e._computeOutCode(t,i,s,r,o,l),A&&(A.x=v)):(n=m,a=g,f=e._computeOutCode(n,a,s,r,o,l),A&&(A.y=v))}return d&&(_?(d=2,h&&(h.x=n,h.y=a),u&&(u.x=n,u.y=n),A&&(A.x=A.y+Math.PI)):c?(d=1,h&&(h.x=t,h.y=i),u&&(u.x=t,u.y=i),A&&(A.y=A.x+Math.PI)):(d=3,h&&(h.x=t,h.y=i),u&&(u.x=n,u.y=a))),d},e.segmentIntersectsEllipse=function(t,e,i,n,a,s,r,o,l,h,u){void 0===l&&(l=null),void 0===h&&(h=null),void 0===u&&(u=null);var A=r/o,_=A*A;e*=A,n*=A;var c=i-t,d=n-e,p=Math.sqrt(c*c+d*d),f=c/p,m=d/p,g=(a-t)*f+(s-e)*m,v=g*g,y=t*t+e*e,D=r*r,T=D-y+v,b=0;if(T>=0){var w=Math.sqrt(T),P=g-w,E=g+w,S=P<0?-1:P<=p?0:1,x=E<0?-1:E<=p?0:1,O=S*x;if(O<0)return-1;0===O&&(S===-1?(b=2,i=t+E*f,n=(e+E*m)/A,l&&(l.x=i,l.y=n),h&&(h.x=i,h.y=n),u&&(u.x=Math.atan2(n/D*_,i/D),u.y=u.x+Math.PI)):1===x?(b=1,t+=P*f,e=(e+P*m)/A,l&&(l.x=t,l.y=e),h&&(h.x=t,h.y=e),u&&(u.x=Math.atan2(e/D*_,t/D),u.y=u.x+Math.PI)):(b=3,l&&(l.x=t+P*f,l.y=(e+P*m)/A,u&&(u.x=Math.atan2(l.y/D*_,l.x/D))),h&&(h.x=t+E*f,h.y=(e+E*m)/A,u&&(u.y=Math.atan2(h.y/D*_,h.x/D)))))}return b},e.segmentIntersectsPolygon=function(t,e,i,n,a,s,r,o){void 0===s&&(s=null),void 0===r&&(r=null),void 0===o&&(o=null),t===i&&(t=i+.01),e===n&&(e=n+.01);for(var l=a.length,h=t-i,u=e-n,A=t*n-e*i,_=0,c=a[l-2],d=a[l-1],p=0,f=0,m=0,g=0,v=0,y=0,D=0;D<l;D+=2){var T=a[D],b=a[D+1];c===T&&(c=T+.01),d===b&&(d=b+.01);var w=c-T,P=d-b,E=c*b-d*T,S=h*P-u*w,x=(A*w-h*E)/S;if((x>=c&&x<=T||x>=T&&x<=c)&&(0===h||x>=t&&x<=i||x>=i&&x<=t)){var O=(A*P-u*E)/S;if((O>=d&&O<=b||O>=b&&O<=d)&&(0===u||O>=e&&O<=n||O>=n&&O<=e)){if(!r){m=x,g=O,v=x,y=O,_++,o&&(o.x=Math.atan2(b-d,T-c)-.5*Math.PI,o.y=o.x);break}var B=x-t;B<0&&(B=-B),0===_?(p=B,f=B,m=x,g=O,v=x,y=O,o&&(o.x=Math.atan2(b-d,T-c)-.5*Math.PI,o.y=o.x)):(B<p&&(p=B,m=x,g=O,o&&(o.x=Math.atan2(b-d,T-c)-.5*Math.PI)),B>f&&(f=B,v=x,y=O,o&&(o.y=Math.atan2(b-d,T-c)-.5*Math.PI))),_++}}c=T,d=b}return 1===_?(s&&(s.x=m,s.y=g),r&&(r.x=m,r.y=g),o&&(o.y=o.x+Math.PI)):_>1&&(_++,s&&(s.x=m,s.y=g),r&&(r.x=v,r.y=y)),_},e.prototype._onClear=function(){this.type=-1,this.color=0,this.x=0,this.y=0,this.width=0,this.height=0,this.vertices.length=0},e.prototype.containsPoint=function(t,e){var i=!1;if(2===this.type){if(t>=this.x&&t<=this.width&&e>=this.y&&e<=this.height)for(var n=0,a=this.vertices.length,s=a-2;n<a;n+=2){var r=this.vertices[s+1],o=this.vertices[n+1];if(o<e&&r>=e||r<e&&o>=e){var l=this.vertices[s],h=this.vertices[n];(e-o)*(l-h)/(r-o)+h<t&&(i=!i)}s=n}}else{var u=.5*this.width;if(t>=-u&&t<=u){var A=.5*this.height;e>=-A&&e<=A&&(1===this.type?(e*=u/A,i=Math.sqrt(t*t+e*e)<=u):i=!0)}}return i},e.prototype.intersectsSegment=function(t,i,n,a,s,r,o){void 0===s&&(s=null),void 0===r&&(r=null),void 0===o&&(o=null);var l=0;switch(this.type){case 0:var h=.5*this.width,u=.5*this.height;l=e.segmentIntersectsRectangle(t,i,n,a,-h,-u,h,u,s,r,o);break;case 1:l=e.segmentIntersectsEllipse(t,i,n,a,0,0,.5*this.width,.5*this.height,s,r,o);break;case 2:0!==e.segmentIntersectsRectangle(t,i,n,a,this.x,this.y,this.width,this.height,null,null)&&(l=e.segmentIntersectsPolygon(t,i,n,a,this.vertices,s,r,o))}return l},e}(t.BaseObject);t.BoundingBoxData=l}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.ints=[],e.floats=[],e.strings=[],e}return __extends(e,t),e.toString=function(){return"[class dragonBones.CustomData]"},e.prototype._onClear=function(){this.ints.length=0,this.floats.length=0,this.strings.length=0},e.prototype.getInt=function(t){return void 0===t&&(t=0),t>=0&&t<this.ints.length?this.ints[t]:0},e.prototype.getFloat=function(t){return void 0===t&&(t=0),t>=0&&t<this.floats.length?this.floats[t]:0},e.prototype.getString=function(t){return void 0===t&&(t=0),t>=0&&t<this.strings.length?this.strings[t]:null},e}(t.BaseObject);t.CustomData=e;var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.EventData]"},e.prototype._onClear=function(){this.data&&this.data.returnToPool(),this.type=-1,this.name=null,this.bone=null,this.slot=null,this.data=null},e}(t.BaseObject);t.EventData=i;var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.ActionData]"},e.prototype._onClear=function(){this.animationConfig&&this.animationConfig.returnToPool(),this.type=-1,this.bone=null,this.slot=null,this.animationConfig=null},e}(t.BaseObject);t.ActionData=n;var a=function(e){function i(){var t=e.call(this)||this;return t.armatures={},t.cachedFrames=[],t._armatureNames=[],t}return __extends(i,e),i.toString=function(){return"[class dragonBones.DragonBonesData]"},i.prototype._onClear=function(){if(t.DragonBones.debug)for(var e=0,i=t.DragonBones._armatures.length;e<i;++e){var n=t.DragonBones._armatures[e];if(n.armatureData.parent===this)throw new Error("The DragonBonesData is being used, please make sure all armature references to the data have been deleted.")}for(var a in this.armatures)this.armatures[a].returnToPool(),delete this.armatures[a];this.userData&&this.userData.returnToPool(),this.autoSearch=!1,this.frameRate=0,this.name=null,this.cachedFrames.length=0,this.userData=null,this._armatureNames.length=0},i.prototype.addArmature=function(e){if(!e||!e.name||this.armatures[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.armatures[e.name]=e,this._armatureNames.push(e.name),e.parent=this},i.prototype.getArmature=function(t){return this.armatures[t]},Object.defineProperty(i.prototype,"armatureNames",{get:function(){return this._armatureNames},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.returnToPool()},i}(t.BaseObject);t.DragonBonesData=a}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.textures={},t}return __extends(i,e),i.prototype._onClear=function(){for(var t in this.textures)this.textures[t].returnToPool(),delete this.textures[t];this.autoSearch=!1,this.scale=1,this.width=0,this.height=0,this.name=null,this.imagePath=null},i.prototype.addTexture=function(e){if(!e||!e.name||this.textures[e.name])throw new Error(t.DragonBones.ARGUMENT_ERROR);this.textures[e.name]=e,e.parent=this},i.prototype.getTexture=function(t){return this.textures[t]},i.prototype.copyFrom=function(t){this.autoSearch=t.autoSearch,this.scale=t.scale,this.width=t.width,this.height=t.height,this.name=t.name,this.imagePath=t.imagePath;for(var e in this.textures)this.textures[e].returnToPool(),delete this.textures[e];for(var e in t.textures){var i=this.generateTexture();i.copyFrom(t.textures[e]),this.textures[e]=i}},i}(t.BaseObject);t.TextureAtlasData=e;var i=function(e){function i(){var i=e.call(this)||this;return i.region=new t.Rectangle,i}return __extends(i,e),i.generateRectangle=function(){return new t.Rectangle},i.prototype._onClear=function(){this.rotated=!1,this.name=null,this.region.clear(),this.frame=null,this.parent=null},i.prototype.copyFrom=function(t){this.rotated=t.rotated,this.name=t.name,!this.frame&&t.frame?this.frame=i.generateRectangle():this.frame&&!t.frame&&(this.frame=null),this.frame&&t.frame&&this.frame.copyFrom(t.frame),this.parent=t.parent,this.region.copyFrom(t.region)},i}(t.BaseObject);t.TextureData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(){this._isOldData=!1,this._isGlobalTransform=!1,this._isAutoTween=!1,this._animationTweenEasing=0,this._timelinePivot=new t.Point,this._helpPoint=new t.Point,this._helpTransformA=new t.Transform,this._helpTransformB=new t.Transform,this._helpMatrix=new t.Matrix,this._rawBones=[],this._data=null,this._armature=null,this._skin=null,this._skinSlotData=null,this._animation=null,this._timeline=null}return e._getArmatureType=function(t){switch(t.toLowerCase()){case"stage":return 2;case"armature":return 0;case"movieclip":return 1;default:return-1}},e._getDisplayType=function(t){switch(t.toLowerCase()){case"image":return 0;case"mesh":return 2;case"armature":return 1;case"boundingbox":return 3;default:return-1}},e._getBoundingBoxType=function(t){switch(t.toLowerCase()){case"rectangle":return 0;case"ellipse":return 1;case"polygon":return 2;default:return-1}},e._getBlendMode=function(t){switch(t.toLowerCase()){case"normal":return 0;case"add":return 1;case"alpha":return 2;case"darken":return 3;case"difference":return 4;case"erase":return 5;case"hardlight":return 6;case"invert":return 7;case"layer":return 8;case"lighten":return 9;case"multiply":return 10;case"overlay":return 11;case"screen":return 12;case"subtract":return 13;default:return-1}},e._getActionType=function(t){switch(t.toLowerCase()){case"play":case"gotoandplay":return 0;default:return-1}},e.prototype._getTimelineFrameMatrix=function(e,i,n,a){var s=Math.floor(n*e.frameCount/e.duration);if(1===i.frames.length||s>=i.frames.length)a.copyFrom(i.frames[0].transform);else{var r=i.frames[s],o=0;r.tweenEasing!==t.DragonBones.NO_TWEEN?(o=(n-r.position)/r.duration,0!==r.tweenEasing&&(o=t.TweenTimelineState._getEasingValue(o,r.tweenEasing))):r.curve&&(o=(n-r.position)/r.duration,o=t.TweenTimelineState._getEasingCurveValue(o,r.curve));var l=r.next;a.x=l.transform.x-r.transform.x,a.y=l.transform.y-r.transform.y,a.skewX=t.Transform.normalizeRadian(l.transform.skewX-r.transform.skewX),a.skewY=t.Transform.normalizeRadian(l.transform.skewY-r.transform.skewY),a.scaleX=l.transform.scaleX-r.transform.scaleX,a.scaleY=l.transform.scaleY-r.transform.scaleY,a.x=r.transform.x+a.x*o,a.y=r.transform.y+a.y*o,a.skewX=r.transform.skewX+a.skewX*o,a.skewY=r.transform.skewY+a.skewY*o,a.scaleX=r.transform.scaleX+a.scaleX*o,a.scaleY=r.transform.scaleY+a.scaleY*o}a.add(i.originalTransform)},e.prototype._globalToLocal=function(t){for(var e=new Array,i=t.sortedBones.concat().reverse(),n=0,a=i.length;n<a;++n){var s=i[n];s.parent&&(s.parent.transform.toMatrix(this._helpMatrix),this._helpMatrix.invert(),this._helpMatrix.transformPoint(s.transform.x,s.transform.y,this._helpPoint),s.transform.x=this._helpPoint.x,s.transform.y=this._helpPoint.y,s.transform.rotation-=s.parent.transform.rotation);for(var r in t.animations){var o=t.animations[r],l=o.getBoneTimeline(s.name);if(l){var h=s.parent?o.getBoneTimeline(s.parent.name):null;this._helpTransformB.copyFrom(l.originalTransform),e.length=0;for(var u=0,A=l.frames.length;u<A;++u){var _=l.frames[u];e.indexOf(_)>=0||(e.push(_),h?(this._getTimelineFrameMatrix(o,h,_.position,this._helpTransformA),_.transform.add(this._helpTransformB),this._helpTransformA.toMatrix(this._helpMatrix),this._helpMatrix.invert(),this._helpMatrix.transformPoint(_.transform.x,_.transform.y,this._helpPoint),_.transform.x=this._helpPoint.x,_.transform.y=this._helpPoint.y,_.transform.rotation-=this._helpTransformA.rotation):_.transform.add(this._helpTransformB),_.transform.minus(s.transform),0===u?(l.originalTransform.copyFrom(_.transform),_.transform.identity()):_.transform.minus(l.originalTransform))}}}}},e.prototype._mergeFrameToAnimationTimeline=function(e,i,n){var a=Math.floor(e*this._armature.frameRate),s=this._animation.frames;if(0===s.length){var r=t.BaseObject.borrowObject(t.AnimationFrameData);if(r.position=0,this._animation.frameCount>1){s.length=this._animation.frameCount+1;var o=t.BaseObject.borrowObject(t.AnimationFrameData);o.position=this._animation.frameCount/this._armature.frameRate,s[0]=r,s[this._animation.frameCount]=o}}var l=null,h=s[a];if(!h||0!==a&&s[a-1]!==h.prev){l=t.BaseObject.borrowObject(t.AnimationFrameData),l.position=a/this._armature.frameRate,s[a]=l;for(var u=a+1,A=s.length;u<A;++u)h&&s[u]===h&&(s[u]=null)}else l=h;if(i)for(var u=0,A=i.length;u<A;++u)l.actions.push(i[u]);if(n)for(var u=0,A=n.length;u<A;++u)l.events.push(n[u]);for(var _=null,c=null,u=0,A=s.length;u<A;++u){var d=s[u];d&&c!==d?(c=d,_&&(c.prev=_,_.next=c,_.duration=c.position-_.position),_=c):s[u]=_}c.duration=this._animation.duration-c.position,c=s[0],_.next=c,c.prev=_},e.parseDragonBonesData=function(e){return t.ObjectDataParser.getInstance().parseDragonBonesData(e)},e.parseTextureAtlasData=function(i,n){void 0===n&&(n=1);for(var a={},s=i[e.SUB_TEXTURE],r=0,o=s.length;r<o;r++){var l=s[r],h=l[e.NAME],u=new t.Rectangle,A=null;u.x=l[e.X]/n,u.y=l[e.Y]/n,u.width=l[e.WIDTH]/n,u.height=l[e.HEIGHT]/n,e.FRAME_WIDTH in l&&(A=new t.Rectangle,A.x=l[e.FRAME_X]/n,A.y=l[e.FRAME_Y]/n,A.width=l[e.FRAME_WIDTH]/n,A.height=l[e.FRAME_HEIGHT]/n),a[h]={region:u,frame:A,rotated:!1}}return a},e}();e.DATA_VERSION_2_3="2.3",e.DATA_VERSION_3_0="3.0",e.DATA_VERSION_4_0="4.0",e.DATA_VERSION_4_5="4.5",e.DATA_VERSION_5_0="5.0",e.DATA_VERSION=e.DATA_VERSION_5_0,e.DATA_VERSIONS=[e.DATA_VERSION_5_0,e.DATA_VERSION_4_5,e.DATA_VERSION_4_0,e.DATA_VERSION_3_0,e.DATA_VERSION_2_3],e.TEXTURE_ATLAS="TextureAtlas",e.SUB_TEXTURE="SubTexture",e.FORMAT="format",e.IMAGE_PATH="imagePath",e.WIDTH="width",e.HEIGHT="height",e.ROTATED="rotated",e.FRAME_X="frameX",e.FRAME_Y="frameY",e.FRAME_WIDTH="frameWidth",e.FRAME_HEIGHT="frameHeight",e.DRADON_BONES="dragonBones",e.ARMATURE="armature",e.BONE="bone",e.IK="ik",e.SLOT="slot",e.SKIN="skin",e.DISPLAY="display",e.ANIMATION="animation",e.Z_ORDER="zOrder",e.FFD="ffd",e.FRAME="frame",e.ACTIONS="actions",e.EVENTS="events",e.INTS="ints",e.FLOATS="floats",e.STRINGS="strings",e.PIVOT="pivot",e.TRANSFORM="transform",e.AABB="aabb",e.COLOR="color",e.VERSION="version",e.COMPATIBLE_VERSION="compatibleVersion",e.FRAME_RATE="frameRate",e.TYPE="type",e.SUB_TYPE="subType",e.NAME="name",e.PARENT="parent",e.TARGET="target",e.SHARE="share",e.PATH="path",e.LENGTH="length",e.DISPLAY_INDEX="displayIndex",e.BLEND_MODE="blendMode",e.INHERIT_TRANSLATION="inheritTranslation",e.INHERIT_ROTATION="inheritRotation",e.INHERIT_SCALE="inheritScale",e.INHERIT_ANIMATION="inheritAnimation",e.INHERIT_FFD="inheritFFD",e.BEND_POSITIVE="bendPositive",e.CHAIN="chain",e.WEIGHT="weight",e.FADE_IN_TIME="fadeInTime",e.PLAY_TIMES="playTimes",e.SCALE="scale",e.OFFSET="offset",e.POSITION="position",e.DURATION="duration",e.TWEEN_TYPE="tweenType",e.TWEEN_EASING="tweenEasing",e.TWEEN_ROTATE="tweenRotate",e.TWEEN_SCALE="tweenScale",e.CURVE="curve",e.EVENT="event",e.SOUND="sound",e.ACTION="action",e.DEFAULT_ACTIONS="defaultActions",e.X="x",e.Y="y",e.SKEW_X="skX",e.SKEW_Y="skY",e.SCALE_X="scX",e.SCALE_Y="scY",e.ALPHA_OFFSET="aO",e.RED_OFFSET="rO",e.GREEN_OFFSET="gO",e.BLUE_OFFSET="bO",e.ALPHA_MULTIPLIER="aM",e.RED_MULTIPLIER="rM",e.GREEN_MULTIPLIER="gM",e.BLUE_MULTIPLIER="bM",e.UVS="uvs",e.VERTICES="vertices",e.TRIANGLES="triangles",e.WEIGHTS="weights",e.SLOT_POSE="slotPose",e.BONE_POSE="bonePose",e.COLOR_TRANSFORM="colorTransform",e.TIMELINE="timeline",e.IS_GLOBAL="isGlobal",e.PIVOT_X="pX",e.PIVOT_Y="pY",e.Z="z",e.LOOP="loop",e.AUTO_TWEEN="autoTween",e.HIDE="hide",e.DEFAULT_NAME="__default",t.DataParser=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i._getBoolean=function(t,e,i){if(e in t){var n=t[e],a=typeof n;if("boolean"===a)return n;if("string"!==a)return!!n;switch(n){case"0":case"NaN":case"":case"false":case"null":case"undefined":return!1;default:return!0}}return i},i._getNumber=function(t,e,i){if(e in t){var n=t[e];return null==n||"NaN"===n?i:+n||0}return i},i._getString=function(t,e,i){return e in t?String(t[e]):i},i.prototype._parseArmature=function(e,n){var a=t.BaseObject.borrowObject(t.ArmatureData);if(a.name=i._getString(e,i.NAME,null),a.frameRate=i._getNumber(e,i.FRAME_RATE,this._data.frameRate),a.scale=n,0===a.frameRate&&(a.frameRate=24),i.TYPE in e&&"string"==typeof e[i.TYPE]?a.type=i._getArmatureType(e[i.TYPE]):a.type=i._getNumber(e,i.TYPE,0),this._armature=a,this._rawBones.length=0,i.AABB in e){var s=e[i.AABB];a.aabb.x=i._getNumber(s,i.X,0),a.aabb.y=i._getNumber(s,i.Y,0),a.aabb.width=i._getNumber(s,i.WIDTH,0),a.aabb.height=i._getNumber(s,i.HEIGHT,0)}if(i.BONE in e)for(var r=e[i.BONE],o=0,l=r.length;o<l;++o){var h=r[o],u=this._parseBone(h);a.addBone(u,i._getString(h,i.PARENT,null)),this._rawBones.push(u)}if(i.IK in e)for(var A=e[i.IK],o=0,l=A.length;o<l;++o)this._parseIK(A[o]);if(i.SLOT in e)for(var _=e[i.SLOT],c=0,o=0,l=_.length;o<l;++o)a.addSlot(this._parseSlot(_[o],c++));if(i.SKIN in e)for(var d=e[i.SKIN],o=0,l=d.length;o<l;++o)a.addSkin(this._parseSkin(d[o]));if(i.ANIMATION in e)for(var p=e[i.ANIMATION],o=0,l=p.length;o<l;++o)a.addAnimation(this._parseAnimation(p[o]));return(i.ACTIONS in e||i.DEFAULT_ACTIONS in e)&&this._parseActionData(e,a.actions,null,null),this._isOldData&&this._isGlobalTransform&&this._globalToLocal(a),this._armature=null,this._rawBones.length=0,a},i.prototype._parseBone=function(e){var n=t.BaseObject.borrowObject(t.BoneData);return n.inheritTranslation=i._getBoolean(e,i.INHERIT_TRANSLATION,!0),n.inheritRotation=i._getBoolean(e,i.INHERIT_ROTATION,!0),n.inheritScale=i._getBoolean(e,i.INHERIT_SCALE,!0),n.length=i._getNumber(e,i.LENGTH,0)*this._armature.scale,n.name=i._getString(e,i.NAME,null),i.TRANSFORM in e&&this._parseTransform(e[i.TRANSFORM],n.transform),this._isOldData&&(n.inheritScale=!1),n},i.prototype._parseIK=function(t){var e=this._armature.getBone(i._getString(t,i.BONE in t?i.BONE:i.NAME,null));e&&(e.bendPositive=i._getBoolean(t,i.BEND_POSITIVE,!0),e.chain=i._getNumber(t,i.CHAIN,0),e.weight=i._getNumber(t,i.WEIGHT,1),e.ik=this._armature.getBone(i._getString(t,i.TARGET,null)),e.chain>0&&e.parent&&!e.parent.ik?(e.parent.ik=e.ik,e.parent.chainIndex=0,e.parent.chain=0,e.chainIndex=1):(e.chain=0,e.chainIndex=0))},i.prototype._parseSlot=function(e,n){var a=t.BaseObject.borrowObject(t.SlotData);return a.displayIndex=i._getNumber(e,i.DISPLAY_INDEX,0),a.zOrder=i._getNumber(e,i.Z,n),a.name=i._getString(e,i.NAME,null),a.parent=this._armature.getBone(i._getString(e,i.PARENT,null)),i.COLOR in e||i.COLOR_TRANSFORM in e?(a.color=t.SlotData.generateColor(),this._parseColorTransform(e[i.COLOR]||e[i.COLOR_TRANSFORM],a.color)):a.color=t.SlotData.DEFAULT_COLOR,i.BLEND_MODE in e&&"string"==typeof e[i.BLEND_MODE]?a.blendMode=i._getBlendMode(e[i.BLEND_MODE]):a.blendMode=i._getNumber(e,i.BLEND_MODE,0),(i.ACTIONS in e||i.DEFAULT_ACTIONS in e)&&this._parseActionData(e,a.actions,null,null),this._isOldData&&(i.COLOR_TRANSFORM in e?(a.color=t.SlotData.generateColor(),this._parseColorTransform(e[i.COLOR_TRANSFORM],a.color)):a.color=t.SlotData.DEFAULT_COLOR),a},i.prototype._parseSkin=function(e){var n=t.BaseObject.borrowObject(t.SkinData);if(n.name=i._getString(e,i.NAME,i.DEFAULT_NAME),n.name||(n.name=i.DEFAULT_NAME),i.SLOT in e){this._skin=n;for(var a=e[i.SLOT],s=0,r=0,o=a.length;r<o;++r)this._isOldData&&this._armature.addSlot(this._parseSlot(a[r],s++)),n.addSlot(this._parseSkinSlotData(a[r]));this._skin=null}return n},i.prototype._parseSkinSlotData=function(e){var n=t.BaseObject.borrowObject(t.SkinSlotData);if(n.slot=this._armature.getSlot(i._getString(e,i.NAME,null)),i.DISPLAY in e){var a=e[i.DISPLAY];this._skinSlotData=n;for(var s=0,r=a.length;s<r;++s)n.displays.push(this._parseDisplay(a[s]));this._skinSlotData=null}return n},i.prototype._parseDisplay=function(e){var n=t.BaseObject.borrowObject(t.DisplayData);if(n.inheritAnimation=i._getBoolean(e,i.INHERIT_ANIMATION,!0),n.name=i._getString(e,i.NAME,null),n.path=i._getString(e,i.PATH,n.name),i.TYPE in e&&"string"==typeof e[i.TYPE]?n.type=i._getDisplayType(e[i.TYPE]):n.type=i._getNumber(e,i.TYPE,0),n.isRelativePivot=!0,i.PIVOT in e){var a=e[i.PIVOT];n.pivot.x=i._getNumber(a,i.X,0),n.pivot.y=i._getNumber(a,i.Y,0);
}else if(this._isOldData){var s=e[i.TRANSFORM];n.isRelativePivot=!1,n.pivot.x=i._getNumber(s,i.PIVOT_X,0)*this._armature.scale,n.pivot.y=i._getNumber(s,i.PIVOT_Y,0)*this._armature.scale}else n.pivot.x=.5,n.pivot.y=.5;switch(i.TRANSFORM in e&&this._parseTransform(e[i.TRANSFORM],n.transform),n.type){case 0:break;case 1:break;case 2:n.share=i._getString(e,i.SHARE,null),n.share||(n.inheritAnimation=i._getBoolean(e,i.INHERIT_FFD,!0),n.mesh=this._parseMesh(e),this._skinSlotData.addMesh(n.mesh));break;case 3:n.boundingBox=this._parseBoundingBox(e)}return n},i.prototype._parseMesh=function(e){var n=t.BaseObject.borrowObject(t.MeshData),a=e[i.VERTICES],s=e[i.UVS],r=e[i.TRIANGLES],o=Math.floor(a.length/2),l=Math.floor(r.length/3),h=new Array(this._armature.sortedBones.length);if(n.skinned=i.WEIGHTS in e&&e[i.WEIGHTS].length>0,n.name=i._getString(e,i.NAME,null),n.uvs.length=2*o,n.vertices.length=2*o,n.vertexIndices.length=3*l,n.skinned){if(n.boneIndices.length=o,n.weights.length=o,n.boneVertices.length=o,i.SLOT_POSE in e){var u=e[i.SLOT_POSE];n.slotPose.a=u[0],n.slotPose.b=u[1],n.slotPose.c=u[2],n.slotPose.d=u[3],n.slotPose.tx=u[4]*this._armature.scale,n.slotPose.ty=u[5]*this._armature.scale}if(i.BONE_POSE in e)for(var A=e[i.BONE_POSE],_=0,c=A.length;_<c;_+=7){var d=A[_],p=h[d]=new t.Matrix;p.a=A[_+1],p.b=A[_+2],p.c=A[_+3],p.d=A[_+4],p.tx=A[_+5]*this._armature.scale,p.ty=A[_+6]*this._armature.scale,p.invert()}}for(var _=0,f=0,c=a.length;_<c;_+=2){var m=_+1,g=_/2,v=n.vertices[_]=a[_]*this._armature.scale,y=n.vertices[m]=a[m]*this._armature.scale;if(n.uvs[_]=s[_],n.uvs[m]=s[m],n.skinned){var D=e[i.WEIGHTS],T=D[f],b=n.boneIndices[g]=new Array(T),w=n.weights[g]=new Array(T),P=n.boneVertices[g]=new Array(2*T);n.slotPose.transformPoint(v,y,this._helpPoint),v=n.vertices[_]=this._helpPoint.x,y=n.vertices[m]=this._helpPoint.y;for(var E=0;E<T;++E){var S=f+1+2*E,d=D[S],x=this._rawBones[d],O=n.bones.indexOf(x);O<0&&(O=n.bones.length,n.bones[O]=x,n.inverseBindPose[O]=h[d]),n.inverseBindPose[O].transformPoint(v,y,this._helpPoint),b[E]=O,w[E]=D[S+1],P[2*E]=this._helpPoint.x,P[2*E+1]=this._helpPoint.y}f+=2*T+1}}for(var _=0,c=r.length;_<c;++_)n.vertexIndices[_]=r[_];return n},i.prototype._parseBoundingBox=function(e){var n=t.BaseObject.borrowObject(t.BoundingBoxData);switch(i.SUB_TYPE in e&&"string"==typeof e[i.SUB_TYPE]?n.type=i._getBoundingBoxType(e[i.SUB_TYPE]):n.type=i._getNumber(e,i.SUB_TYPE,0),n.color=i._getNumber(e,i.COLOR,0),n.type){case 0:case 1:n.width=i._getNumber(e,i.WIDTH,0),n.height=i._getNumber(e,i.HEIGHT,0);break;case 2:if(i.VERTICES in e){var a=e[i.VERTICES];n.vertices.length=a.length;for(var s=0,r=n.vertices.length;s<r;s+=2){var o=s+1,l=a[s],h=a[o];n.vertices[s]=l,n.vertices[o]=h,0===s?(n.x=l,n.y=h,n.width=l,n.height=h):(l<n.x?n.x=l:l>n.width&&(n.width=l),h<n.y?n.y=h:h>n.height&&(n.height=h))}}}return n},i.prototype._parseAnimation=function(e){var n=t.BaseObject.borrowObject(t.AnimationData);if(n.frameCount=Math.max(i._getNumber(e,i.DURATION,1),1),n.playTimes=i._getNumber(e,i.PLAY_TIMES,1),n.duration=n.frameCount/this._armature.frameRate,n.fadeInTime=i._getNumber(e,i.FADE_IN_TIME,0),n.name=i._getString(e,i.NAME,i.DEFAULT_NAME),n.name||(n.name=i.DEFAULT_NAME),this._animation=n,this._parseTimeline(e,n,this._parseAnimationFrame),i.Z_ORDER in e&&(n.zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineData),this._parseTimeline(e[i.Z_ORDER],n.zOrderTimeline,this._parseZOrderFrame)),i.BONE in e)for(var a=e[i.BONE],s=0,r=a.length;s<r;++s)n.addBoneTimeline(this._parseBoneTimeline(a[s]));if(i.SLOT in e)for(var o=e[i.SLOT],s=0,r=o.length;s<r;++s)n.addSlotTimeline(this._parseSlotTimeline(o[s]));if(i.FFD in e)for(var l=e[i.FFD],s=0,r=l.length;s<r;++s)n.addFFDTimeline(this._parseFFDTimeline(l[s]));if(this._isOldData){if(this._isAutoTween=i._getBoolean(e,i.AUTO_TWEEN,!0),this._animationTweenEasing=i._getNumber(e,i.TWEEN_EASING,0)||0,n.playTimes=i._getNumber(e,i.LOOP,1),i.TIMELINE in e)for(var h=e[i.TIMELINE],s=0,r=h.length;s<r;++s){var u=h[s];n.addBoneTimeline(this._parseBoneTimeline(u)),n.addSlotTimeline(this._parseSlotTimeline(u))}}else this._isAutoTween=!1,this._animationTweenEasing=0;for(var s in this._armature.bones){var A=this._armature.bones[s];if(!n.getBoneTimeline(A.name)){var _=t.BaseObject.borrowObject(t.BoneTimelineData),c=t.BaseObject.borrowObject(t.BoneFrameData);_.bone=A,_.frames[0]=c,n.addBoneTimeline(_)}}for(var s in this._armature.slots){var d=this._armature.slots[s];if(!n.getSlotTimeline(d.name)){var p=t.BaseObject.borrowObject(t.SlotTimelineData),f=t.BaseObject.borrowObject(t.SlotFrameData);p.slot=d,f.displayIndex=d.displayIndex,d.color===t.SlotData.DEFAULT_COLOR?f.color=t.SlotFrameData.DEFAULT_COLOR:(f.color=t.SlotFrameData.generateColor(),f.color.copyFrom(d.color)),p.frames[0]=f,n.addSlotTimeline(p),this._isOldData&&(f.displayIndex=-1)}}return this._animation=null,n},i.prototype._parseBoneTimeline=function(e){var n=t.BaseObject.borrowObject(t.BoneTimelineData);n.bone=this._armature.getBone(i._getString(e,i.NAME,null)),this._parseTimeline(e,n,this._parseBoneFrame);for(var a=n.originalTransform,s=null,r=0,o=n.frames.length;r<o;++r){var l=n.frames[r];s?s!==l&&l.transform.minus(a):(a.copyFrom(l.transform),l.transform.identity(),0===a.scaleX&&(a.scaleX=.001),0===a.scaleY&&(a.scaleY=.001)),s=l}return this._isOldData&&(i.PIVOT_X in e||i.PIVOT_Y in e)?(this._timelinePivot.x=i._getNumber(e,i.PIVOT_X,0)*this._armature.scale,this._timelinePivot.y=i._getNumber(e,i.PIVOT_Y,0)*this._armature.scale):this._timelinePivot.clear(),n},i.prototype._parseSlotTimeline=function(e){var n=t.BaseObject.borrowObject(t.SlotTimelineData);return n.slot=this._armature.getSlot(i._getString(e,i.NAME,null)),this._parseTimeline(e,n,this._parseSlotFrame),n},i.prototype._parseFFDTimeline=function(e){var n=t.BaseObject.borrowObject(t.FFDTimelineData);n.skin=this._armature.getSkin(i._getString(e,i.SKIN,null)),n.slot=n.skin.getSlot(i._getString(e,i.SLOT,null));for(var a=i._getString(e,i.NAME,null),s=0,r=n.slot.displays.length;s<r;++s){var o=n.slot.displays[s];if(o.mesh&&o.name===a){n.display=o;break}}return this._parseTimeline(e,n,this._parseFFDFrame),n},i.prototype._parseAnimationFrame=function(e,n,a){var s=t.BaseObject.borrowObject(t.AnimationFrameData);return this._parseFrame(e,s,n,a),(i.ACTION in e||i.ACTIONS in e)&&this._parseActionData(e,s.actions,null,null),(i.EVENTS in e||i.EVENT in e||i.SOUND in e)&&this._parseEventData(e,s.events,null,null),s},i.prototype._parseZOrderFrame=function(e,n,a){var s=t.BaseObject.borrowObject(t.ZOrderFrameData);this._parseFrame(e,s,n,a);var r=e[i.Z_ORDER];if(r&&r.length>0){var o=this._armature.sortedSlots.length,l=new Array(o-r.length/2);s.zOrder.length=o;for(var h=0;h<o;++h)s.zOrder[h]=-1;for(var u=0,A=0,_=0,c=r.length;_<c;_+=2){for(var d=r[_],p=r[_+1];u!==d;)l[A++]=u++;s.zOrder[u+p]=u++}for(;u<o;)l[A++]=u++;for(var f=o;f--;)s.zOrder[f]===-1&&(s.zOrder[f]=l[--A])}return s},i.prototype._parseBoneFrame=function(e,n,a){var s=t.BaseObject.borrowObject(t.BoneFrameData);if(s.tweenRotate=i._getNumber(e,i.TWEEN_ROTATE,0),s.tweenScale=i._getBoolean(e,i.TWEEN_SCALE,!0),this._parseTweenFrame(e,s,n,a),i.TRANSFORM in e){var r=e[i.TRANSFORM];this._parseTransform(r,s.transform),this._isOldData&&(this._helpPoint.x=this._timelinePivot.x+i._getNumber(r,i.PIVOT_X,0)*this._armature.scale,this._helpPoint.y=this._timelinePivot.y+i._getNumber(r,i.PIVOT_Y,0)*this._armature.scale,s.transform.toMatrix(this._helpMatrix),this._helpMatrix.transformPoint(this._helpPoint.x,this._helpPoint.y,this._helpPoint,!0),s.transform.x+=this._helpPoint.x,s.transform.y+=this._helpPoint.y)}var o=this._timeline.bone,l=new Array,h=new Array;if(i.ACTION in e||i.ACTIONS in e){var u=this._armature.getSlot(o.name);this._parseActionData(e,l,o,u)}return(i.EVENT in e||i.SOUND in e)&&this._parseEventData(e,h,o,null),(l.length>0||h.length>0)&&this._mergeFrameToAnimationTimeline(s.position,l,h),s},i.prototype._parseSlotFrame=function(e,n,a){var s=t.BaseObject.borrowObject(t.SlotFrameData);if(s.displayIndex=i._getNumber(e,i.DISPLAY_INDEX,0),this._parseTweenFrame(e,s,n,a),i.COLOR in e||i.COLOR_TRANSFORM in e?(s.color=t.SlotFrameData.generateColor(),this._parseColorTransform(e[i.COLOR]||e[i.COLOR_TRANSFORM],s.color)):s.color=t.SlotFrameData.DEFAULT_COLOR,this._isOldData)i._getBoolean(e,i.HIDE,!1)&&(s.displayIndex=-1);else if(i.ACTION in e||i.ACTIONS in e){var r=this._timeline.slot,o=new Array;this._parseActionData(e,o,r.parent,r),this._mergeFrameToAnimationTimeline(s.position,o,null)}return s},i.prototype._parseFFDFrame=function(e,n,a){var s=this._timeline,r=s.display.mesh,o=t.BaseObject.borrowObject(t.ExtensionFrameData);this._parseTweenFrame(e,o,n,a);for(var l=e[i.VERTICES],h=i._getNumber(e,i.OFFSET,0),u=0,A=0,_=0,c=r.vertices.length;_<c;_+=2)if(!l||_<h||_-h>=l.length?(u=0,A=0):(u=l[_-h]*this._armature.scale,A=l[_+1-h]*this._armature.scale),r.skinned){r.slotPose.transformPoint(u,A,this._helpPoint,!0),u=this._helpPoint.x,A=this._helpPoint.y;for(var d=r.boneIndices[_/2],p=0,f=d.length;p<f;++p){var m=d[p];r.inverseBindPose[m].transformPoint(u,A,this._helpPoint,!0),o.tweens.push(this._helpPoint.x,this._helpPoint.y)}}else o.tweens.push(u,A);return o},i.prototype._parseTweenFrame=function(e,n,a,s){this._parseFrame(e,n,a,s),n.duration>0?(i.TWEEN_EASING in e?n.tweenEasing=i._getNumber(e,i.TWEEN_EASING,t.DragonBones.NO_TWEEN):this._isOldData?n.tweenEasing=this._isAutoTween?this._animationTweenEasing:t.DragonBones.NO_TWEEN:n.tweenEasing=t.DragonBones.NO_TWEEN,this._isOldData&&1===this._animation.scale&&1===this._timeline.scale&&n.duration*this._armature.frameRate<2&&(n.tweenEasing=t.DragonBones.NO_TWEEN),s>0&&i.CURVE in e&&(n.curve=new Array(2*s-1),t.TweenFrameData.samplingEasingCurve(e[i.CURVE],n.curve))):(n.tweenEasing=t.DragonBones.NO_TWEEN,n.curve=null)},i.prototype._parseFrame=function(t,e,i,n){e.position=i/this._armature.frameRate,e.duration=n/this._armature.frameRate},i.prototype._parseTimeline=function(e,n,a){if(n.scale=i._getNumber(e,i.SCALE,1),n.offset=i._getNumber(e,i.OFFSET,0),this._timeline=n,i.FRAME in e){var s=e[i.FRAME];if(1===s.length)n.frames.length=1,n.frames[0]=a.call(this,s[0],0,i._getNumber(s[0],i.DURATION,1));else if(s.length>1){n.frames.length=this._animation.frameCount+1;for(var r=0,o=0,l=null,h=null,u=0,A=0,_=n.frames.length;u<_;++u){if(r+o<=u&&A<s.length){var c=s[A++];r=u,o=i._getNumber(c,i.DURATION,1),l=a.call(this,c,r,o),h&&(h.next=l,l.prev=h,this._isOldData&&h instanceof t.TweenFrameData&&i._getNumber(c,i.DISPLAY_INDEX,0)===-1&&(h.tweenEasing=t.DragonBones.NO_TWEEN)),h=l}n.frames[u]=l}l.duration=this._animation.duration-l.position,l=n.frames[0],h.next=l,l.prev=h,this._isOldData&&h instanceof t.TweenFrameData&&i._getNumber(s[0],i.DISPLAY_INDEX,0)===-1&&(h.tweenEasing=t.DragonBones.NO_TWEEN)}}this._timeline=null},i.prototype._parseActionData=function(e,n,a,s){var r=e[i.ACTION]||e[i.ACTIONS]||e[i.DEFAULT_ACTIONS];if("string"==typeof r){var o=t.BaseObject.borrowObject(t.ActionData);o.type=0,o.bone=a,o.slot=s,o.animationConfig=t.BaseObject.borrowObject(t.AnimationConfig),o.animationConfig.animationName=r,n.push(o)}else if(r instanceof Array)for(var l=0,h=r.length;l<h;++l){var u=r[l],A=u instanceof Array,o=t.BaseObject.borrowObject(t.ActionData),_=A?u[1]:i._getString(u,"gotoAndPlay",null);if(A){var c=u[0];"string"==typeof c?o.type=i._getActionType(c):o.type=c}else o.type=0;switch(o.type){case 0:o.animationConfig=t.BaseObject.borrowObject(t.AnimationConfig),o.animationConfig.animationName=_}o.bone=a,o.slot=s,n.push(o)}},i.prototype._parseEventData=function(e,n,a,s){if(i.SOUND in e){var r=t.BaseObject.borrowObject(t.EventData);r.type=11,r.name=i._getString(e,i.SOUND,null),r.bone=a,r.slot=s,n.push(r)}if(i.EVENT in e){var o=t.BaseObject.borrowObject(t.EventData);o.type=10,o.name=i._getString(e,i.EVENT,null),o.bone=a,o.slot=s,n.push(o)}if(i.EVENTS in e)for(var l=e[i.EVENTS],h=0,u=l.length;h<u;++h){var A=l[h],_=i._getString(A,i.BONE,null),c=i._getString(A,i.SLOT,null),o=t.BaseObject.borrowObject(t.EventData);if(o.type=10,o.name=i._getString(A,i.NAME,null),o.bone=this._armature.getBone(_),o.slot=this._armature.getSlot(c),i.INTS in A){o.data||(o.data=t.BaseObject.borrowObject(t.CustomData));for(var d=A[i.INTS],p=0,f=d.length;p<f;++p)o.data.ints.push(d[p])}if(i.FLOATS in A){o.data||(o.data=t.BaseObject.borrowObject(t.CustomData));for(var m=A[i.FLOATS],g=0,v=m.length;g<v;++g)o.data.floats.push(m[g])}if(i.STRINGS in A){o.data||(o.data=t.BaseObject.borrowObject(t.CustomData));for(var y=A[i.STRINGS],D=0,T=y.length;D<T;++D)o.data.strings.push(y[D])}n.push(o)}},i.prototype._parseTransform=function(e,n){n.x=i._getNumber(e,i.X,0)*this._armature.scale,n.y=i._getNumber(e,i.Y,0)*this._armature.scale,n.skewX=i._getNumber(e,i.SKEW_X,0)*t.DragonBones.ANGLE_TO_RADIAN,n.skewY=i._getNumber(e,i.SKEW_Y,0)*t.DragonBones.ANGLE_TO_RADIAN,n.scaleX=i._getNumber(e,i.SCALE_X,1),n.scaleY=i._getNumber(e,i.SCALE_Y,1)},i.prototype._parseColorTransform=function(t,e){e.alphaMultiplier=.01*i._getNumber(t,i.ALPHA_MULTIPLIER,100),e.redMultiplier=.01*i._getNumber(t,i.RED_MULTIPLIER,100),e.greenMultiplier=.01*i._getNumber(t,i.GREEN_MULTIPLIER,100),e.blueMultiplier=.01*i._getNumber(t,i.BLUE_MULTIPLIER,100),e.alphaOffset=i._getNumber(t,i.ALPHA_OFFSET,0),e.redOffset=i._getNumber(t,i.RED_OFFSET,0),e.greenOffset=i._getNumber(t,i.GREEN_OFFSET,0),e.blueOffset=i._getNumber(t,i.BLUE_OFFSET,0)},i.prototype.parseDragonBonesData=function(e,n){if(void 0===n&&(n=1),e){var a=i._getString(e,i.VERSION,null),s=i._getString(e,i.COMPATIBLE_VERSION,null);if(this._isOldData=a===i.DATA_VERSION_2_3||a===i.DATA_VERSION_3_0,this._isOldData?this._isGlobalTransform=i._getBoolean(e,i.IS_GLOBAL,!0):this._isGlobalTransform=!1,i.DATA_VERSIONS.indexOf(a)>=0||i.DATA_VERSIONS.indexOf(s)>=0){var r=t.BaseObject.borrowObject(t.DragonBonesData);if(r.name=i._getString(e,i.NAME,null),r.frameRate=i._getNumber(e,i.FRAME_RATE,24),0===r.frameRate&&(r.frameRate=24),i.ARMATURE in e){this._data=r;for(var o=e[i.ARMATURE],l=0,h=o.length;l<h;++l)r.addArmature(this._parseArmature(o[l],n));this._data=null}return r}throw new Error("Nonsupport data version.")}throw new Error(t.DragonBones.ARGUMENT_ERROR)},i.prototype.parseTextureAtlasData=function(e,n,a){if(void 0===a&&(a=0),!e)throw new Error(t.DragonBones.ARGUMENT_ERROR);if(n.name=i._getString(e,i.NAME,null),n.imagePath=i._getString(e,i.IMAGE_PATH,null),n.width=i._getNumber(e,i.WIDTH,0),n.height=i._getNumber(e,i.HEIGHT,0),a>0?n.scale=a:a=n.scale=i._getNumber(e,i.SCALE,n.scale),a=1/a,i.SUB_TEXTURE in e)for(var s=e[i.SUB_TEXTURE],r=0,o=s.length;r<o;++r){var l=s[r],h=n.generateTexture();h.name=i._getString(l,i.NAME,null),h.rotated=i._getBoolean(l,i.ROTATED,!1),h.region.x=i._getNumber(l,i.X,0)*a,h.region.y=i._getNumber(l,i.Y,0)*a,h.region.width=i._getNumber(l,i.WIDTH,0)*a,h.region.height=i._getNumber(l,i.HEIGHT,0)*a;var u=i._getNumber(l,i.FRAME_WIDTH,-1),A=i._getNumber(l,i.FRAME_HEIGHT,-1);u>0&&A>0&&(h.frame=t.TextureData.generateRectangle(),h.frame.x=i._getNumber(l,i.FRAME_X,0)*a,h.frame.y=i._getNumber(l,i.FRAME_Y,0)*a,h.frame.width=u*a,h.frame.height=A*a),n.addTexture(h)}},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},i}(t.DataParser);e._instance=null,t.ObjectDataParser=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.globalTransformMatrix=new t.Matrix,i.global=new t.Transform,i.offset=new t.Transform,i}return __extends(i,e),i.prototype._onClear=function(){this.name=null,this.global.identity(),this.offset.identity(),this.globalTransformMatrix.identity(),this.origin=null,this.userData=null,this._armature=null,this._parent=null},i.prototype._setArmature=function(t){this._armature=t},i.prototype._setParent=function(t){this._parent=t},Object.defineProperty(i.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),i}(t.BaseObject);t.TransformObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._animationPose=new t.Transform,i._bones=[],i._slots=[],i}return __extends(i,e),i.toString=function(){return"[class dragonBones.Bone]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.inheritTranslation=!1,this.inheritRotation=!1,this.inheritScale=!1,this.ikBendPositive=!1,this.length=0,this.ikWeight=0,this._transformDirty=0,this._visible=!0,this._cachedFrameIndex=-1,this._ikChain=0,this._ikChainIndex=0,this._updateState=-1,this._blendLayer=0,this._blendLeftWeight=1,this._blendTotalWeight=0,this._animationPose.identity(),this._bones.length=0,this._slots.length=0,this._boneData=null,this._ik=null,this._cachedFrameIndices=null},i.prototype._updateGlobalTransformMatrix=function(){if(this.global.x=this.origin.x+this.offset.x+this._animationPose.x,this.global.y=this.origin.y+this.offset.y+this._animationPose.y,this.global.skewX=this.origin.skewX+this.offset.skewX+this._animationPose.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this._animationPose.skewY,this.global.scaleX=this.origin.scaleX*this.offset.scaleX*this._animationPose.scaleX,this.global.scaleY=this.origin.scaleY*this.offset.scaleY*this._animationPose.scaleY,this._parent){var t=this._parent.global.skewY,e=this._parent.globalTransformMatrix;if(this.inheritScale)this.inheritRotation||(this.global.skewX-=t,this.global.skewY-=t),this.global.toMatrix(this.globalTransformMatrix),this.globalTransformMatrix.concat(e),this.inheritTranslation||(this.globalTransformMatrix.tx=this.global.x,this.globalTransformMatrix.ty=this.global.y),this.global.fromMatrix(this.globalTransformMatrix);else{if(this.inheritTranslation){var i=this.global.x,n=this.global.y;this.global.x=e.a*i+e.c*n+e.tx,this.global.y=e.d*n+e.b*i+e.ty}this.inheritRotation&&(this.global.skewX+=t,this.global.skewY+=t),this.global.toMatrix(this.globalTransformMatrix)}}else this.global.toMatrix(this.globalTransformMatrix);this._ik&&this._ikChainIndex===this._ikChain&&this.ikWeight>0&&(this.inheritTranslation&&this._ikChain>0&&this._parent?this._computeIKB():this._computeIKA())},i.prototype._computeIKA=function(){var t=this._ik.global,e=this.globalTransformMatrix.a*this.length,i=this.globalTransformMatrix.b*this.length,n=(Math.atan2(t.y-this.global.y,t.x-this.global.x)+this.offset.skewY-2*this.global.skewY+Math.atan2(i,e))*this.ikWeight;this.global.skewX+=n,this.global.skewY+=n,this.global.toMatrix(this.globalTransformMatrix)},i.prototype._computeIKB=function(){var t=this._parent.global,e=this._ik.global,i=this.globalTransformMatrix.a*this.length,n=this.globalTransformMatrix.b*this.length,a=i*i+n*n,s=Math.sqrt(a),r=this.global.x-t.x,o=this.global.y-t.y,l=r*r+o*o,h=Math.sqrt(l);r=e.x-t.x,o=e.y-t.y;var u=r*r+o*o,A=Math.sqrt(u),_=0;if(s+h<=A||A+s<=h||A+h<=s)_=Math.atan2(e.y-t.y,e.x-t.x)+this._parent.offset.skewY,s+h<=A||h<s&&(_+=Math.PI);else{var c=(l-a+u)/(2*u),d=Math.sqrt(l-c*c*u)/A,p=t.x+r*c,f=t.y+o*c,m=-o*d,g=r*d;this.ikBendPositive?(this.global.x=p-m,this.global.y=f-g):(this.global.x=p+m,this.global.y=f+g),_=Math.atan2(this.global.y-t.y,this.global.x-t.x)+this._parent.offset.skewY}_=(_-t.skewY)*this.ikWeight,t.skewX+=_,t.skewY+=_,t.toMatrix(this._parent.globalTransformMatrix),this._parent._transformDirty=1,this.global.x=t.x+Math.cos(t.skewY)*h,this.global.y=t.y+Math.sin(t.skewY)*h;var v=(Math.atan2(e.y-this.global.y,e.x-this.global.x)+this.offset.skewY-2*this.global.skewY+Math.atan2(n,i))*this.ikWeight;this.global.skewX+=v,this.global.skewY+=v,this.global.toMatrix(this.globalTransformMatrix)},i.prototype._init=function(t){this._boneData||(this._boneData=t,this.inheritTranslation=this._boneData.inheritTranslation,this.inheritRotation=this._boneData.inheritRotation,this.inheritScale=this._boneData.inheritScale,this.length=this._boneData.length,this.name=this._boneData.name,this.origin=this._boneData.transform)},i.prototype._setArmature=function(t){if(this._armature!==t){this._ik=null;var e=null,i=null;if(this._armature&&(e=this.getSlots(),i=this.getBones(),this._armature._removeBoneFromBoneList(this)),this._armature=t,this._armature&&this._armature._addBoneToBoneList(this),e)for(var n=0,a=e.length;n<a;++n){var s=e[n];s.parent===this&&s._setArmature(this._armature)}if(i)for(var n=0,a=i.length;n<a;++n){var r=i[n];r.parent===this&&r._setArmature(this._armature)}}},i.prototype._setIK=function(t,e,i){if(t){if(e===i){var n=this._parent;if(e&&n?e=1:(e=0,i=0,n=this),n===t||n.contains(t))t=null,e=0,i=0;else for(var a=t;a.ik&&a.ikChain;){if(n.contains(a.ik)){t=null,e=0,i=0;break}a=a.parent}}}else e=0,i=0;this._ik=t,this._ikChain=e,this._ikChainIndex=i,this._armature&&(this._armature._bonesDirty=!0)},i.prototype._update=function(t){if(this._updateState=-1,t>=0&&this._cachedFrameIndices){var e=this._cachedFrameIndices[t];e>=0&&this._cachedFrameIndex===e?this._transformDirty=0:e>=0?(this._transformDirty=2,this._cachedFrameIndex=e):2===this._transformDirty||this._parent&&0!==this._parent._transformDirty||this._ik&&this.ikWeight>0&&0!==this._ik._transformDirty?(this._transformDirty=2,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=0,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=2,this._cachedFrameIndex=-1)}else(2===this._transformDirty||this._parent&&0!==this._parent._transformDirty||this._ik&&this.ikWeight>0&&0!==this._ik._transformDirty)&&(t=-1,this._transformDirty=2,this._cachedFrameIndex=-1);0!==this._transformDirty&&(2===this._transformDirty?(this._transformDirty=1,this._cachedFrameIndex<0?(this._updateGlobalTransformMatrix(),t>=0&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.setCacheFrame(this.globalTransformMatrix,this.global))):this._armature._armatureData.getCacheFrame(this.globalTransformMatrix,this.global,this._cachedFrameIndex),this._updateState=0):this._transformDirty=0)},i.prototype.invalidUpdate=function(){this._transformDirty=2},i.prototype.contains=function(t){if(t){if(t===this)return!1;for(var e=t;e!==this&&e;)e=e.parent;return e===this}return!1},i.prototype.getBones=function(){this._bones.length=0;for(var t=this._armature.getBones(),e=0,i=t.length;e<i;++e){var n=t[e];n.parent===this&&this._bones.push(n)}return this._bones},i.prototype.getSlots=function(){this._slots.length=0;for(var t=this._armature.getSlots(),e=0,i=t.length;e<i;++e){var n=t[e];n.parent===this&&this._slots.push(n)}return this._slots},Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){if(this._visible!==t){this._visible=t;for(var e=this._armature.getSlots(),i=0,n=e.length;i<n;++i){var a=e[i];a._parent===this&&a._updateVisible()}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slot",{get:function(){for(var t=this._armature.getSlots(),e=0,i=t.length;e<i;++e){var n=t[e];if(n.parent===this)return n}return null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ikChain",{get:function(){return this._ikChain},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ikChainIndex",{get:function(){return this._ikChainIndex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ik",{get:function(){return this._ik},enumerable:!0,configurable:!0}),i}(t.TransformObject);t.Bone=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._localMatrix=new t.Matrix,i._colorTransform=new t.ColorTransform,i._ffdVertices=[],i._displayList=[],i._replacedDisplayDatas=[],i._meshBones=[],i}return __extends(i,e),i.prototype._onClear=function(){e.prototype._onClear.call(this);for(var i=[],n=0,a=this._displayList.length;n<a;++n){var s=this._displayList[n];s!==this._rawDisplay&&s!==this._meshDisplay&&i.indexOf(s)<0&&i.push(s)}for(var n=0,a=i.length;n<a;++n){var s=i[n];s instanceof t.Armature?s.dispose():this._disposeDisplay(s)}this._meshDisplay&&this._meshDisplay!==this._rawDisplay&&this._disposeDisplay(this._meshDisplay),this._rawDisplay&&this._disposeDisplay(this._rawDisplay),this.displayController=null,this._displayDirty=!1,this._zOrderDirty=!1,this._blendModeDirty=!1,this._colorDirty=!1,this._meshDirty=!1,this._originalDirty=!1,this._transformDirty=!1,this._updateState=-1,this._blendMode=0,this._displayIndex=-1,this._zOrder=0,this._cachedFrameIndex=-1,this._pivotX=0,this._pivotY=0,this._localMatrix.identity(),this._colorTransform.identity(),this._ffdVertices.length=0,this._displayList.length=0,this._replacedDisplayDatas.length=0,this._meshBones.length=0,this._skinSlotData=null,this._displayData=null,this._replacedDisplayData=null,this._textureData=null,this._meshData=null,this._boundingBoxData=null,this._rawDisplay=null,this._meshDisplay=null,this._display=null,this._childArmature=null,this._cachedFrameIndices=null},i.prototype._isMeshBonesUpdate=function(){for(var t=0,e=this._meshBones.length;t<e;++t)if(0!==this._meshBones[t]._transformDirty)return!0;return!1},i.prototype._updateDisplayData=function(){var t=this._displayData,e=this._replacedDisplayData,n=this._textureData,a=this._meshData,s=this._displayIndex>=0&&this._displayIndex<this._displayList.length?this._displayList[this._displayIndex]:null;if(this._displayIndex>=0&&this._displayIndex<this._skinSlotData.displays.length?this._displayData=this._skinSlotData.displays[this._displayIndex]:this._displayData=null,this._displayIndex>=0&&this._displayIndex<this._replacedDisplayDatas.length?this._replacedDisplayData=this._replacedDisplayDatas[this._displayIndex]:this._replacedDisplayData=null,this._displayData!==t||this._replacedDisplayData!==e||this._display!=s){var r=this._replacedDisplayData?this._replacedDisplayData:this._displayData;if(!r||s!==this._rawDisplay&&s!==this._meshDisplay)this._textureData=null,this._meshData=null,this._pivotX=0,this._pivotY=0,this._meshBones.length=0,this._ffdVertices.length=0;else{if(this._textureData=this._replacedDisplayData?this._replacedDisplayData.texture:this._displayData.texture,s===this._meshDisplay?this._replacedDisplayData&&this._replacedDisplayData.mesh?this._meshData=this._replacedDisplayData.mesh:this._meshData=this._displayData.mesh:this._meshData=null,this._meshData)this._pivotX=0,this._pivotY=0;else if(this._textureData){var o=this._armature.armatureData.scale;if(this._pivotX=r.pivot.x,this._pivotY=r.pivot.y,r.isRelativePivot){var l=this._textureData.frame?this._textureData.frame:this._textureData.region,h=l.width*o,u=l.height*o;this._textureData.rotated&&(h=l.height,u=l.width),this._pivotX*=h,this._pivotY*=u}this._textureData.frame&&(this._pivotX+=this._textureData.frame.x*o,this._pivotY+=this._textureData.frame.y*o)}else this._pivotX=0,this._pivotY=0;if(!this._displayData||r===this._displayData||this._meshData&&this._meshData===this._displayData.mesh||(this._displayData.transform.toMatrix(i._helpMatrix),i._helpMatrix.invert(),i._helpMatrix.transformPoint(0,0,i._helpPoint),this._pivotX-=i._helpPoint.x,this._pivotY-=i._helpPoint.y,r.transform.toMatrix(i._helpMatrix),i._helpMatrix.invert(),i._helpMatrix.transformPoint(0,0,i._helpPoint),this._pivotX+=i._helpPoint.x,this._pivotY+=i._helpPoint.y),this._meshData!==a)if(this._meshData&&this._displayData&&this._meshData===this._displayData.mesh){if(this._meshData.skinned){this._meshBones.length=this._meshData.bones.length;for(var A=0,_=this._meshBones.length;A<_;++A)this._meshBones[A]=this._armature.getBone(this._meshData.bones[A].name);for(var c=0,A=0,_=this._meshData.boneIndices.length;A<_;++A)c+=this._meshData.boneIndices[A].length;this._ffdVertices.length=2*c}else this._meshBones.length=0,this._ffdVertices.length=this._meshData.vertices.length;for(var A=0,_=this._ffdVertices.length;A<_;++A)this._ffdVertices[A]=0;this._meshDirty=!0}else this._meshBones.length=0,this._ffdVertices.length=0;else this._textureData!==n&&(this._meshDirty=!0)}this._displayDirty=!0,this._originalDirty=!0,this._displayData?this.origin=this._displayData.transform:this._replacedDisplayData&&(this.origin=this._replacedDisplayData.transform)}this._replacedDisplayData?this._boundingBoxData=this._replacedDisplayData.boundingBox:this._displayData?this._boundingBoxData=this._displayData.boundingBox:this._boundingBoxData=null},i.prototype._updateDisplay=function(){var e=this._display||this._rawDisplay,i=this._childArmature;this._displayIndex>=0&&this._displayIndex<this._displayList.length?(this._display=this._displayList[this._displayIndex],this._display instanceof t.Armature?(this._childArmature=this._display,this._display=this._childArmature.display):this._childArmature=null):(this._display=null,this._childArmature=null);var n=this._display?this._display:this._rawDisplay;if(n!==e&&(this._onUpdateDisplay(),e?this._replaceDisplay(e):this._addDisplay(),this._blendModeDirty=!0,this._colorDirty=!0),n!==this._rawDisplay&&n!==this._meshDisplay||this._updateFrame(),this._childArmature!==i&&(i&&(i._parent=null,i.clock=null,i.inheritAnimation&&i.animation.reset()),this._childArmature&&(this._childArmature._parent=this,this._childArmature.clock=this._armature.clock,this._childArmature.inheritAnimation))){if(0===this._childArmature.cacheFrameRate){var a=this._armature.cacheFrameRate;0!==a&&(this._childArmature.cacheFrameRate=a)}var s=this._skinSlotData.slot.actions.length>0?this._skinSlotData.slot.actions:this._childArmature.armatureData.actions;if(s.length>0)for(var r=0,o=s.length;r<o;++r)this._childArmature._bufferAction(s[r]);else this._childArmature.animation.play()}},i.prototype._updateLocalTransformMatrix=function(){this.origin?this.global.copyFrom(this.origin).add(this.offset).toMatrix(this._localMatrix):this.global.copyFrom(this.offset).toMatrix(this._localMatrix)},i.prototype._updateGlobalTransformMatrix=function(){this.globalTransformMatrix.copyFrom(this._localMatrix),this.globalTransformMatrix.concat(this._parent.globalTransformMatrix),this.global.fromMatrix(this.globalTransformMatrix)},i.prototype._init=function(t,e,i){if(!this._skinSlotData){this._skinSlotData=t;var n=this._skinSlotData.slot;this.name=n.name,this._zOrder=n.zOrder,this._blendMode=n.blendMode,this._colorTransform.copyFrom(n.color),this._rawDisplay=e,this._meshDisplay=i,this._blendModeDirty=!0,this._colorDirty=!0}},i.prototype._setArmature=function(t){this._armature!==t&&(this._armature&&this._armature._removeSlotFromSlotList(this),this._armature=t,this._onUpdateDisplay(),this._armature?(this._armature._addSlotToSlotList(this),this._addDisplay()):this._removeDisplay())},i.prototype._update=function(t){if(this._updateState=-1,this._displayDirty&&(this._displayDirty=!1,this._updateDisplay()),this._zOrderDirty&&(this._zOrderDirty=!1,this._updateZOrder()),this._display){if(this._blendModeDirty&&(this._blendModeDirty=!1,this._updateBlendMode()),this._colorDirty&&(this._colorDirty=!1,this._updateColor()),this._originalDirty&&(this._originalDirty=!1,this._transformDirty=!0,this._updateLocalTransformMatrix()),this._meshData&&this._displayData&&this._meshData===this._displayData.mesh&&((this._meshDirty||this._meshData.skinned&&this._isMeshBonesUpdate())&&(this._meshDirty=!1,this._updateMesh()),this._meshData.skinned))return void(this._transformDirty&&(this._transformDirty=!1,this._updateTransform(!0)));if(t>=0&&this._cachedFrameIndices){var e=this._cachedFrameIndices[t];e>=0&&this._cachedFrameIndex===e?this._transformDirty=!1:e>=0?(this._transformDirty=!0,this._cachedFrameIndex=e):this._transformDirty||0!==this._parent._transformDirty?(this._transformDirty=!0,this._cachedFrameIndex=-1):this._cachedFrameIndex>=0?(this._transformDirty=!1,this._cachedFrameIndices[t]=this._cachedFrameIndex):(this._transformDirty=!0,this._cachedFrameIndex=-1)}else(this._transformDirty||0!==this._parent._transformDirty)&&(t=-1,this._transformDirty=!0,this._cachedFrameIndex=-1);this._transformDirty&&(this._transformDirty=!1,this._cachedFrameIndex<0?(this._updateGlobalTransformMatrix(),t>=0&&(this._cachedFrameIndex=this._cachedFrameIndices[t]=this._armature._armatureData.setCacheFrame(this.globalTransformMatrix,this.global))):this._armature._armatureData.getCacheFrame(this.globalTransformMatrix,this.global,this._cachedFrameIndex),
this._updateTransform(!1),this._updateState=0)}},i.prototype._updateTransformAndMatrix=function(){this._updateState<0&&(this._updateState=0,this._updateLocalTransformMatrix(),this._updateGlobalTransformMatrix())},i.prototype._setDisplayList=function(e){if(e&&e.length>0){this._displayList.length!==e.length&&(this._displayList.length=e.length);for(var i=0,n=e.length;i<n;++i){var a=e[i];a&&a!==this._rawDisplay&&a!==this._meshDisplay&&!(a instanceof t.Armature)&&this._displayList.indexOf(a)<0&&this._initDisplay(a),this._displayList[i]=a}}else this._displayList.length>0&&(this._displayList.length=0);return this._displayIndex>=0&&this._displayIndex<this._displayList.length?this._displayDirty=this._display!==this._displayList[this._displayIndex]:this._displayDirty=null!=this._display,this._updateDisplayData(),this._displayDirty},i.prototype._setDisplayIndex=function(t){return this._displayIndex!==t&&(this._displayIndex=t,this._displayDirty=!0,this._updateDisplayData(),this._displayDirty)},i.prototype._setZorder=function(t){return this._zOrder===t,this._zOrder=t,this._zOrderDirty=!0,this._zOrderDirty},i.prototype._setColor=function(t){return this._colorTransform.copyFrom(t),this._colorDirty=!0,!0},i.prototype.containsPoint=function(t,e){return!!this._boundingBoxData&&(this._updateTransformAndMatrix(),i._helpMatrix.copyFrom(this.globalTransformMatrix),i._helpMatrix.invert(),i._helpMatrix.transformPoint(t,e,i._helpPoint),this._boundingBoxData.containsPoint(i._helpPoint.x,i._helpPoint.y))},i.prototype.intersectsSegment=function(t,e,n,a,s,r,o){if(void 0===s&&(s=null),void 0===r&&(r=null),void 0===o&&(o=null),!this._boundingBoxData)return 0;this._updateTransformAndMatrix(),i._helpMatrix.copyFrom(this.globalTransformMatrix),i._helpMatrix.invert(),i._helpMatrix.transformPoint(t,e,i._helpPoint),t=i._helpPoint.x,e=i._helpPoint.y,i._helpMatrix.transformPoint(n,a,i._helpPoint),n=i._helpPoint.x,a=i._helpPoint.y;var l=this._boundingBoxData.intersectsSegment(t,e,n,a,s,r,o);return l>0&&(1===l||2===l?s?(this.globalTransformMatrix.transformPoint(s.x,s.y,s),r&&(r.x=s.x,r.y=s.y)):r&&this.globalTransformMatrix.transformPoint(r.x,r.y,r):(s&&this.globalTransformMatrix.transformPoint(s.x,s.y,s),r&&this.globalTransformMatrix.transformPoint(r.x,r.y,r)),o&&(this.globalTransformMatrix.transformPoint(Math.cos(o.x),Math.sin(o.x),i._helpPoint,!0),o.x=Math.atan2(i._helpPoint.y,i._helpPoint.x),this.globalTransformMatrix.transformPoint(Math.cos(o.y),Math.sin(o.y),i._helpPoint,!0),o.y=Math.atan2(i._helpPoint.y,i._helpPoint.x))),l},i.prototype.invalidUpdate=function(){this._displayDirty=!0,this._transformDirty=!0},Object.defineProperty(i.prototype,"skinSlotData",{get:function(){return this._skinSlotData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundingBoxData",{get:function(){return this._boundingBoxData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawDisplay",{get:function(){return this._rawDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"meshDisplay",{get:function(){return this._meshDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayIndex",{get:function(){return this._displayIndex},set:function(t){this._setDisplayIndex(t)&&this._update(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayList",{get:function(){return this._displayList.concat()},set:function(e){var i=this._displayList.concat(),n=[];this._setDisplayList(e)&&this._update(-1);for(var a=0,s=i.length;a<s;++a){var r=i[a];r&&r!==this._rawDisplay&&r!==this._meshDisplay&&this._displayList.indexOf(r)<0&&n.indexOf(r)<0&&n.push(r)}for(var a=0,s=n.length;a<s;++a){var r=n[a];r instanceof t.Armature?r.dispose():this._disposeDisplay(r)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this._display},set:function(t){if(this._display!==t){var e=this._displayList.length;if(this._displayIndex<0&&0===e&&(this._displayIndex=0),!(this._displayIndex<0)){var i=this.displayList;e<=this._displayIndex&&(i.length=this._displayIndex+1),i[this._displayIndex]=t,this.displayList=i}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"childArmature",{get:function(){return this._childArmature},set:function(t){this._childArmature!==t&&(this.display=t)},enumerable:!0,configurable:!0}),i.prototype.getDisplay=function(){return this._display},i.prototype.setDisplay=function(t){this.display=t},i}(t.TransformObject);e._helpPoint=new t.Point,e._helpMatrix=new t.Matrix,t.Slot=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._bones=[],t._slots=[],t._actions=[],t._events=[],t.enableCache=!1,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.Armature]"},i._onSortSlots=function(t,e){return t._zOrder>e._zOrder?1:-1},i.prototype._onClear=function(){for(var t=0,e=this._bones.length;t<e;++t)this._bones[t].returnToPool();for(var t=0,e=this._slots.length;t<e;++t)this._slots[t].returnToPool();for(var t=0,e=this._events.length;t<e;++t)this._events[t].returnToPool();this._clock&&this._clock.remove(this),this._proxy&&this._proxy._onClear(),this._replaceTextureAtlasData&&this._replaceTextureAtlasData.returnToPool(),this._animation&&this._animation.returnToPool(),this.inheritAnimation=!0,this.debugDraw=!1,this.userData=null,this._debugDraw=!1,this._delayDispose=!1,this._lockDispose=!1,this._bonesDirty=!1,this._slotsDirty=!1,this._bones.length=0,this._slots.length=0,this._actions.length=0,this._events.length=0,this._armatureData=null,this._skinData=null,this._animation=null,this._proxy=null,this._display=null,this._eventManager=null,this._parent=null,this._clock=null,this._replaceTextureAtlasData=null,this._replacedTexture=null},i.prototype._sortBones=function(){var t=this._bones.length;if(!(t<=0)){var e=this._bones.concat(),i=0,n=0;for(this._bones.length=0;n<t;){var a=e[i++];i>=t&&(i=0),this._bones.indexOf(a)>=0||a.parent&&this._bones.indexOf(a.parent)<0||a.ik&&this._bones.indexOf(a.ik)<0||(a.ik&&a.ikChain>0&&a.ikChainIndex===a.ikChain?this._bones.splice(this._bones.indexOf(a.parent)+1,0,a):this._bones.push(a),n++)}}},i.prototype._sortSlots=function(){this._slots.sort(i._onSortSlots)},i.prototype._doAction=function(t){switch(t.type){case 0:this._animation.playConfig(t.animationConfig)}},i.prototype._init=function(e,i,n,a,s){this._armatureData||(this._armatureData=e,this._skinData=i,this._animation=t.BaseObject.borrowObject(t.Animation),this._proxy=n,this._display=a,this._eventManager=s,this._animation._init(this),this._animation.animations=this._armatureData.animations)},i.prototype._addBoneToBoneList=function(t){this._bones.indexOf(t)<0&&(this._bonesDirty=!0,this._bones.push(t),this._animation._timelineStateDirty=!0)},i.prototype._removeBoneFromBoneList=function(t){var e=this._bones.indexOf(t);e>=0&&(this._bones.splice(e,1),this._animation._timelineStateDirty=!0)},i.prototype._addSlotToSlotList=function(t){this._slots.indexOf(t)<0&&(this._slotsDirty=!0,this._slots.push(t),this._animation._timelineStateDirty=!0)},i.prototype._removeSlotFromSlotList=function(t){var e=this._slots.indexOf(t);e>=0&&(this._slots.splice(e,1),this._animation._timelineStateDirty=!0)},i.prototype._sortZOrder=function(t){for(var e=this._armatureData.sortedSlots,i=!t||t.length<1,n=0,a=e.length;n<a;++n){var s=i?n:t[n],r=e[s],o=this.getSlot(r.name);o&&o._setZorder(n)}this._slotsDirty=!0},i.prototype._bufferAction=function(t){this._actions.push(t)},i.prototype._bufferEvent=function(t,e){t.type=e,t.armature=this,this._events.push(t)},i.prototype.dispose=function(){this._delayDispose=!0,!this._lockDispose&&this._armatureData&&this.returnToPool()},i.prototype.advanceTime=function(e){if(!this._armatureData)throw new Error("The armature has been disposed.");if(!this._armatureData.parent)throw new Error("The armature data has been disposed.");this._bonesDirty&&(this._bonesDirty=!1,this._sortBones()),this._slotsDirty&&(this._slotsDirty=!1,this._sortSlots());var i=this._animation._cacheFrameIndex;this._animation._advanceTime(e);var n=this._animation._cacheFrameIndex,a=0,s=0;if(n<0||n!==i){for(a=0,s=this._bones.length;a<s;++a)this._bones[a]._update(n);for(a=0,s=this._slots.length;a<s;++a)this._slots[a]._update(n)}var r=this.debugDraw||t.DragonBones.debugDraw;if((r||this._debugDraw)&&(this._debugDraw=r,this._proxy._debugDraw(this._debugDraw)),!this._lockDispose){if(this._lockDispose=!0,s=this._events.length,s>0){for(a=0;a<s;++a){var o=this._events[a];this._proxy._dispatchEvent(o.type,o),o.type===t.EventObject.SOUND_EVENT&&this._eventManager._dispatchEvent(o.type,o),o.returnToPool()}this._events.length=0}if(s=this._actions.length,s>0){for(a=0;a<s;++a){var l=this._actions[a];if(l.slot){var h=this.getSlot(l.slot.name);if(h){var u=h.childArmature;u&&u._doAction(l)}}else if(l.bone)for(var A=0,_=this._slots.length;A<_;++A){var u=this._slots[A].childArmature;u&&u._doAction(l)}else this._doAction(l)}this._actions.length=0}this._lockDispose=!1}this._delayDispose&&this.returnToPool()},i.prototype.invalidUpdate=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),t){var i=this.getBone(t);if(i&&(i.invalidUpdate(),e))for(var n=0,a=this._slots.length;n<a;++n){var s=this._slots[n];s.parent===i&&s.invalidUpdate()}}else{for(var n=0,a=this._bones.length;n<a;++n)this._bones[n].invalidUpdate();if(e)for(var n=0,a=this._slots.length;n<a;++n)this._slots[n].invalidUpdate()}},i.prototype.containsPoint=function(t,e){for(var i=0,n=this._slots.length;i<n;++i){var a=this._slots[i];if(a.containsPoint(t,e))return a}return null},i.prototype.intersectsSegment=function(t,e,i,n,a,s,r){void 0===a&&(a=null),void 0===s&&(s=null),void 0===r&&(r=null);for(var o=t===i,l=0,h=0,u=0,A=0,_=0,c=0,d=0,p=0,f=null,m=null,g=0,v=this._slots.length;g<v;++g){var y=this._slots[g],D=y.intersectsSegment(t,e,i,n,a,s,r);if(D>0){if(!a&&!s){f=y;break}if(a){var T=o?a.y-e:a.x-t;T<0&&(T=-T),(!f||T<l)&&(l=T,u=a.x,A=a.y,f=y,r&&(d=r.x))}if(s){var T=s.x-t;T<0&&(T=-T),(!m||T>h)&&(h=T,_=s.x,c=s.y,m=y,r&&(p=r.y))}}}return f&&a&&(a.x=u,a.y=A,r&&(r.x=d)),m&&s&&(s.x=_,s.y=c,r&&(r.y=p)),f},i.prototype.getBone=function(t){for(var e=0,i=this._bones.length;e<i;++e){var n=this._bones[e];if(n.name===t)return n}return null},i.prototype.getBoneByDisplay=function(t){var e=this.getSlotByDisplay(t);return e?e.parent:null},i.prototype.getSlot=function(t){for(var e=0,i=this._slots.length;e<i;++e){var n=this._slots[e];if(n.name===t)return n}return null},i.prototype.getSlotByDisplay=function(t){if(t)for(var e=0,i=this._slots.length;e<i;++e){var n=this._slots[e];if(n.display===t)return n}return null},i.prototype.addBone=function(e,i){if(void 0===i&&(i=null),!e)throw new Error(t.DragonBones.ARGUMENT_ERROR);e._setArmature(this),e._setParent(i?this.getBone(i):null)},i.prototype.removeBone=function(e){if(!e||e.armature!==this)throw new Error(t.DragonBones.ARGUMENT_ERROR);e._setParent(null),e._setArmature(null)},i.prototype.addSlot=function(e,i){var n=this.getBone(i);if(!n)throw new Error(t.DragonBones.ARGUMENT_ERROR);e._setArmature(this),e._setParent(n)},i.prototype.removeSlot=function(e){if(!e||e.armature!==this)throw new Error(t.DragonBones.ARGUMENT_ERROR);e._setParent(null),e._setArmature(null)},i.prototype.replaceTexture=function(t){this.replacedTexture=t},i.prototype.getBones=function(){return this._bones},i.prototype.getSlots=function(){return this._slots},Object.defineProperty(i.prototype,"name",{get:function(){return this._armatureData?this._armatureData.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"armatureData",{get:function(){return this._armatureData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"eventDispatcher",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this._display},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cacheFrameRate",{get:function(){return this._armatureData.cacheFrameRate},set:function(t){if(this._armatureData.cacheFrameRate!==t){this._armatureData.cacheFrames(t);for(var e=0,i=this._slots.length;e<i;++e){var n=this._slots[e].childArmature;n&&(n.cacheFrameRate=t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clock",{get:function(){return this._clock},set:function(t){if(this._clock!==t){var e=this._clock;this._clock=t,e&&e.remove(this),this._clock&&this._clock.add(this);for(var i=0,n=this._slots.length;i<n;++i){var a=this._slots[i].childArmature;a&&(a.clock=this._clock)}}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"replacedTexture",{get:function(){return this._replacedTexture},set:function(t){this._replaceTextureAtlasData&&(this._replaceTextureAtlasData.returnToPool(),this._replaceTextureAtlasData=null),this._replacedTexture=t;for(var e=0,i=this._slots.length;e<i;++e){var n=this._slots[e];n.invalidUpdate(),n._update(-1)}},enumerable:!0,configurable:!0}),i.prototype.hasEventListener=function(t){return this._proxy.hasEvent(t)},i.prototype.addEventListener=function(t,e,i){this._proxy.addEvent(t,e,i)},i.prototype.removeEventListener=function(t,e,i){this._proxy.removeEvent(t,e,i)},i.prototype.enableAnimationCache=function(t){this.cacheFrameRate=t},i.prototype.getDisplay=function(){return this._display},i}(t.BaseObject);t.Armature=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._animationNames=[],t._animations={},t._animationStates=[],t}return __extends(i,e),i._sortAnimationState=function(t,e){return t.layer>e.layer?-1:1},i.toString=function(){return"[class dragonBones.Animation]"},i.prototype._onClear=function(){for(var t=0,e=this._animationStates.length;t<e;++t)this._animationStates[t].returnToPool();this._animationConfig&&this._animationConfig.returnToPool();for(var i in this._animations)delete this._animations[i];this.timeScale=1,this._isPlaying=!1,this._animationStateDirty=!1,this._timelineStateDirty=!1,this._cacheFrameIndex=-1,this._animationNames.length=0,this._animationStates.length=0,this._armature=null,this._lastAnimationState=null,this._animationConfig=null},i.prototype._fadeOut=function(t){var e=0,i=this._animationStates.length,n=null;switch(t.fadeOutMode){case 1:for(;e<i;++e)n=this._animationStates[e],n.layer===t.layer&&n.fadeOut(t.fadeOutTime,t.pauseFadeOut);break;case 2:for(;e<i;++e)n=this._animationStates[e],n.group===t.group&&n.fadeOut(t.fadeOutTime,t.pauseFadeOut);break;case 3:for(;e<i;++e)n=this._animationStates[e],n.layer===t.layer&&n.group===t.group&&n.fadeOut(t.fadeOutTime,t.pauseFadeOut);break;case 4:for(;e<i;++e)n=this._animationStates[e],n.fadeOut(t.fadeOutTime,t.pauseFadeOut);break;case 0:}},i.prototype._init=function(e){this._armature||(this._armature=e,this._animationConfig=t.BaseObject.borrowObject(t.AnimationConfig))},i.prototype._advanceTime=function(t){if(this._isPlaying){t<0&&(t=-t),this._armature.inheritAnimation&&this._armature._parent&&(t*=this._armature._parent._armature.animation.timeScale),1!==this.timeScale&&(t*=this.timeScale);var e=this._animationStates.length;if(1===e){var i=this._animationStates[0];if(i._fadeState>0&&i._subFadeState>0)i.returnToPool(),this._animationStates.length=0,this._animationStateDirty=!0,this._lastAnimationState=null;else{var n=i.animationData,a=n.cacheFrameRate;if(this._animationStateDirty&&a>0){this._animationStateDirty=!1;for(var s=this._armature.getBones(),r=0,o=s.length;r<o;++r){var l=s[r];l._cachedFrameIndices=n.getBoneCachedFrameIndices(l.name)}for(var h=this._armature.getSlots(),r=0,o=h.length;r<o;++r){var u=h[r];u._cachedFrameIndices=n.getSlotCachedFrameIndices(u.name)}}this._timelineStateDirty&&i._updateTimelineStates(),i._advanceTime(t,a)}}else if(e>1){for(var r=0,A=0;r<e;++r){var i=this._animationStates[r];i._fadeState>0&&i._subFadeState>0?(A++,i.returnToPool(),this._animationStateDirty=!0,this._lastAnimationState===i&&(this._lastAnimationState=null)):(A>0&&(this._animationStates[r-A]=i),this._timelineStateDirty&&i._updateTimelineStates(),i._advanceTime(t,0)),r===e-1&&A>0&&(this._animationStates.length-=A,!this._lastAnimationState&&this._animationStates.length>0&&(this._lastAnimationState=this._animationStates[this._animationStates.length-1]))}this._cacheFrameIndex=-1}else this._cacheFrameIndex=-1;this._timelineStateDirty=!1}},i.prototype.reset=function(){for(var t=0,e=this._animationStates.length;t<e;++t)this._animationStates[t].returnToPool();this._isPlaying=!1,this._animationStateDirty=!1,this._timelineStateDirty=!1,this._cacheFrameIndex=-1,this._animationConfig.clear(),this._animationStates.length=0,this._lastAnimationState=null},i.prototype.stop=function(t){if(void 0===t&&(t=null),t){var e=this.getState(t);e&&e.stop()}else this._isPlaying=!1},i.prototype.playConfig=function(e){if(!e)throw new Error(t.DragonBones.ARGUMENT_ERROR);var n=e.animationName?e.animationName:e.name,a=this._animations[n];if(!a)return console.warn("Non-existent animation.\n","DragonBones name: "+this._armature.armatureData.parent.name,"Armature name: "+this._armature.name,"Animation name: "+n),null;this._isPlaying=!0,e.playTimes<0&&(e.playTimes=a.playTimes),(e.fadeInTime<0||e.fadeInTime!==e.fadeInTime)&&(this._lastAnimationState?e.fadeInTime=a.fadeInTime:e.fadeInTime=0),(e.fadeOutTime<0||e.fadeOutTime!==e.fadeOutTime)&&(e.fadeOutTime=e.fadeInTime),(e.timeScale<=-100||e.timeScale!==e.timeScale)&&(e.timeScale=1/a.scale),a.duration>0?(e.position!==e.position?e.position=0:e.position<0?(e.position%=a.duration,e.position=a.duration-e.position):e.position===a.duration?e.position-=.001:e.position>a.duration&&(e.position%=a.duration),e.position+e.duration>a.duration&&(e.duration=a.duration-e.position)):(e.position=0,e.duration=-1);var s=0===e.duration;s&&(e.playTimes=1,e.duration=-1,e.fadeInTime=0),this._fadeOut(e),this._lastAnimationState=t.BaseObject.borrowObject(t.AnimationState),this._lastAnimationState._init(this._armature,a,e),this._animationStates.push(this._lastAnimationState),this._animationStateDirty=!0,this._cacheFrameIndex=-1,this._animationStates.length>1&&this._animationStates.sort(i._sortAnimationState);for(var r=this._armature.getSlots(),o=0,l=r.length;o<l;++o){var h=r[o].childArmature;h&&h.inheritAnimation&&h.animation.hasAnimation(n)&&!h.animation.getState(n)&&h.animation.fadeIn(n)}return e.fadeInTime<=0&&this._armature.advanceTime(0),s&&this._lastAnimationState.stop(),this._lastAnimationState},i.prototype.fadeIn=function(t,e,i,n,a,s){return void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===n&&(n=0),void 0===a&&(a=null),void 0===s&&(s=3),this._animationConfig.clear(),this._animationConfig.fadeOutMode=s,this._animationConfig.playTimes=i,this._animationConfig.layer=n,this._animationConfig.fadeInTime=e,this._animationConfig.animationName=t,this._animationConfig.group=a,this.playConfig(this._animationConfig)},i.prototype.play=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=-1),this._animationConfig.clear(),this._animationConfig.playTimes=e,this._animationConfig.fadeInTime=0,this._animationConfig.animationName=t,t)this.playConfig(this._animationConfig);else if(this._lastAnimationState)this._isPlaying&&(this._lastAnimationState.isPlaying||this._lastAnimationState.isCompleted)?(this._animationConfig.animationName=this._lastAnimationState.name,this.playConfig(this._animationConfig)):(this._isPlaying=!0,this._lastAnimationState.play());else{var i=this._armature.armatureData.defaultAnimation;i&&(this._animationConfig.animationName=i.name,this.playConfig(this._animationConfig))}return this._lastAnimationState},i.prototype.gotoAndPlayByTime=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.playTimes=i,this._animationConfig.position=e,this._animationConfig.fadeInTime=0,this._animationConfig.animationName=t,this.playConfig(this._animationConfig)},i.prototype.gotoAndPlayByFrame=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.playTimes=i,this._animationConfig.fadeInTime=0,this._animationConfig.animationName=t;var n=this._animations[t];return n&&(this._animationConfig.position=n.duration*e/n.frameCount),this.playConfig(this._animationConfig)},i.prototype.gotoAndPlayByProgress=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._animationConfig.clear(),this._animationConfig.playTimes=i,this._animationConfig.fadeInTime=0,this._animationConfig.animationName=t;var n=this._animations[t];return n&&(this._animationConfig.position=n.duration*(e>0?e:0)),this.playConfig(this._animationConfig)},i.prototype.gotoAndStopByTime=function(t,e){void 0===e&&(e=0);var i=this.gotoAndPlayByTime(t,e,1);return i&&i.stop(),i},i.prototype.gotoAndStopByFrame=function(t,e){void 0===e&&(e=0);var i=this.gotoAndPlayByFrame(t,e,1);return i&&i.stop(),i},i.prototype.gotoAndStopByProgress=function(t,e){void 0===e&&(e=0);var i=this.gotoAndPlayByProgress(t,e,1);return i&&i.stop(),i},i.prototype.getState=function(t){for(var e=0,i=this._animationStates.length;e<i;++e){var n=this._animationStates[e];if(n.name===t)return n}return null},i.prototype.hasAnimation=function(t){return null!=this._animations[t]},Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._animationStates.length>1?this._isPlaying&&!this.isCompleted:this._lastAnimationState?this._isPlaying&&this._lastAnimationState.isPlaying:this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCompleted",{get:function(){if(this._lastAnimationState){if(!this._lastAnimationState.isCompleted)return!1;for(var t=0,e=this._animationStates.length;t<e;++t)if(!this._animationStates[t].isCompleted)return!1;return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastAnimationName",{get:function(){return this._lastAnimationState?this._lastAnimationState.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastAnimationState",{get:function(){return this._lastAnimationState},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationConfig",{get:function(){return this._animationConfig},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationNames",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animations",{get:function(){return this._animations},set:function(t){if(this._animations!==t){this._animationNames.length=0;for(var e in this._animations)delete this._animations[e];if(t)for(var e in t)this._animations[e]=t[e],this._animationNames.push(e)}},enumerable:!0,configurable:!0}),i.prototype.gotoAndPlay=function(t,e,i,n,a,s,r,o,l){void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===a&&(a=0),void 0===s&&(s=null),void 0===r&&(r=3),void 0===o&&(o=!0),void 0===l&&(l=!0),this._animationConfig.clear(),this._animationConfig.fadeOutMode=r,this._animationConfig.playTimes=n,this._animationConfig.layer=a,this._animationConfig.fadeInTime=e,this._animationConfig.animationName=t,this._animationConfig.group=s;var h=this._animations[t];return h&&i>0&&(this._animationConfig.timeScale=h.duration/i),this.playConfig(this._animationConfig)},i.prototype.gotoAndStop=function(t,e){return void 0===e&&(e=0),this.gotoAndStopByTime(t,e)},Object.defineProperty(i.prototype,"animationList",{get:function(){return this._animationNames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationDataList",{get:function(){for(var t=[],e=0,i=this._animationNames.length;e<i;++e)t.push(this._animations[this._animationNames[e]]);return t},enumerable:!0,configurable:!0}),i}(t.BaseObject);e.None=0,e.SameLayer=1,e.SameGroup=2,e.SameLayerAndGroup=3,e.All=4,t.Animation=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._boneMask=[],t._animationNames=[],t._boneTimelines=[],t._slotTimelines=[],t._ffdTimelines=[],t.autoTween=!1,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.AnimationState]"},i.prototype._onClear=function(){for(var t=0,e=this._boneTimelines.length;t<e;++t)this._boneTimelines[t].returnToPool();for(var t=0,e=this._slotTimelines.length;t<e;++t)this._slotTimelines[t].returnToPool();for(var t=0,e=this._ffdTimelines.length;t<e;++t)this._ffdTimelines[t].returnToPool();this._timeline&&this._timeline.returnToPool(),this._zOrderTimeline&&this._zOrderTimeline.returnToPool(),this.displayControl=!0,this.additiveBlending=!1,this.actionEnabled=!1,this.playTimes=1,this.timeScale=1,this.weight=1,this.autoFadeOutTime=-1,this.fadeTotalTime=0,this._playheadState=0,this._fadeState=-1,this._subFadeState=-1,this._layer=0,this._position=0,this._duration=0,this._fadeTime=0,this._time=0,this._fadeProgress=0,this._weightResult=0,this._name=null,this._group=null,this._boneMask.length=0,this._animationNames.length=0,this._boneTimelines.length=0,this._slotTimelines.length=0,this._ffdTimelines.length=0,this._animationData=null,this._armature=null,this._timeline=null,this._zOrderTimeline=null},i.prototype._advanceFadeTime=function(e){var i=this._fadeState>0;if(this._subFadeState<0){this._subFadeState=0;var n=i?t.EventObject.FADE_OUT:t.EventObject.FADE_IN;if(this._armature.eventDispatcher.hasEvent(n)){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=this,this._armature._bufferEvent(a,n)}}if(e<0&&(e=-e),this._fadeTime+=e,this._fadeTime>=this.fadeTotalTime?(this._subFadeState=1,this._fadeProgress=i?0:1):this._fadeTime>0?this._fadeProgress=i?1-this._fadeTime/this.fadeTotalTime:this._fadeTime/this.fadeTotalTime:this._fadeProgress=i?1:0,this._subFadeState>0){i||(this._playheadState|=1,this._fadeState=0);var n=i?t.EventObject.FADE_OUT_COMPLETE:t.EventObject.FADE_IN_COMPLETE;if(this._armature.eventDispatcher.hasEvent(n)){var a=t.BaseObject.borrowObject(t.EventObject);a.animationState=this,this._armature._bufferEvent(a,n)}}},i.prototype._init=function(e,i,n){if(this._armature=e,this._animationData=i,this._name=n.name?n.name:n.animationName,this.actionEnabled=n.actionEnabled,this.additiveBlending=n.additiveBlending,this.displayControl=n.displayControl,this.playTimes=n.playTimes,this.timeScale=n.timeScale,this.fadeTotalTime=n.fadeInTime,this.autoFadeOutTime=n.autoFadeOutTime,this.weight=n.weight,n.pauseFadeIn?this._playheadState=2:this._playheadState=3,this._fadeState=-1,this._subFadeState=-1,this._layer=n.layer,this._time=n.position,this._group=n.group,n.duration<0?(this._position=0,this._duration=this._animationData.duration):(this._position=n.position,this._duration=n.duration),this.fadeTotalTime<=0&&(this._fadeProgress=.999999),n.boneMask.length>0){this._boneMask.length=n.boneMask.length;for(var a=0,s=this._boneMask.length;a<s;++a)this._boneMask[a]=n.boneMask[a]}if(n.animationNames.length>0){this._animationNames.length=n.animationNames.length;for(var a=0,s=this._animationNames.length;a<s;++a)this._animationNames[a]=n.animationNames[a]}this._timeline=t.BaseObject.borrowObject(t.AnimationTimelineState),this._timeline._init(this._armature,this,this._animationData),this._animationData.zOrderTimeline&&(this._zOrderTimeline=t.BaseObject.borrowObject(t.ZOrderTimelineState),this._zOrderTimeline._init(this._armature,this,this._animationData.zOrderTimeline)),this._updateTimelineStates()},i.prototype._updateTimelineStates=function(){for(var e={},i={},n={},a=0,s=this._boneTimelines.length;a<s;++a){var r=this._boneTimelines[a];e[r.bone.name]=r}for(var o=this._armature.getBones(),a=0,s=o.length;a<s;++a){var l=o[a],h=l.name;if(this.containsBoneMask(h)){var u=this._animationData.getBoneTimeline(h);if(u)if(e[h])delete e[h];else{var r=t.BaseObject.borrowObject(t.BoneTimelineState);r.bone=l,r._init(this._armature,this,u),this._boneTimelines.push(r)}}}for(var A in e){var r=e[A];r.bone.invalidUpdate(),this._boneTimelines.splice(this._boneTimelines.indexOf(r),1),r.returnToPool()}for(var a=0,s=this._slotTimelines.length;a<s;++a){var _=this._slotTimelines[a];i[_.slot.name]=_}for(var a=0,s=this._ffdTimelines.length;a<s;++a){var c=this._ffdTimelines[a],d=c._timelineData.display,p=d.inheritAnimation?d.mesh.name:d.name;n[p]=c}for(var f=this._armature.getSlots(),a=0,s=f.length;a<s;++a){var m=f[a],g=m.name,v=m.parent.name,y=!1;if(this.containsBoneMask(v)){var D=this._animationData.getSlotTimeline(g);if(D)if(i[g])delete i[g];else{var _=t.BaseObject.borrowObject(t.SlotTimelineState);_.slot=m,_._init(this._armature,this,D),this._slotTimelines.push(_)}var T=this._animationData.getFFDTimeline(this._armature._skinData.name,g);if(T)for(var A in T)if(n[A])delete n[A];else{var c=t.BaseObject.borrowObject(t.FFDTimelineState);c.slot=m,c._init(this._armature,this,T[A]),this._ffdTimelines.push(c)}else y=!0}else y=!0;if(y){for(var b=0,w=m._ffdVertices.length;b<w;++b)m._ffdVertices[b]=0;m._meshDirty=!0}}for(var A in i){var _=i[A];this._slotTimelines.splice(this._slotTimelines.indexOf(_),1),_.returnToPool()}for(var A in n){var c=n[A];this._ffdTimelines.splice(this._ffdTimelines.indexOf(c),1),c.returnToPool()}},i.prototype._advanceTime=function(t,e){if(0===this._fadeState&&0===this._subFadeState||this._advanceFadeTime(t),1!==this.timeScale&&(t*=this.timeScale),0!==t&&3===this._playheadState&&(this._time+=t),this._weightResult=this.weight*this._fadeProgress,0!==this._weightResult){var i=0===this._fadeState&&e>0,n=!0,a=!0,s=this._time;if(this._timeline.update(s),i&&(this._timeline._currentTime=Math.floor(this._timeline._currentTime*e)/e),this._zOrderTimeline&&this._zOrderTimeline.update(s),i){var r=Math.floor(this._timeline._currentTime*e);this._armature.animation._cacheFrameIndex===r?(n=!1,a=!1):(this._armature.animation._cacheFrameIndex=r,this._animationData.cachedFrames[r]?a=!1:this._animationData.cachedFrames[r]=!0)}if(n){if(a)for(var o=0,l=this._boneTimelines.length;o<l;++o)this._boneTimelines[o].update(s);for(var o=0,l=this._slotTimelines.length;o<l;++o)this._slotTimelines[o].update(s);for(var o=0,l=this._ffdTimelines.length;o<l;++o)this._ffdTimelines[o].update(s)}}0===this._fadeState&&(this._subFadeState>0&&(this._subFadeState=0),this._timeline._playState>0&&(this.autoFadeOutTime>=0&&this.fadeOut(this.autoFadeOutTime),this._animationNames.length>0))},i.prototype._isDisabled=function(t){return!(this.displayControl&&(!t.displayController||t.displayController===this._name||t.displayController===this._group))},i.prototype.play=function(){this._playheadState=3},i.prototype.stop=function(){this._playheadState&=1},i.prototype.fadeOut=function(t,e){if(void 0===e&&(e=!0),(t<0||t!==t)&&(t=0),e&&(this._playheadState&=2),this._fadeState>0){if(t>t-this._fadeTime)return}else{this._fadeState=1,this._subFadeState=-1,(t<=0||this._fadeProgress<=0)&&(this._fadeProgress=1e-6);for(var i=0,n=this._boneTimelines.length;i<n;++i)this._boneTimelines[i].fadeOut();for(var i=0,n=this._slotTimelines.length;i<n;++i)this._slotTimelines[i].fadeOut();for(var i=0,n=this._ffdTimelines.length;i<n;++i)this._ffdTimelines[i].fadeOut()}this.displayControl=!1,this.fadeTotalTime=this._fadeProgress>1e-6?t/this._fadeProgress:0,this._fadeTime=this.fadeTotalTime*(1-this._fadeProgress)},i.prototype.containsBoneMask=function(t){return 0===this._boneMask.length||this._boneMask.indexOf(t)>=0},i.prototype.addBoneMask=function(t,e){void 0===e&&(e=!0);var i=this._armature.getBone(t);if(i){if(this._boneMask.indexOf(t)<0&&this._boneMask.push(t),e)for(var n=this._armature.getBones(),a=0,s=n.length;a<s;++a){var r=n[a];this._boneMask.indexOf(r.name)<0&&i.contains(r)&&this._boneMask.push(r.name)}this._updateTimelineStates()}},i.prototype.removeBoneMask=function(t,e){void 0===e&&(e=!0);var i=this._boneMask.indexOf(t);if(i>=0&&this._boneMask.splice(i,1),e){var n=this._armature.getBone(t);if(n){var a=this._armature.getBones();if(this._boneMask.length>0)for(var s=0,r=a.length;s<r;++s){
var o=a[s],l=this._boneMask.indexOf(o.name);l>=0&&n.contains(o)&&this._boneMask.splice(l,1)}else for(var s=0,r=a.length;s<r;++s){var o=a[s];n.contains(o)||this._boneMask.push(o.name)}}}this._updateTimelineStates()},i.prototype.removeAllBoneMask=function(){this._boneMask.length=0,this._updateTimelineStates()},Object.defineProperty(i.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animationData",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCompleted",{get:function(){return this._timeline._playState>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return 2&this._playheadState&&this._timeline._playState<=0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlayTimes",{get:function(){return this._timeline._currentPlayTimes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){return this._timeline._currentTime},set:function(t){(t<0||t!==t)&&(t=0);var e=this._timeline._currentPlayTimes-(this._timeline._playState>0?1:0);if(t=t%this._duration+e*this._duration,this._time!==t){this._time=t,this._timeline.setCurrentTime(this._time),this._zOrderTimeline&&(this._zOrderTimeline._playState=-1);for(var i=0,n=this._boneTimelines.length;i<n;++i)this._boneTimelines[i]._playState=-1;for(var i=0,n=this._slotTimelines.length;i<n;++i)this._slotTimelines[i]._playState=-1;for(var i=0,n=this._ffdTimelines.length;i<n;++i)this._ffdTimelines[i]._playState=-1}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clip",{get:function(){return this._animationData},enumerable:!0,configurable:!0}),i}(t.BaseObject);t.AnimationState=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype._onClear=function(){this._playState=-1,this._currentPlayTimes=0,this._currentTime=-1,this._timelineData=null,this._frameRate=0,this._keyFrameCount=0,this._frameCount=0,this._position=0,this._duration=0,this._animationDutation=0,this._timeScale=1,this._timeOffset=0,this._currentFrame=null,this._armature=null,this._animationState=null,this._mainTimeline=null},e.prototype._onUpdateFrame=function(){},e.prototype._onArriveAtFrame=function(){},e.prototype._setCurrentTime=function(t){var e=this._playState,i=0,n=0;if(this._mainTimeline&&1===this._keyFrameCount)this._playState=this._mainTimeline._playState>=0?1:-1,i=1,n=this._mainTimeline._currentTime;else if(this._mainTimeline&&1===this._timeScale&&0===this._timeOffset)this._playState=this._mainTimeline._playState,i=this._mainTimeline._currentPlayTimes,n=this._mainTimeline._currentTime;else{var a=this._animationState.playTimes,s=a*this._duration;t*=this._timeScale,0!==this._timeOffset&&(t+=this._timeOffset*this._animationDutation),a>0&&(t>=s||t<=-s)?(this._playState<=0&&3===this._animationState._playheadState&&(this._playState=1),i=a,n=t<0?0:this._duration):(0!==this._playState&&3===this._animationState._playheadState&&(this._playState=0),t<0?(t=-t,i=Math.floor(t/this._duration),n=this._duration-t%this._duration):(i=Math.floor(t/this._duration),n=t%this._duration))}return n+=this._position,(this._currentPlayTimes!==i||this._currentTime!==n)&&((e<0&&this._playState!==e||this._playState<=0&&this._currentPlayTimes!==i)&&(this._currentFrame=null),this._currentPlayTimes=i,this._currentTime=n,!0)},e.prototype._init=function(t,e,i){this._armature=t,this._animationState=e,this._timelineData=i,this._mainTimeline=this._animationState._timeline,this===this._mainTimeline&&(this._mainTimeline=null),this._frameRate=this._armature.armatureData.frameRate,this._keyFrameCount=this._timelineData.frames.length,this._frameCount=this._animationState.animationData.frameCount,this._position=this._animationState._position,this._duration=this._animationState._duration,this._animationDutation=this._animationState.animationData.duration,this._timeScale=this._mainTimeline?1/this._timelineData.scale:1,this._timeOffset=this._mainTimeline?this._timelineData.offset:0},e.prototype.fadeOut=function(){},e.prototype.update=function(t){if(this._playState<=0&&this._setCurrentTime(t)){var e=this._keyFrameCount>1?Math.floor(this._currentTime*this._frameRate):0,i=this._timelineData.frames[e];this._currentFrame!==i&&(this._currentFrame=i,this._onArriveAtFrame()),this._onUpdateFrame()}},e}(t.BaseObject);t.TimelineState=e;var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i._getEasingValue=function(t,e){if(t<=0)return 0;if(t>=1)return 1;var i=1;if(e>2)return t;if(e>1)i=.5*(1-Math.cos(t*Math.PI)),e-=1;else if(e>0)i=1-Math.pow(1-t,2);else if(e>=-1)e*=-1,i=Math.pow(t,2);else{if(!(e>=-2))return t;e*=-1,i=Math.acos(1-2*t)/Math.PI,e-=1}return(i-t)*e+t},i._getEasingCurveValue=function(t,e){if(t<=0)return 0;if(t>=1)return 1;var i=e.length+1,n=Math.floor(t*i),a=0===n?0:e[n-1],s=n===i-1?1:e[n];return a+(s-a)*(t-n/i)},i.prototype._onClear=function(){e.prototype._onClear.call(this),this._tweenProgress=0,this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null},i.prototype._onArriveAtFrame=function(){this._keyFrameCount>1&&(this._currentFrame.next!==this._timelineData.frames[0]||0===this._animationState.playTimes||this._animationState.currentPlayTimes<this._animationState.playTimes-1)?(this._tweenEasing=this._currentFrame.tweenEasing,this._curve=this._currentFrame.curve):(this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null)},i.prototype._onUpdateFrame=function(){this._tweenEasing!==t.DragonBones.NO_TWEEN?(this._tweenProgress=(this._currentTime-this._currentFrame.position+this._position)/this._currentFrame.duration,0!==this._tweenEasing&&(this._tweenProgress=i._getEasingValue(this._tweenProgress,this._tweenEasing))):this._curve?(this._tweenProgress=(this._currentTime-this._currentFrame.position+this._position)/this._currentFrame.duration,this._tweenProgress=i._getEasingCurveValue(this._tweenProgress,this._curve)):this._tweenProgress=0},i}(e);t.TweenTimelineState=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.toString=function(){return"[class dragonBones.AnimationTimelineState]"},i.prototype._onCrossFrame=function(e){if(this._animationState.actionEnabled)for(var i=e.actions,n=0,a=i.length;n<a;++n)this._armature._bufferAction(i[n]);for(var s=this._armature.eventDispatcher,r=e.events,n=0,a=r.length;n<a;++n){var o=r[n],l=null;switch(o.type){case 10:l=t.EventObject.FRAME_EVENT;break;case 11:l=t.EventObject.SOUND_EVENT}if(s.hasEvent(l)||11===o.type){var h=t.BaseObject.borrowObject(t.EventObject);h.name=o.name,h.frame=e,h.data=o.data,h.animationState=this._animationState,o.bone&&(h.bone=this._armature.getBone(o.bone.name)),o.slot&&(h.slot=this._armature.getSlot(o.slot.name)),this._armature._bufferEvent(h,l)}}},i.prototype.update=function(e){var i=this._playState,n=this._currentPlayTimes,a=this._currentTime;if(this._playState<=0&&this._setCurrentTime(e)){var s=this._armature.eventDispatcher;if(i<0&&this._playState!==i&&(this._animationState.displayControl&&this._armature._sortZOrder(null),s.hasEvent(t.EventObject.START))){var r=t.BaseObject.borrowObject(t.EventObject);r.animationState=this._animationState,this._armature._bufferEvent(r,t.EventObject.START)}if(a<0)return;if(this._keyFrameCount>1){var o=Math.floor(this._currentTime*this._frameRate),l=this._timelineData.frames[o];if(this._currentFrame!==l){var h=this._currentPlayTimes===n&&a>this._currentTime,u=this._currentFrame;if(this._currentFrame=l,!u){var A=Math.floor(a*this._frameRate);u=this._timelineData.frames[A],h||a<=u.position&&(u=u.prev)}if(h)for(;u!==l;)this._onCrossFrame(u),u=u.prev;else for(;u!==l;)u=u.next,this._onCrossFrame(u)}}else this._keyFrameCount>0&&!this._currentFrame&&(this._currentFrame=this._timelineData.frames[0],this._onCrossFrame(this._currentFrame));if(this._currentPlayTimes!==n){if(s.hasEvent(t.EventObject.LOOP_COMPLETE)){var r=t.BaseObject.borrowObject(t.EventObject);r.animationState=this._animationState,this._armature._bufferEvent(r,t.EventObject.LOOP_COMPLETE)}if(this._playState>0&&s.hasEvent(t.EventObject.COMPLETE)){var r=t.BaseObject.borrowObject(t.EventObject);r.animationState=this._animationState,this._armature._bufferEvent(r,t.EventObject.COMPLETE)}}}},i.prototype.setCurrentTime=function(t){this._setCurrentTime(t),this._currentFrame=null},i}(t.TimelineState);t.AnimationTimelineState=e;var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.ZOrderTimelineState]"},e.prototype._onArriveAtFrame=function(){t.prototype._onArriveAtFrame.call(this),this._armature._sortZOrder(this._currentFrame.zOrder)},e}(t.TimelineState);t.ZOrderTimelineState=i;var n=function(e){function i(){var i=e.call(this)||this;return i._transform=new t.Transform,i._durationTransform=new t.Transform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.BoneTimelineState]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.bone=null,this._transformDirty=!1,this._tweenTransform=0,this._tweenRotate=0,this._tweenScale=0,this._transform.identity(),this._durationTransform.identity(),this._boneTransform=null,this._originalTransform=null},i.prototype._onArriveAtFrame=function(){if(e.prototype._onArriveAtFrame.call(this),this._tweenTransform=1,this._tweenRotate=1,this._tweenScale=1,this._keyFrameCount>1&&(this._tweenEasing!==t.DragonBones.NO_TWEEN||this._curve)){var i=this._currentFrame.transform,n=this._currentFrame.next,a=n.transform;this._durationTransform.x=a.x-i.x,this._durationTransform.y=a.y-i.y,0===this._durationTransform.x&&0===this._durationTransform.y||(this._tweenTransform=2);var s=this._currentFrame.tweenRotate;s!==t.DragonBones.NO_TWEEN?(s?((s>0?a.skewY>=i.skewY:a.skewY<=i.skewY)&&(s=s>0?s-1:s+1),this._durationTransform.skewX=a.skewX-i.skewX+t.DragonBones.PI_D*s,this._durationTransform.skewY=a.skewY-i.skewY+t.DragonBones.PI_D*s):(this._durationTransform.skewX=t.Transform.normalizeRadian(a.skewX-i.skewX),this._durationTransform.skewY=t.Transform.normalizeRadian(a.skewY-i.skewY)),0===this._durationTransform.skewX&&0===this._durationTransform.skewY||(this._tweenRotate=2)):(this._durationTransform.skewX=0,this._durationTransform.skewY=0),this._currentFrame.tweenScale?(this._durationTransform.scaleX=a.scaleX-i.scaleX,this._durationTransform.scaleY=a.scaleY-i.scaleY,0===this._durationTransform.scaleX&&0===this._durationTransform.scaleY||(this._tweenScale=2)):(this._durationTransform.scaleX=0,this._durationTransform.scaleY=0)}else this._durationTransform.x=0,this._durationTransform.y=0,this._durationTransform.skewX=0,this._durationTransform.skewY=0,this._durationTransform.scaleX=0,this._durationTransform.scaleY=0},i.prototype._onUpdateFrame=function(){e.prototype._onUpdateFrame.call(this);var t=0,i=this._currentFrame.transform;0!==this._tweenTransform&&(1===this._tweenTransform?(this._tweenTransform=0,t=0):t=this._tweenProgress,this._animationState.additiveBlending?(this._transform.x=i.x+this._durationTransform.x*t,this._transform.y=i.y+this._durationTransform.y*t):(this._transform.x=this._originalTransform.x+i.x+this._durationTransform.x*t,this._transform.y=this._originalTransform.y+i.y+this._durationTransform.y*t),this._transformDirty=!0),0!==this._tweenRotate&&(1===this._tweenRotate?(this._tweenRotate=0,t=0):t=this._tweenProgress,this._animationState.additiveBlending?(this._transform.skewX=i.skewX+this._durationTransform.skewX*t,this._transform.skewY=i.skewY+this._durationTransform.skewY*t):(this._transform.skewX=this._originalTransform.skewX+i.skewX+this._durationTransform.skewX*t,this._transform.skewY=this._originalTransform.skewY+i.skewY+this._durationTransform.skewY*t),this._transformDirty=!0),0!==this._tweenScale&&(1===this._tweenScale?(this._tweenScale=0,t=0):t=this._tweenProgress,this._animationState.additiveBlending?(this._transform.scaleX=i.scaleX+this._durationTransform.scaleX*t,this._transform.scaleY=i.scaleY+this._durationTransform.scaleY*t):(this._transform.scaleX=this._originalTransform.scaleX*(i.scaleX+this._durationTransform.scaleX*t),this._transform.scaleY=this._originalTransform.scaleY*(i.scaleY+this._durationTransform.scaleY*t)),this._transformDirty=!0)},i.prototype._init=function(t,i,n){e.prototype._init.call(this,t,i,n),this._originalTransform=this._timelineData.originalTransform,this._boneTransform=this.bone._animationPose},i.prototype.fadeOut=function(){this._transform.skewX=t.Transform.normalizeRadian(this._transform.skewX),this._transform.skewY=t.Transform.normalizeRadian(this._transform.skewY)},i.prototype.update=function(t){var i=this._animationState._layer,n=this._animationState._weightResult;this.bone._updateState<=0?(e.prototype.update.call(this,t),this.bone._blendLayer=i,this.bone._blendLeftWeight=1,this.bone._blendTotalWeight=n,this._boneTransform.x=this._transform.x*n,this._boneTransform.y=this._transform.y*n,this._boneTransform.skewX=this._transform.skewX*n,this._boneTransform.skewY=this._transform.skewY*n,this._boneTransform.scaleX=(this._transform.scaleX-1)*n+1,this._boneTransform.scaleY=(this._transform.scaleY-1)*n+1,this.bone._updateState=1):this.bone._blendLeftWeight>0&&(this.bone._blendLayer!==i&&(this.bone._blendTotalWeight>=this.bone._blendLeftWeight?this.bone._blendLeftWeight=0:(this.bone._blendLayer=i,this.bone._blendLeftWeight-=this.bone._blendTotalWeight,this.bone._blendTotalWeight=0)),n*=this.bone._blendLeftWeight,n>=0&&(e.prototype.update.call(this,t),this.bone._blendTotalWeight+=n,this._boneTransform.x+=this._transform.x*n,this._boneTransform.y+=this._transform.y*n,this._boneTransform.skewX+=this._transform.skewX*n,this._boneTransform.skewY+=this._transform.skewY*n,this._boneTransform.scaleX+=(this._transform.scaleX-1)*n,this._boneTransform.scaleY+=(this._transform.scaleY-1)*n,this.bone._updateState++)),this.bone._updateState>0&&(this._transformDirty||0!==this._animationState._fadeState||0!==this._animationState._subFadeState)&&(this._transformDirty=!1,this.bone.invalidUpdate())},i}(t.TweenTimelineState);t.BoneTimelineState=n;var a=function(e){function i(){var i=e.call(this)||this;return i._color=new t.ColorTransform,i._durationColor=new t.ColorTransform,i}return __extends(i,e),i.toString=function(){return"[class dragonBones.SlotTimelineState]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.slot=null,this._colorDirty=!1,this._tweenColor=0,this._color.identity(),this._durationColor.identity(),this._slotColor=null},i.prototype._onArriveAtFrame=function(){if(e.prototype._onArriveAtFrame.call(this),this._animationState._isDisabled(this.slot))return this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null,void(this._tweenColor=0);var i=this._currentFrame.displayIndex;if(this._playState>=0&&this.slot.displayIndex!==i&&this.slot._setDisplayIndex(i),i>=0){this._tweenColor=0;var n=this._currentFrame.color;if(this._tweenEasing!==t.DragonBones.NO_TWEEN||this._curve){var a=this._currentFrame.next,s=a.color;n!==s&&(this._durationColor.alphaMultiplier=s.alphaMultiplier-n.alphaMultiplier,this._durationColor.redMultiplier=s.redMultiplier-n.redMultiplier,this._durationColor.greenMultiplier=s.greenMultiplier-n.greenMultiplier,this._durationColor.blueMultiplier=s.blueMultiplier-n.blueMultiplier,this._durationColor.alphaOffset=s.alphaOffset-n.alphaOffset,this._durationColor.redOffset=s.redOffset-n.redOffset,this._durationColor.greenOffset=s.greenOffset-n.greenOffset,this._durationColor.blueOffset=s.blueOffset-n.blueOffset,0===this._durationColor.alphaMultiplier&&0===this._durationColor.redMultiplier&&0===this._durationColor.greenMultiplier&&0===this._durationColor.blueMultiplier&&0===this._durationColor.alphaOffset&&0===this._durationColor.redOffset&&0===this._durationColor.greenOffset&&0===this._durationColor.blueOffset||(this._tweenColor=2))}0===this._tweenColor&&(this._slotColor.alphaMultiplier===n.alphaMultiplier&&this._slotColor.redMultiplier===n.redMultiplier&&this._slotColor.greenMultiplier===n.greenMultiplier&&this._slotColor.blueMultiplier===n.blueMultiplier&&this._slotColor.alphaOffset===n.alphaOffset&&this._slotColor.redOffset===n.redOffset&&this._slotColor.greenOffset===n.greenOffset&&this._slotColor.blueOffset===n.blueOffset||(this._tweenColor=1))}else this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null,this._tweenColor=0},i.prototype._onUpdateFrame=function(){e.prototype._onUpdateFrame.call(this);var t=0;if(0!==this._tweenColor&&this.slot.parent._blendLayer>=this._animationState._layer){1===this._tweenColor?(this._tweenColor=0,t=0):t=this._tweenProgress;var i=this._currentFrame.color;this._color.alphaMultiplier=i.alphaMultiplier+this._durationColor.alphaMultiplier*t,this._color.redMultiplier=i.redMultiplier+this._durationColor.redMultiplier*t,this._color.greenMultiplier=i.greenMultiplier+this._durationColor.greenMultiplier*t,this._color.blueMultiplier=i.blueMultiplier+this._durationColor.blueMultiplier*t,this._color.alphaOffset=i.alphaOffset+this._durationColor.alphaOffset*t,this._color.redOffset=i.redOffset+this._durationColor.redOffset*t,this._color.greenOffset=i.greenOffset+this._durationColor.greenOffset*t,this._color.blueOffset=i.blueOffset+this._durationColor.blueOffset*t,this._colorDirty=!0}},i.prototype._init=function(t,i,n){e.prototype._init.call(this,t,i,n),this._slotColor=this.slot._colorTransform},i.prototype.fadeOut=function(){this._tweenColor=0},i.prototype.update=function(t){if(e.prototype.update.call(this,t),0!==this._tweenColor||this._colorDirty)if(0!==this._animationState._fadeState||0!==this._animationState._subFadeState){var i=Math.pow(this._animationState._fadeProgress,4);this._slotColor.alphaMultiplier+=(this._color.alphaMultiplier-this._slotColor.alphaMultiplier)*i,this._slotColor.redMultiplier+=(this._color.redMultiplier-this._slotColor.redMultiplier)*i,this._slotColor.greenMultiplier+=(this._color.greenMultiplier-this._slotColor.greenMultiplier)*i,this._slotColor.blueMultiplier+=(this._color.blueMultiplier-this._slotColor.blueMultiplier)*i,this._slotColor.alphaOffset+=(this._color.alphaOffset-this._slotColor.alphaOffset)*i,this._slotColor.redOffset+=(this._color.redOffset-this._slotColor.redOffset)*i,this._slotColor.greenOffset+=(this._color.greenOffset-this._slotColor.greenOffset)*i,this._slotColor.blueOffset+=(this._color.blueOffset-this._slotColor.blueOffset)*i,this.slot._colorDirty=!0}else this._colorDirty&&(this._colorDirty=!1,this._slotColor.alphaMultiplier=this._color.alphaMultiplier,this._slotColor.redMultiplier=this._color.redMultiplier,this._slotColor.greenMultiplier=this._color.greenMultiplier,this._slotColor.blueMultiplier=this._color.blueMultiplier,this._slotColor.alphaOffset=this._color.alphaOffset,this._slotColor.redOffset=this._color.redOffset,this._slotColor.greenOffset=this._color.greenOffset,this._slotColor.blueOffset=this._color.blueOffset,this.slot._colorDirty=!0)},i}(t.TweenTimelineState);t.SlotTimelineState=a;var s=function(e){function i(){var t=e.call(this)||this;return t._ffdVertices=[],t._durationFFDVertices=[],t}return __extends(i,e),i.toString=function(){return"[class dragonBones.FFDTimelineState]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this.slot=null,this._ffdDirty=!1,this._tweenFFD=0,this._ffdVertices.length=0,this._durationFFDVertices.length=0,this._slotFFDVertices=null},i.prototype._onArriveAtFrame=function(){if(e.prototype._onArriveAtFrame.call(this),this.slot.displayIndex>=0&&this._animationState._isDisabled(this.slot))return this._tweenEasing=t.DragonBones.NO_TWEEN,this._curve=null,void(this._tweenFFD=0);if(this._tweenFFD=0,this._tweenEasing!==t.DragonBones.NO_TWEEN||this._curve)for(var i=this._currentFrame.tweens,n=this._currentFrame.next.tweens,a=0,s=i.length;a<s;++a){var r=n[a]-i[a];this._durationFFDVertices[a]=r,0!==r&&(this._tweenFFD=2)}if(0===this._tweenFFD){this._tweenFFD=1;for(var a=0,s=this._durationFFDVertices.length;a<s;++a)this._durationFFDVertices[a]=0}},i.prototype._onUpdateFrame=function(){e.prototype._onUpdateFrame.call(this);var t=0;if(0!==this._tweenFFD&&this.slot.parent._blendLayer>=this._animationState._layer){1===this._tweenFFD?(this._tweenFFD=0,t=0):t=this._tweenProgress;for(var i=this._currentFrame.tweens,n=0,a=i.length;n<a;++n)this._ffdVertices[n]=i[n]+this._durationFFDVertices[n]*t;this._ffdDirty=!0}},i.prototype._init=function(t,i,n){e.prototype._init.call(this,t,i,n),this._slotFFDVertices=this.slot._ffdVertices,this._ffdVertices.length=this._timelineData.frames[0].tweens.length,this._durationFFDVertices.length=this._ffdVertices.length;for(var a=0,s=this._ffdVertices.length;a<s;++a)this._ffdVertices[a]=0;for(var a=0,s=this._durationFFDVertices.length;a<s;++a)this._durationFFDVertices[a]=0},i.prototype.fadeOut=function(){this._tweenFFD=0},i.prototype.update=function(t){if(e.prototype.update.call(this,t),this.slot._meshData===this._timelineData.display.mesh&&(0!==this._tweenFFD||this._ffdDirty))if(0!==this._animationState._fadeState||0!==this._animationState._subFadeState){for(var i=Math.pow(this._animationState._fadeProgress,4),n=0,a=this._ffdVertices.length;n<a;++n)this._slotFFDVertices[n]+=(this._ffdVertices[n]-this._slotFFDVertices[n])*i;this.slot._meshDirty=!0}else if(this._ffdDirty){this._ffdDirty=!1;for(var n=0,a=this._ffdVertices.length;n<a;++n)this._slotFFDVertices[n]=this._ffdVertices[n];this.slot._meshDirty=!0}},i}(t.TweenTimelineState);t.FFDTimelineState=s}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(){this.time=(new Date).getTime()/t.DragonBones.SECOND_TO_MILLISECOND,this.timeScale=1,this._animatebles=[],this._clock=null}return Object.defineProperty(e,"clock",{get:function(){return e._clock||(e._clock=new e),e._clock},enumerable:!0,configurable:!0}),e.prototype.advanceTime=function(e){if(e!==e&&(e=0),e<0&&(e=(new Date).getTime()/t.DragonBones.SECOND_TO_MILLISECOND-this.time),1!==this.timeScale&&(e*=this.timeScale),e<0?this.time-=e:this.time+=e,e){for(var i=0,n=0,a=this._animatebles.length;i<a;++i){var s=this._animatebles[i];s?(n>0&&(this._animatebles[i-n]=s,this._animatebles[i]=null),s.advanceTime(e)):n++}if(n>0){for(a=this._animatebles.length;i<a;++i){var s=this._animatebles[i];s?this._animatebles[i-n]=s:n++}this._animatebles.length-=n}}},e.prototype.contains=function(t){return this._animatebles.indexOf(t)>=0},e.prototype.add=function(e){e&&this._animatebles.indexOf(e)<0&&(this._animatebles.push(e),e.clock=this,t.DragonBones.debug&&e instanceof t.Armature&&t.DragonBones.addArmature(e))},e.prototype.remove=function(e){var i=this._animatebles.indexOf(e);i>=0&&(this._animatebles[i]=null,e.clock=null,t.DragonBones.debug&&e instanceof t.Armature&&t.DragonBones.removeArmature(e))},e.prototype.clear=function(){for(var t=0,e=this._animatebles.length;t<e;++t){var i=this._animatebles[t];this._animatebles[t]=null,null!=i&&(i.clock=null)}},Object.defineProperty(e.prototype,"clock",{get:function(){return this._clock},set:function(t){if(this._clock!==t){var e=this._clock;this._clock=t,e&&e.remove(this),this._clock&&this._clock.add(this)}},enumerable:!0,configurable:!0}),e}();e._clock=null,t.WorldClock=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.EventObject]"},e.prototype._onClear=function(){this.type=null,this.name=null,this.frame=null,this.data=null,this.armature=null,this.bone=null,this.slot=null,this.animationState=null},e}(t.BaseObject);e.START="start",e.LOOP_COMPLETE="loopComplete",e.COMPLETE="complete",e.FADE_IN="fadeIn",e.FADE_IN_COMPLETE="fadeInComplete",e.FADE_OUT="fadeOut",e.FADE_OUT_COMPLETE="fadeOutComplete",e.FRAME_EVENT="frameEvent",e.SOUND_EVENT="soundEvent",t.EventObject=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(){function e(i){void 0===i&&(i=null),this.autoSearch=!1,this._dragonBonesDataMap={},this._textureAtlasDataMap={},this._dataParser=null,this._dataParser=i,this._dataParser||(e._defaultParser||(e._defaultParser=new t.ObjectDataParser),this._dataParser=e._defaultParser)}return e.prototype._getTextureData=function(t,e){var i=this._textureAtlasDataMap[t];if(i)for(var n=0,a=i.length;n<a;++n){var s=i[n].getTexture(e);if(s)return s}if(this.autoSearch)for(var r in this._textureAtlasDataMap){i=this._textureAtlasDataMap[r];for(var n=0,a=i.length;n<a;++n){var o=i[n];if(o.autoSearch){var s=o.getTexture(e);if(s)return s}}}return null},e.prototype._fillBuildArmaturePackage=function(t,e,i,n,a){var s=null,r=null;if(e&&(s=this._dragonBonesDataMap[e],s&&(r=s.getArmature(i))),!r&&(!e||this.autoSearch))for(var o in this._dragonBonesDataMap)if(s=this._dragonBonesDataMap[o],(!e||s.autoSearch)&&(r=s.getArmature(i))){e=o;break}return!!r&&(t.dataName=e,t.textureAtlasName=a,t.data=s,t.armature=r,t.skin=r.getSkin(n),t.skin||(t.skin=r.defaultSkin),!0)},e.prototype._buildBones=function(e,i){for(var n=e.armature.sortedBones,a=0,s=n.length;a<s;++a){var r=n[a],o=t.BaseObject.borrowObject(t.Bone);o._init(r),r.parent?i.addBone(o,r.parent.name):i.addBone(o),r.ik&&(o.ikBendPositive=r.bendPositive,o.ikWeight=r.weight,o._setIK(i.getBone(r.ik.name),r.chain,r.chainIndex))}},e.prototype._buildSlots=function(t,e){var i=t.skin,n=t.armature.defaultSkin,a={};for(var s in n.slots){var r=n.slots[s];a[r.slot.name]=r}if(i!==n)for(var s in i.slots){var r=i.slots[s];a[r.slot.name]=r}for(var o=t.armature.sortedSlots,l=0,h=o.length;l<h;++l){var u=o[l],r=a[u.name];if(r){var A=this._generateSlot(t,r,e);A&&(e.addSlot(A,u.parent.name),A._setDisplayIndex(u.displayIndex))}}},e.prototype._replaceSlotDisplay=function(t,e,i,n){if(n<0&&(n=i.displayIndex),n>=0){var a=i.displayList;if(a.length<=n&&(a.length=n+1),i._replacedDisplayDatas.length<=n&&(i._replacedDisplayDatas.length=n+1),i._replacedDisplayDatas[n]=e,1===e.type){var s=this.buildArmature(e.path,t.dataName,null,t.textureAtlasName);a[n]=s}else{e.texture&&!t.textureAtlasName||(e.texture=this._getTextureData(t.textureAtlasName?t.textureAtlasName:t.dataName,e.path));var r=i.skinSlotData.displays;e.mesh||n<r.length&&r[n].mesh?a[n]=i.meshDisplay:a[n]=i.rawDisplay}i.displayList=a}},e.prototype.parseDragonBonesData=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1);var n=this._dataParser.parseDragonBonesData(t,i);return this.addDragonBonesData(n,e),n},e.prototype.parseTextureAtlasData=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=0);var a=this._generateTextureAtlasData(null,null);return this._dataParser.parseTextureAtlasData(t,a,n),this._generateTextureAtlasData(a,e),this.addTextureAtlasData(a,i),a},e.prototype.getDragonBonesData=function(t){return this._dragonBonesDataMap[t]},e.prototype.addDragonBonesData=function(e,i){if(void 0===i&&(i=null),!e)throw new Error(t.DragonBones.ARGUMENT_ERROR);i=i||e.name,i?this._dragonBonesDataMap[i]?console.warn("Same name data.",i):this._dragonBonesDataMap[i]=e:console.warn("Unnamed data.")},e.prototype.removeDragonBonesData=function(t,e){void 0===e&&(e=!0);var i=this._dragonBonesDataMap[t];i&&(e&&i.returnToPool(),delete this._dragonBonesDataMap[t])},e.prototype.getTextureAtlasData=function(t){return this._textureAtlasDataMap[t]},e.prototype.addTextureAtlasData=function(e,i){if(void 0===i&&(i=null),!e)throw new Error(t.DragonBones.ARGUMENT_ERROR);if(i=i||e.name){var n=this._textureAtlasDataMap[i]?this._textureAtlasDataMap[i]:this._textureAtlasDataMap[i]=[];n.indexOf(e)<0&&n.push(e)}else console.warn("Unnamed data.")},e.prototype.removeTextureAtlasData=function(t,e){void 0===e&&(e=!0);var i=this._textureAtlasDataMap[t];if(i){if(e)for(var n=0,a=i.length;n<a;++n)i[n].returnToPool();delete this._textureAtlasDataMap[t]}},e.prototype.clear=function(t){void 0===t&&(t=!0);for(var e in this._dragonBonesDataMap)t&&this._dragonBonesDataMap[e].returnToPool(),delete this._dragonBonesDataMap[e];for(var e in this._textureAtlasDataMap){if(t)for(var i=this._textureAtlasDataMap[e],n=0,a=i.length;n<a;++n)i[n].returnToPool();delete this._textureAtlasDataMap[e]}},e.prototype.buildArmature=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null);var a={};if(this._fillBuildArmaturePackage(a,e,t,i,n)){var s=this._generateArmature(a);return this._buildBones(a,s),this._buildSlots(a,s),s.invalidUpdate(null,!0),s.advanceTime(0),s}return console.warn("No armature data.",t,e?e:""),null},e.prototype.copyAnimationsToArmature=function(e,i,n,a,s){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=!0);var r={};if(this._fillBuildArmaturePackage(r,a,i,n,null)){var o=r.armature;if(s)e.animation.animations=o.animations;else{var l={};for(var h in e.animation.animations)l[h]=e.animation.animations[h];for(var h in o.animations)l[h]=o.animations[h];e.animation.animations=l}if(r.skin){for(var u=e.getSlots(),A=0,_=u.length;A<_;++A)for(var c=u[A],d=c.displayList,p=0,f=d.length;p<f;++p){var m=d[p];if(m instanceof t.Armature){var g=r.skin.getSlot(c.name).displays;if(p<g.length){var v=g[p];1===v.type&&this.copyAnimationsToArmature(m,v.path,n,a,s)}}}return!0}}return!1},e.prototype.replaceSlotDisplay=function(t,e,i,n,a,s){void 0===s&&(s=-1);var r={};if(this._fillBuildArmaturePackage(r,t,e,null,null)){var o=r.skin.getSlot(i);if(o)for(var l=0,h=o.displays.length;l<h;++l){var u=o.displays[l];if(u.name===n){this._replaceSlotDisplay(r,u,a,s);break}}}},e.prototype.replaceSlotDisplayList=function(t,e,i,n){var a={};if(this._fillBuildArmaturePackage(a,t,e,null,null)){var s=a.skin.getSlot(i);if(s)for(var r=0,o=s.displays.length;r<o;++r){var l=s.displays[r];this._replaceSlotDisplay(a,l,n,r)}}},e.prototype.getAllDragonBonesData=function(){return this._dragonBonesDataMap},e.prototype.getAllTextureAtlasData=function(){return this._textureAtlasDataMap},e}();e._defaultParser=null,t.BaseFactory=e}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dragonBones;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.toString=function(){return"[class dragonBones.PixiTextureAtlasData]"},n.prototype._onClear=function(){e.prototype._onClear.call(this),this.texture&&(this.texture=null)},n.prototype.generateTexture=function(){return t.BaseObject.borrowObject(i)},n}(t.TextureAtlasData);t.PixiTextureAtlasData=e;var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.toString=function(){return"[class dragonBones.PixiTextureData]"},e.prototype._onClear=function(){t.prototype._onClear.call(this),this.texture&&(this.texture.destroy(),this.texture=null)},e}(t.TextureData);t.PixiTextureData=i}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype._onClear=function(){this._debugDrawer&&this._debugDrawer.destroy(!0),this._armature=null,this._debugDrawer=null,this.destroy()},i.prototype._dispatchEvent=function(t,e){this.emit(t,e)},i.prototype._debugDraw=function(t){if(!this._debugDrawer){this._debugDrawer=new PIXI.Sprite;var e=new PIXI.Graphics;this._debugDrawer.addChild(e)}if(t){this.addChild(this._debugDrawer);var e=this._debugDrawer.getChildAt(0);e.clear();for(var i=this._armature.getBones(),n=0,a=i.length;n<a;++n){var s=i[n],r=s.length,o=s.globalTransformMatrix.tx,l=s.globalTransformMatrix.ty,h=o+s.globalTransformMatrix.a*r,u=l+s.globalTransformMatrix.b*r;
e.lineStyle(2,s.ik?16711680:65535,.7),e.moveTo(o,l),e.lineTo(h,u),e.lineStyle(0,0,0),e.beginFill(65535,.7),e.drawCircle(o,l,3),e.endFill()}for(var A=this._armature.getSlots(),n=0,a=A.length;n<a;++n){var _=A[n],c=_.boundingBoxData;if(c){var d=this._debugDrawer.getChildByName(_.name);switch(d||(d=new PIXI.Graphics,d.name=_.name,this._debugDrawer.addChild(d)),d.clear(),d.beginFill(16711935,.3),c.type){case 0:d.drawRect(.5*-c.width,.5*-c.height,c.width,c.height);break;case 1:d.drawEllipse(.5*-c.width,.5*-c.height,c.width,c.height);break;case 2:for(var p=c.vertices,f=0,m=c.vertices.length;f<m;f+=2)0===f?d.moveTo(p[f],p[f+1]):d.lineTo(p[f],p[f+1])}d.endFill(),_._updateTransformAndMatrix();var g=_.globalTransformMatrix.tx-(_.globalTransformMatrix.a*_._pivotX+_.globalTransformMatrix.c*_._pivotY),v=_.globalTransformMatrix.ty-(_.globalTransformMatrix.b*_._pivotX+_.globalTransformMatrix.d*_._pivotY);d.setTransform(g,v,_.global.scaleX,_.global.scaleY,_.global.skewY,_.global.skewX-_.global.skewY)}else{var d=this._debugDrawer.getChildByName(_.name);d&&this._debugDrawer.removeChild(d)}}}else this._debugDrawer&&this._debugDrawer.parent===this&&this.removeChild(this._debugDrawer)},i.prototype.hasEvent=function(t){return this.listeners(t,!0)},i.prototype.addEvent=function(t,e,i){this.addListener(t,e,i)},i.prototype.removeEvent=function(t,e,i){this.removeListener(t,e,i)},i.prototype.dispose=function(t){void 0===t&&(t=!0),this._armature&&(this._armature.dispose(),this._armature=null)},Object.defineProperty(i.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"animation",{get:function(){return this._armature.animation},enumerable:!0,configurable:!0}),i.prototype.advanceTimeBySelf=function(e){e?this._armature.clock=t.PixiFactory._clock:this._armature.clock=null},i}(PIXI.Container);t.PixiArmatureDisplay=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._updateTransform="3"===PIXI.VERSION[0]?t._updateTransformV3:t._updateTransformV4,t}return __extends(i,e),i.toString=function(){return"[class dragonBones.PixiSlot]"},i.prototype._onClear=function(){e.prototype._onClear.call(this),this._renderDisplay=null},i.prototype._initDisplay=function(t){},i.prototype._disposeDisplay=function(t){t.destroy()},i.prototype._onUpdateDisplay=function(){this._renderDisplay=this._display?this._display:this._rawDisplay},i.prototype._addDisplay=function(){var t=this._armature.display;t.addChild(this._renderDisplay)},i.prototype._replaceDisplay=function(t){var e=this._armature.display,i=t;e.addChild(this._renderDisplay),e.swapChildren(this._renderDisplay,i),e.removeChild(i)},i.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)},i.prototype._updateZOrder=function(){var t=this._armature.display,e=t.getChildIndex(this._renderDisplay);e!==this._zOrder&&t.addChildAt(this._renderDisplay,this._zOrder<e?this._zOrder:this._zOrder+1)},i.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible},i.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=PIXI.BLEND_MODES.NORMAL;break;case 1:this._renderDisplay.blendMode=PIXI.BLEND_MODES.ADD;break;case 3:this._renderDisplay.blendMode=PIXI.BLEND_MODES.DARKEN;break;case 4:this._renderDisplay.blendMode=PIXI.BLEND_MODES.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=PIXI.BLEND_MODES.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=PIXI.BLEND_MODES.LIGHTEN;break;case 10:this._renderDisplay.blendMode=PIXI.BLEND_MODES.MULTIPLY;break;case 11:this._renderDisplay.blendMode=PIXI.BLEND_MODES.OVERLAY;break;case 12:this._renderDisplay.blendMode=PIXI.BLEND_MODES.SCREEN}},i.prototype._updateColor=function(){this._renderDisplay.alpha=this._colorTransform.alphaMultiplier},i.prototype._updateFrame=function(){var e=this._meshData&&this._display===this._meshDisplay,i=this._textureData;if(this._displayIndex>=0&&this._display&&i){var n=i.parent;this._armature.replacedTexture&&this._displayData&&n===this._displayData.texture.parent&&(n=this._armature._replaceTextureAtlasData,n||(n=t.BaseObject.borrowObject(t.PixiTextureAtlasData),n.copyFrom(i.parent),n.texture=this._armature.replacedTexture,this._armature._replaceTextureAtlasData=n),i=n.getTexture(i.name));var a=n.texture;if(a){if(i.texture||(i.texture=new PIXI.Texture(a,i.region,i.region,new PIXI.Rectangle(0,0,i.region.width,i.region.height),i.rotated)),e){var s=this._renderDisplay,r=n.width>0?n.width:a.width,o=n.height>0?n.height:a.height;s.uvs=new Float32Array(this._meshData.uvs),s.vertices=new Float32Array(this._meshData.vertices),s.indices=new Uint16Array(this._meshData.vertexIndices);for(var l=0,h=s.uvs.length;l<h;l+=2){var u=s.uvs[l],A=s.uvs[l+1];s.uvs[l]=(i.region.x+u*i.region.width)/r,s.uvs[l+1]=(i.region.y+A*i.region.height)/o}s.texture=i.texture,s.dirty++}else{var _=this._renderDisplay;_.texture=i.texture}return void this._updateVisible()}}if(e){var s=this._renderDisplay;s.visible=!1,s.texture=null,s.x=0,s.y=0}else{var _=this._renderDisplay;_.visible=!1,_.texture=null,_.x=0,_.y=0}},i.prototype._updateMesh=function(){var t=this._renderDisplay,e=this._ffdVertices.length>0;if(this._meshData.skinned)for(var i=0,n=0,a=this._meshData.vertices.length;i<a;i+=2){for(var s=i/2,r=this._meshData.boneIndices[s],o=this._meshData.boneVertices[s],l=this._meshData.weights[s],h=0,u=0,A=0,_=r.length;A<_;++A){var c=this._meshBones[r[A]],d=c.globalTransformMatrix,p=l[A],f=0,m=0;e?(f=o[2*A]+this._ffdVertices[n],m=o[2*A+1]+this._ffdVertices[n+1]):(f=o[2*A],m=o[2*A+1]),h+=(d.a*f+d.c*m+d.tx)*p,u+=(d.b*f+d.d*m+d.ty)*p,n+=2}t.vertices[i]=h,t.vertices[i+1]=u}else if(e)for(var g=this._meshData.vertices,i=0,a=this._meshData.vertices.length;i<a;i+=2){var h=g[i]+this._ffdVertices[i],u=g[i+1]+this._ffdVertices[i+1];t.vertices[i]=h,t.vertices[i+1]=u}},i.prototype._updateTransform=function(t){throw new Error},i.prototype._updateTransformV3=function(t){if(t)this._renderDisplay.setTransform(0,0,1,1,0,0,0,0,0);else{var e=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),i=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this._renderDisplay.setTransform(e,i,this.global.scaleX,this.global.scaleY,this.global.skewY,this.global.skewX-this.global.skewY,0)}},i.prototype._updateTransformV4=function(t){t?this._renderDisplay.setTransform(0,0,1,1,0,0,0,0,0):this._renderDisplay.setTransform(this.globalTransformMatrix.tx,this.globalTransformMatrix.ty,this.global.scaleX,this.global.scaleY,this.global.skewX,0,this.global.skewY-this.global.skewX,this._pivotX,this._pivotY)},i}(t.Slot);t.PixiSlot=e}(dragonBones||(dragonBones={}));var dragonBones;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var a=e.call(this,n)||this;return i._eventManager||(i._eventManager=new t.PixiArmatureDisplay,i._clock=new t.WorldClock,PIXI.ticker.shared.add(i._clockHandler,i)),a}return __extends(i,e),i._clockHandler=function(t){i._clock.advanceTime(-1)},Object.defineProperty(i,"factory",{get:function(){return i._factory||(i._factory=new i),i._factory},enumerable:!0,configurable:!0}),i.prototype._generateTextureAtlasData=function(e,i){return e?e.texture=i:e=t.BaseObject.borrowObject(t.PixiTextureAtlasData),e},i.prototype._generateArmature=function(e){var n=t.BaseObject.borrowObject(t.Armature),a=new t.PixiArmatureDisplay;return a._armature=n,n._init(e.armature,e.skin,a,a,i._eventManager),n},i.prototype._generateSlot=function(e,i,n){var a=t.BaseObject.borrowObject(t.PixiSlot);a._init(i,new PIXI.Sprite,new PIXI.mesh.Mesh(null,null,null,null,PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES));for(var s=[],r=0,o=i.displays.length;r<o;++r){var l=i.displays[r];switch(l.type){case 0:l.texture&&!e.textureAtlasName||(l.texture=this._getTextureData(e.textureAtlasName||e.dataName,l.path)),s.push(a.rawDisplay);break;case 2:l.texture&&!e.textureAtlasName||(l.texture=this._getTextureData(e.textureAtlasName||e.dataName,l.path)),!l.mesh&&l.share&&(l.mesh=i.getMesh(l.share)),s.push(a.meshDisplay);break;case 1:var h=this.buildArmature(l.path,e.dataName,null,e.textureAtlasName);if(h){if(h.inheritAnimation=l.inheritAnimation,!h.inheritAnimation){var u=i.slot.actions.length>0?i.slot.actions:h.armatureData.actions;if(u.length>0)for(var A=0,_=u.length;A<_;++A)h._bufferAction(u[A]);else h.animation.play()}l.armature=h.armatureData}s.push(h);break;default:s.push(null)}}return a._setDisplayList(s),a},i.prototype.buildArmatureDisplay=function(t,e,n,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===a&&(a=null);var s=this.buildArmature(t,e,n,a);if(s){var r=s.display;return i._clock.add(s),r}return null},i.prototype.getTextureDisplay=function(t,e){void 0===e&&(e=null);var i=this._getTextureData(e,t);if(i){if(!i.texture){var n=i.parent.texture,a=new PIXI.Rectangle(0,0,i.region.width,i.region.height);i.texture=new PIXI.Texture(n,null,i.region,a,i.rotated)}return new PIXI.Sprite(i.texture)}return null},Object.defineProperty(i.prototype,"soundEventManater",{get:function(){return i._eventManager},enumerable:!0,configurable:!0}),i}(t.BaseFactory);e._factory=null,e._eventManager=null,e._clock=null,t.PixiFactory=e}(dragonBones||(dragonBones={})),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,a,s,r,o,l=function(t){var e,n=t.split("."),a=i;for(e=0;n.length>e;e++)a[n[e]]=a=a[n[e]]||{};return a},h=l("com.greensock"),u=1e-10,A=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},_=function(){},c=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),d={},p=function(n,a,s,r){this.sc=d[n]?d[n].sc:[],d[n]=this,this.gsClass=null,this.func=s;var o=[];this.check=function(h){for(var u,A,_,c,f=a.length,m=f;--f>-1;)(u=d[a[f]]||new p(a[f],[])).gsClass?(o[f]=u.gsClass,m--):h&&u.sc.push(this);if(0===m&&s)for(A=("com.greensock."+n).split("."),_=A.pop(),c=l(A.join("."))[_]=this.gsClass=s.apply(s,o),r&&(i[_]=c,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return c}):n===e&&"undefined"!=typeof module&&module.exports&&(module.exports=c)),f=0;this.sc.length>f;f++)this.sc[f].check()},this.check(!0)},f=t._gsDefine=function(t,e,i,n){return new p(t,e,i,n)},m=h._class=function(t,e,i){return e=e||function(){},f(t,[],function(){return e},i),e};f.globals=i;var g=[0,0,1,1],v=[],y=m("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?g.concat(e):g},!0),D=y.map={},T=y.register=function(t,e,i,n){for(var a,s,r,o,l=e.split(","),u=l.length,A=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=l[u],a=n?m("easing."+s,null,!0):h.easing[s]||{},r=A.length;--r>-1;)o=A[r],D[s+"."+o]=D[o+s]=a[o]=t.getRatio?t:t[o]||new t};for(s=y.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=n.length;--a>-1;)s=n[a]+",Power"+a,T(new y(null,null,1,a),s,"easeOut",!0),T(new y(null,null,2,a),s,"easeIn"+(0===a?",easeNone":"")),T(new y(null,null,3,a),s,"easeInOut");D.linear=h.easing.Linear.easeIn,D.swing=h.easing.Quad.easeInOut;var b=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=b.prototype,s.addEventListener=function(t,e,i,n,a){a=a||0;var s,l,h=this._listeners[t],u=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)s=h[l],s.c===e&&s.s===i?h.splice(l,1):0===u&&a>s.pr&&(u=l+1);h.splice(u,0,{c:e,s:i,up:n,pr:a}),this!==r||o||r.wake()},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},s.dispatchEvent=function(t){var e,i,n,a=this._listeners[t];if(a)for(e=a.length,i=this._eventTarget;--e>-1;)n=a[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var w=t.requestAnimationFrame,P=t.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},S=E();for(n=["ms","moz","webkit","o"],a=n.length;--a>-1&&!w;)w=t[n[a]+"RequestAnimationFrame"],P=t[n[a]+"CancelAnimationFrame"]||t[n[a]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,n,a,s,l,h=this,A=E(),c=e!==!1&&w,d=500,p=33,f="tick",m=function(t){var e,r,o=E()-S;o>d&&(A+=o-p),S+=o,h.time=(S-A)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=s?.004:s-e),r=!0),t!==!0&&(a=n(m)),r&&h.dispatchEvent(f)};b.call(h),h.time=h.frame=0,h.tick=function(){m(!0)},h.lagSmoothing=function(t,e){d=t||1/u,p=Math.min(e,d,0)},h.sleep=function(){null!=a&&(c&&P?P(a):clearTimeout(a),n=_,a=null,h===r&&(o=!1))},h.wake=function(){null!==a?h.sleep():h.frame>10&&(S=E()-d+5),n=0===i?_:c&&w?w:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===r&&(o=!0),m(2)},h.fps=function(t){return arguments.length?(i=t,s=1/(i||60),l=this.time+s,void h.wake()):i},h.useRAF=function(t){return arguments.length?(h.sleep(),c=t,void h.fps(i)):c},h.fps(t),setTimeout(function(){c&&5>h.frame&&h.useRAF(!1)},1500)}),s=h.Ticker.prototype=new h.events.EventDispatcher,s.constructor=h.Ticker;var x=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,q){o||r.wake();var i=this.vars.useFrames?Q:q;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=x.ticker=new h.Ticker,s=x.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var O=function(){o&&E()-S>2e3&&r.wake(),setTimeout(O,2e3)};O(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},s._enabled=function(t,e){return o||r.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var a=this.vars;if(1===arguments.length)return a[t];null==e?delete a[t]:(a[t]=e,a[t+"Params"]=c(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,a[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(o||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,a=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:a._time)-(this._reversed?n-t:t)/this._timeScale,a._dirty||this._uncache(!1),a._timeline)for(;a._timeline;)a._timeline._time!==(a._startTime+a._totalTime)/a._timeScale&&a.totalTime(a._totalTime,!0),a=a._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),R.length&&Y())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(o||t||r.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var B=m("core.SimpleTimeline",function(t){x.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=B.prototype=new x,s.constructor=B,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,a=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;a;)n=a._next,(a._active||t>=a._startTime&&!a._paused)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=n},s.rawTime=function(){return o||r.wake(),this._totalTime};var C=m("TweenLite",function(e,i,n){if(x.call(this,i,n),this.render=C.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:C.selector(e)||e;var a,s,r,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?V[C.defaultOverwrite]:"number"==typeof l?l>>0:V[l],(o||e instanceof Array||e.push&&c(e))&&"number"!=typeof e[0])for(this._targets=r=A(e),this._propLookup=[],this._siblings=[],a=0;r.length>a;a++)s=r[a],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(r.splice(a--,1),this._targets=r=r.concat(A(s))):(this._siblings[a]=H(s,this,!1),1===l&&this._siblings[a].length>1&&z(s,this,null,1,this._siblings[a])):(s=r[a--]=C.selector(s),"string"==typeof s&&r.splice(a+1,1)):r.splice(a--,1);else this._propLookup={},this._siblings=H(e,this,!1),1===l&&this._siblings.length>1&&z(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-u,this.render(-this._delay))},!0),I=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},M=function(t,e){var i,n={};for(i in t)U[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};s=C.prototype=new x,s.constructor=C,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,C.version="1.16.1",C.defaultEase=s._ease=new y(null,null,1,1),C.defaultOverwrite="auto",C.ticker=r,C.autoSleep=120,C.lagSmoothing=function(t,e){r.lagSmoothing(t,e)},C.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(C.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var R=[],k={},N=C._internals={isArray:c,isSelector:I,lazyTweens:R},j=C._plugins={},F=N.tweenLookup={},L=0,U=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Q=x._rootFramesTimeline=new B,q=x._rootTimeline=new B,X=30,Y=N.lazyRender=function(){var t,e=R.length;for(k={};--e>-1;)t=R[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);R.length=0};q._startTime=r.time,Q._startTime=r.frame,q._active=Q._active=!0,setTimeout(Y,1),x._updateRoot=C.render=function(){var t,e,i;if(R.length&&Y(),q.render((r.time-q._startTime)*q._timeScale,!1,!1),Q.render((r.frame-Q._startTime)*Q._timeScale,!1,!1),R.length&&Y(),r.frame>=X){X=r.frame+(parseInt(C.autoSleep,10)||120);for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=q._first,(!i||i._paused)&&C.autoSleep&&!Q._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",x._updateRoot);var H=function(t,e,i){var n,a,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+L++)]||(F[s]={target:t,tweens:[]}),e&&(n=F[s].tweens,n[a=n.length]=e,i))for(;--a>-1;)n[a]===e&&n.splice(a,1);return F[s].tweens},W=function(t,e,i,n){var a,s,r=t.vars.onOverwrite;return r&&(a=r(t,e,i,n)),r=C.onOverwrite,r&&(s=r(t,e,i,n)),a!==!1&&s!==!1},z=function(t,e,i,n,a){var s,r,o,l;if(1===n||n>=4){for(l=a.length,s=0;l>s;s++)if((o=a[s])!==e)o._gc||W(o,e)&&o._enabled(!1,!1)&&(r=!0);else if(5===n)break;return r}var h,A=e._startTime+u,_=[],c=0,d=0===e._duration;for(s=a.length;--s>-1;)(o=a[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||G(e,0,d),0===G(o,h,d)&&(_[c++]=o)):A>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>A&&((d||!o._initted)&&2e-10>=A-o._startTime||(_[c++]=o)));for(s=c;--s>-1;)if(o=_[s],2===n&&o._kill(i,t,e)&&(r=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!W(o,e))continue;o._enabled(!1,!1)&&(r=!0)}return r},G=function(t,e,i){for(var n=t._timeline,a=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,a*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=a,s>e?s-e:i&&s===e||!t._initted&&2*u>s-e?u:(s+=t.totalDuration()/t._timeScale/a)>e+u?0:s-e-u};s._init=function(){var t,e,i,n,a,s=this.vars,r=this._overwrittenProps,o=this._duration,l=!!s.immediateRender,h=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),a={};for(n in s.startAt)a[n]=s.startAt[n];if(a.overwrite=!1,a.immediateRender=!0,a.lazy=l&&s.lazy!==!1,a.startAt=a.delay=null,this._startAt=C.to(this.target,0,a),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(s.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in s)U[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&s.lazy!==!1,i.immediateRender=l,this._startAt=C.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,s.easeParams):D[h]||C.defaultEase:C.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],r?r[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,r);if(e&&C._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(e,i,n,a){var s,r,o,l,h,u;if(null==e)return!1;k[e._gsTweenID]&&Y(),this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&this.vars.autoCSS!==!1&&M(this.vars,e);for(s in this.vars){if(u=this.vars[s],U[s])u&&(u instanceof Array||u.push&&c(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(j[s]&&(l=new j[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},r=l._overwriteProps.length;--r>-1;)i[l._overwriteProps[r]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=h={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},h.s=h.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),h.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-h.s||0;h&&h._next&&(h._next._prev=h)}return a&&this._kill(a,e)?this._initProps(e,i,n,a):this._overwrite>1&&this._firstPT&&n.length>1&&z(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,a)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(k[e._gsTweenID]=!0),o)},s.render=function(t,e,i){var n,a,s,r,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,a="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===u&&"isPause"!==this.data)&&h!==t&&(i=!0,h>u&&(a="onReverseComplete")),this._rawPrevTime=r=!e||t||h===t?t:u);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(a="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=r=!e||t||h===t?t:u)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var A=t/l,_=this._easeType,c=this._easePower;(1===_||3===_&&A>=.5)&&(A=1-A),3===_&&(A*=2),1===c?A*=A:2===c?A*=A*A:3===c?A*=A*A*A:4===c&&(A*=A*A*A*A),this.ratio=1===_?1-A:2===_?A:.5>t/l?A/2:1-A/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,R.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||v))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v)),a&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||v),0===l&&this._rawPrevTime===u&&r!==u&&(this._rawPrevTime=0))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:C.selector(e)||e;var n,a,s,r,o,l,h,u,A;if((c(e)||I(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n])&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,a=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,u=t!==a&&"all"!==a&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(C.onOverwrite||this.vars.onOverwrite)){for(s in h)o[s]&&(A||(A=[]),A.push(s));if(!W(this,i,e,A))return!1}for(s in h)(r=o[s])&&(r.pg&&r.t._kill(h)&&(l=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete o[s]),u&&(a[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],x.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-u,this.render(-this._delay)),this},s._enabled=function(t,e){if(o||r.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=H(n[i],this,!0);else this._siblings=H(this.target,this,!0)}return x.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&C._onPluginEvent(t?"_onEnable":"_onDisable",this)},C.to=function(t,e,i){return new C(t,e,i)},C.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new C(t,e,i)},C.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new C(t,e,n)},C.delayedCall=function(t,e,i,n,a){return new C(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,
onReverseCompleteScope:n,immediateRender:!1,lazy:!1,useFrames:a,overwrite:0})},C.set=function(t,e){return new C(t,0,e)},C.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:C.selector(t)||t;var i,n,a,s;if((c(t)||I(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(C.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],a=i;--a>-1;)s===n[a]&&n.splice(i,1)}else for(n=H(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},C.killTweensOf=C.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=C.getTweensOf(t,e),a=n.length;--a>-1;)n[a]._kill(i,t)};var Z=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Z.prototype},!0);if(s=Z.prototype,Z.version="1.10.1",Z.API=2,s._firstPT=null,s._addTween=function(t,e,i,n,a,s){var r,o;return null!=n&&(r="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:r,f:"function"==typeof t[e],n:a||e,r:s},o._next&&(o._next._prev=o),o):void 0},s.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},C._onPluginEvent=function(t,e){var i,n,a,s,r,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(r=o._next,n=a;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:a=o,(o._next=n)?n._prev=o:s=o,o=r}o=e._firstPT=a}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},Z.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===Z.API&&(j[(new t[e])._propName]=t[e]);return!0},f.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,a=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},r=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Z.call(this,i,n),this._overwriteProps=a||[]},t.global===!0),o=r.prototype=new Z(i);o.constructor=r,r.API=t.API;for(e in s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return r.version=t.version,Z.activate([r]),r},n=t._gsQueue){for(a=0;n.length>a;a++)n[a]();for(s in d)d[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");